{
  "filepath": "../implementations/go/lnd/chainntnfs/bitcoindnotify/driver.go",
  "package": "bitcoindnotify",
  "sections": [
    {
      "slug": "func createNewNotifier(args ...interface{}) (chainntnfs.ChainNotifier, error) {",
      "content": "func createNewNotifier(args ...interface{}) (chainntnfs.ChainNotifier, error) {\n\tif len(args) != 5 {\n\t\treturn nil, fmt.Errorf(\"incorrect number of arguments to \"+\n\t\t\t\".New(...), expected 5, instead passed %v\", len(args))\n\t}\n\n\tchainConn, ok := args[0].(*chain.BitcoindConn)\n\tif !ok {\n\t\treturn nil, errors.New(\"first argument to bitcoindnotify.New \" +\n\t\t\t\"is incorrect, expected a *chain.BitcoindConn\")\n\t}\n\n\tchainParams, ok := args[1].(*chaincfg.Params)\n\tif !ok {\n\t\treturn nil, errors.New(\"second argument to bitcoindnotify.New \" +\n\t\t\t\"is incorrect, expected a *chaincfg.Params\")\n\t}\n\n\tspendHintCache, ok := args[2].(chainntnfs.SpendHintCache)\n\tif !ok {\n\t\treturn nil, errors.New(\"third argument to bitcoindnotify.New \" +\n\t\t\t\"is incorrect, expected a chainntnfs.SpendHintCache\")\n\t}\n\n\tconfirmHintCache, ok := args[3].(chainntnfs.ConfirmHintCache)\n\tif !ok {\n\t\treturn nil, errors.New(\"fourth argument to bitcoindnotify.New \" +\n\t\t\t\"is incorrect, expected a chainntnfs.ConfirmHintCache\")\n\t}\n\n\tblockCache, ok := args[4].(*blockcache.BlockCache)\n\tif !ok {\n\t\treturn nil, errors.New(\"fifth argument to bitcoindnotify.New \" +\n\t\t\t\"is incorrect, expected a *blockcache.BlockCache\")\n\t}\n\n\treturn New(chainConn, chainParams, spendHintCache,\n\t\tconfirmHintCache, blockCache), nil\n}\n\n// init registers a driver for the BtcdNotifier concrete implementation of the\n// chainntnfs.ChainNotifier interface.",
      "length": 1259,
      "tokens": 149,
      "embedding": []
    },
    {
      "slug": "func init() {",
      "content": "func init() {\n\t// Register the driver.\n\tnotifierZMQ := &chainntnfs.NotifierDriver{\n\t\tNotifierType: notifierTypeZMQ,\n\t\tNew:          createNewNotifier,\n\t}\n\tif err := chainntnfs.RegisterNotifier(notifierZMQ); err != nil {\n\t\tpanic(fmt.Sprintf(\"failed to register notifier driver '%s': %v\",\n\t\t\tnotifierTypeZMQ, err))\n\t}\n\n\tnotifierRPC := &chainntnfs.NotifierDriver{\n\t\tNotifierType: notifierTypeRPCPolling,\n\t\tNew:          createNewNotifier,\n\t}\n\tif err := chainntnfs.RegisterNotifier(notifierRPC); err != nil {\n\t\tpanic(fmt.Sprintf(\"failed to register notifier driver '%s': %v\",\n\t\t\tnotifierTypeRPCPolling, err))\n\t}\n}\n",
      "length": 577,
      "tokens": 57,
      "embedding": []
    }
  ]
}