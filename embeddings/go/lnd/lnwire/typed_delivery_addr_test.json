{
  "filepath": "../implementations/go/lnd/lnwire/typed_delivery_addr_test.go",
  "package": "lnwire",
  "sections": [
    {
      "slug": "func TestDeliveryAddressEncodeDecode(t *testing.T) {",
      "content": "func TestDeliveryAddressEncodeDecode(t *testing.T) {\n\tt.Parallel()\n\n\taddr := DeliveryAddress(\n\t\tbytes.Repeat([]byte(\"a\"), deliveryAddressMaxSize),\n\t)\n\n\tvar extraData ExtraOpaqueData\n\terr := extraData.PackRecords(&addr)\n\tif err != nil {\n\t\tt.Fatal(err)\n\t}\n\n\tvar addr2 DeliveryAddress\n\ttlvs, err := extraData.ExtractRecords(&addr2)\n\tif err != nil {\n\t\tt.Fatal(err)\n\t}\n\n\tif _, ok := tlvs[DeliveryAddrType]; !ok {\n\t\tt.Fatalf(\"DeliveryAddrType not found in records\")\n\t}\n\n\tif !bytes.Equal(addr, addr2) {\n\t\tt.Fatalf(\"addr mismatch: expected %x, got %x\", addr[:],\n\t\t\taddr2[:])\n\t}\n}\n",
      "length": 492,
      "tokens": 61,
      "embedding": []
    }
  ]
}