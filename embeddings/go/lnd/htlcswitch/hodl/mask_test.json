{
  "filepath": "../implementations/go/lnd/htlcswitch/hodl/mask_test.go",
  "package": "hodl_test",
  "sections": [
    {
      "slug": "func TestMask(t *testing.T) {",
      "content": "func TestMask(t *testing.T) {\n\tif !build.IsDevBuild() {\n\t\tt.Fatalf(\"htlcswitch tests must be run with '-tags=dev'\")\n\t}\n\n\tfor i, test := range hodlMaskTests {\n\t\tfor j := uint32(0); i < 32; i++ {\n\t\t\tflag := hodl.Flag(1 << j)\n\t\t\t_, shouldBeActive := test.flags[flag]\n\n\t\t\tswitch {\n\t\t\tcase shouldBeActive && !test.mask.Active(flag):\n\t\t\t\tt.Fatalf(\"hodl mask test #%d -- \"+\n\t\t\t\t\t\"expected flag %s to be active\",\n\t\t\t\t\ti, flag)\n\n\t\t\tcase !shouldBeActive && test.mask.Active(flag):\n\t\t\t\tt.Fatalf(\"hodl mask test #%d -- \"+\n\t\t\t\t\t\"expected flag %s to be inactive\",\n\t\t\t\t\ti, flag)\n\t\t\t}\n\t\t}\n\t}\n}\n",
      "length": 525,
      "tokens": 78,
      "embedding": []
    }
  ]
}