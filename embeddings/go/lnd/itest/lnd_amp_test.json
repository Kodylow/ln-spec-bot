{
  "filepath": "../implementations/go/lnd/itest/lnd_amp_test.go",
  "package": "itest",
  "sections": [
    {
      "slug": "func testSendPaymentAMPInvoice(ht *lntest.HarnessTest) {",
      "content": "func testSendPaymentAMPInvoice(ht *lntest.HarnessTest) {\n\tsucceed := ht.Run(\"native payaddr\", func(t *testing.T) {\n\t\ttt := ht.Subtest(t)\n\t\ttestSendPaymentAMPInvoiceCase(tt, false)\n\t})\n\n\t// Abort the test if failed.\n\tif !succeed {\n\t\treturn\n\t}\n\n\tht.Run(\"external payaddr\", func(t *testing.T) {\n\t\ttt := ht.Subtest(t)\n\t\ttestSendPaymentAMPInvoiceCase(tt, true)\n\t})\n}\n",
      "length": 290,
      "tokens": 40,
      "embedding": [
        [
          0.01494445651769638,
          0.01224786788225174,
          0.006672857794910669,
          0.02751481719315052,
          0.007952537387609482,
          0.00787706021219492,
          -0.023095978423953056,
          -0.00617539556697011,
          -0.014862118288874626,
          -0.0223686546087265,
          0.03562517091631889,
          0.006432703696191311,
          -0.0027411894407123327,
          -0.016577506437897682,
          0.03568006306886673,
          0.0014992487849667668,
          -0.0023483657278120518,
          0.005623040720820427,
          0.011143158189952374,
          -0.01238509826362133,
          -0.045560695230960846,
          0.005475517362356186,
          -0.023192040622234344,
          0.03905594348907471,
          -0.002902435837313533,
          0.018553633242845535,
          0.027706939727067947,
          -0.023288102820515633,
          -0.019020218402147293,
          -0.003422198351472616,
          0.005050101317465305,
          -0.015397319570183754,
          -0.03795809671282768,
          -0.010120786726474762,
          -0.017840031534433365,
          -0.027912786230444908,
          -0.011122573167085648,
          -0.009921802207827568,
          0.008618107065558434,
          0.011678358539938927,
          0.023562563583254814,
          2.0799074263777584e-05,
          -0.0004747335333377123,
          0.013702516444027424,
          -0.00611707242205739,
          0.01748323068022728,
          0.019541695713996887,
          -0.04363946244120598,
          -0.01065598800778389,
          -0.0061616720631718636,
          -0.004250730387866497,
          -0.02815980277955532,
          -0.003952253144234419,
          0.0162618737667799,
          0.005667640827596188,
          0.008933738805353642,
          -0.0050912704318761826,
          0.010415833443403244,
          -0.01278993021696806,
          0.010525618679821491,
          -0.016851967200636864,
          0.030437838286161423,
          -0.017743969336152077,
          0.030986761674284935,
          -0.01609719730913639,
          -0.020996345207095146,
          -0.0067003038711845875,
          0.014395533129572868,
          -0.022382376715540886,
          -0.016989199444651604,
          0.025964107364416122,
          -0.0027531972154974937,
          -0.01163718942552805,
          -0.006216564681380987,
          0.03491156920790672,
          -0.029147867113351822,
          -0.023027362301945686,
          -0.014560209587216377,
          -0.030163375660777092,
          0.012645837850868702,
          0.017071537673473358,
          0.005489240400493145,
          0.002329496433958411,
          0.0326060876250267,
          0.012419406324625015,
          0.0005304836085997522,
          -0.004058606922626495,
          0.006998781580477953,
          0.004559500142931938,
          0.013736823573708534,
          0.015671780332922935,
          -0.014018147252500057,
          0.010388387367129326,
          0.020214127376675606,
          0.0012436560355126858,
          -0.005393178667873144,
          0.01109512709081173,
          0.031288668513298035,
          -0.003278105752542615,
          0.009578724391758442,
          -0.004295330494642258,
          -0.01605602726340294,
          0.006367518566548824,
          -0.004247299861162901,
          -0.018745755776762962,
          -1.3133436368661933e-05,
          -0.006346934009343386,
          -0.023946810513734818,
          0.026142507791519165,
          0.00808290671557188,
          0.008515183813869953,
          0.027693217620253563,
          -0.0005832317983731627,
          -0.00032592364004813135,
          -0.02013178914785385,
          -0.001902364892885089,
          -0.016783352941274643,
          -0.0151640260592103,
          -0.0060724723152816296,
          -0.03584473952651024,
          0.01609719730913639,
          0.01764790713787079,
          0.03812277317047119,
          0.011767558753490448,
          -0.008048598654568195,
          0.00633664196357131,
          -0.004871700890362263,
          -0.026622815057635307,
          -0.002000141888856888,
          -0.02873617224395275,
          0.022684285417199135,
          0.037052370607852936,
          0.027761833742260933,
          -0.006031302735209465,
          0.013949532061815262,
          0.013736823573708534,
          -0.026279738172888756,
          -0.013668208383023739,
          -0.03913828358054161,
          -0.0019212340703234076,
          -0.016714736819267273,
          0.031398456543684006,
          -0.02721290849149227,
          0.03175525367259979,
          -0.04388647526502609,
          -0.013187900185585022,
          0.033868614584207535,
          0.009599309414625168,
          0.03331968933343887,
          -0.01031977217644453,
          0.006669426802545786,
          -0.002844112692400813,
          0.010477587580680847,
          -0.0032986903097480536,
          -0.01969265006482601,
          0.02493487484753132,
          -0.00501579325646162,
          0.017442060634493828,
          -0.0064532882533967495,
          -0.008364230394363403,
          -0.023082256317138672,
          0.05159885808825493,
          0.016591228544712067,
          -0.014573933556675911,
          0.019637757912278175,
          0.028571495786309242,
          0.007211489602923393,
          0.0030105053447186947,
          -0.007595736533403397,
          -0.03021826781332493,
          -0.00747908977791667,
          -0.018992772325873375,
          -0.04015379399061203,
          0.033292241394519806,
          -0.0039728377014398575,
          0.03046528436243534,
          0.004302192013710737,
          0.003815022064372897,
          -0.005389747675508261,
          -0.002830389654263854,
          0.02267056331038475,
          0.008364230394363403,
          0.009372877888381481,
          0.0407850556075573,
          0.0003544419596437365,
          -0.00269830459728837,
          -0.0014040448004379869,
          -0.015218919143080711,
          0.01605602726340294,
          -0.016110921278595924,
          0.004089483991265297,
          0.019898496568202972,
          -0.015644334256649017,
          -0.009613032452762127,
          -0.5752723813056946,
          -0.02887340448796749,
          -0.014889564365148544,
          0.0008619822910986841,
          0.03395095095038414,
          0.013688793405890465,
          0.017098983749747276,
          0.021408038213849068,
          -0.04350223019719124,
          0.02601899951696396,
          -0.009743401780724525,
          0.005135870538651943,
          0.005828887224197388,
          0.010415833443403244,
          0.022588223218917847,
          -0.010203125886619091,
          0.011822451837360859,
          0.0011758982436731458,
          -0.028214694932103157,
          0.013016360811889172,
          -0.015740396454930305,
          0.020817944779992104,
          -0.005115285981446505,
          -0.0022883270867168903,
          0.013119284063577652,
          -0.012831099331378937,
          0.00215967302210629,
          -0.007170320022851229,
          0.012124359607696533,
          -0.008474014699459076,
          -0.032276734709739685,
          0.0010360941523686051,
          -0.0017222492024302483,
          0.0022008423693478107,
          0.06466325372457504,
          0.013448638841509819,
          -0.026211122050881386,
          -0.010621679946780205,
          -0.007417336106300354,
          0.03812277317047119,
          -0.011541128158569336,
          -0.030273159965872765,
          -0.00012361511471681297,
          0.004394823219627142,
          0.03266097977757454,
          0.0031631747260689735,
          0.029092973098158836,
          -0.03452732041478157,
          0.01948680356144905,
          0.018443847075104713,
          -0.0032335056457668543,
          -0.009084693156182766,
          0.013222207315266132,
          0.01951424963772297,
          0.003358728950843215,
          0.008000567555427551,
          0.021298252046108246,
          0.01972009614109993,
          -0.004576654173433781,
          0.03902849927544594,
          -0.010717742145061493,
          -0.012474298477172852,
          -0.00013294254313223064,
          -0.016110921278595924,
          -0.00863869208842516,
          0.015507103875279427,
          -0.030986761674284935,
          0.040373362600803375,
          0.011877343989908695,
          0.010141371749341488,
          -0.01923978701233864,
          0.03104165382683277,
          -0.0024718735367059708,
          -0.017840031534433365,
          0.013983840122818947,
          0.02124335989356041,
          0.006686580833047628,
          0.003574867732822895,
          -0.014601379632949829,
          0.009366015903651714,
          -0.0007273243390955031,
          -0.026622815057635307,
          -0.003307267324998975,
          -0.056978315114974976,
          0.0008379668579436839,
          -0.022053023800253868,
          -0.014656271785497665,
          -0.03847957402467728,
          0.035021353513002396,
          -0.007499674800783396,
          0.013482946902513504,
          -0.010628541931509972,
          0.006964473519474268,
          -0.03353925794363022,
          -0.008069183677434921,
          -0.011698943562805653,
          -0.008673000149428844,
          0.02815980277955532,
          -0.016687290742993355,
          -0.013338853605091572,
          0.009393462911248207,
          0.02219025418162346,
          0.018114492297172546,
          -0.0022557347547262907,
          0.026622815057635307,
          0.005002070218324661,
          -0.002739473944529891,
          -0.012851684354245663,
          0.04331010580062866,
          -0.02253333106637001,
          -0.011177465319633484,
          -0.03842468187212944,
          0.006099918391555548,
          -0.0015344142448157072,
          -0.00979143287986517,
          -0.04808574542403221,
          0.03771108016371727,
          0.000226002317504026,
          0.020049450919032097,
          -0.0038356066215783358,
          0.03005359135568142,
          0.018279170617461205,
          0.020035726949572563,
          -0.024756474420428276,
          0.012584083713591099,
          0.01734600029885769,
          -0.0036915140226483345,
          -0.02002200484275818,
          0.019967110827565193,
          0.016618674620985985,
          8.941457781475037e-05,
          0.010388387367129326,
          0.053931787610054016,
          -0.013400607742369175,
          0.027432478964328766,
          0.013565285131335258,
          0.035872187465429306,
          -0.01860852539539337,
          0.010745188221335411,
          -0.035186029970645905,
          0.0005008931620977819,
          0.01248802151530981,
          0.01239882130175829,
          -0.021970683708786964,
          -0.014464148320257664,
          -0.038342345505952835,
          -0.03205716237425804,
          -0.024729028344154358,
          -0.01108140405267477,
          -0.0007569147855974734,
          -0.022821515798568726,
          0.0002055248769465834,
          -0.026691431179642677,
          -0.01799098588526249,
          -0.022505884990096092,
          -0.042816076427698135,
          0.030876977369189262,
          0.003194051794707775,
          0.003911083564162254,
          -0.0018783494597300887,
          0.00016467721434310079,
          0.03537815436720848,
          -0.007136012427508831,
          0.026073891669511795,
          -0.012110636569559574,
          0.008803369477391243,
          -0.010710880160331726,
          0.033017780631780624,
          0.010271741077303886,
          -0.029092973098158836,
          -0.0200906191021204,
          -0.015424765646457672,
          -0.0029761975165456533,
          0.012920299544930458,
          -0.0072869667783379555,
          0.0006441280711442232,
          0.0023157731629908085,
          -0.01238509826362133,
          -0.022039299830794334,
          -0.0050226547755301,
          0.0032729594968259335,
          0.019678926095366478,
          -0.0016887991223484278,
          0.0197887122631073,
          0.014834672212600708,
          0.008281891234219074,
          0.011040234938263893,
          0.033155012875795364,
          -0.005413763225078583,
          0.021366868168115616,
          -0.02747364714741707,
          0.01663239859044552,
          0.008384814485907555,
          0.006381242070347071,
          -0.017743969336152077,
          0.030876977369189262,
          -0.002051603514701128,
          0.009537555277347565,
          0.010155094787478447,
          0.004813377745449543,
          0.0003715958446264267,
          -0.013668208383023739,
          -0.001106424955651164,
          -0.0079799834638834,
          0.019541695713996887,
          -0.005760271567851305,
          0.00242727342993021,
          0.003941960632801056,
          0.004892285447567701,
          0.023356717079877853,
          0.010402110405266285,
          -0.0023552272468805313,
          -0.030849531292915344,
          8.582298323744908e-05,
          -0.008000567555427551,
          0.01255663763731718,
          0.0023397887125611305,
          -0.006130795460194349,
          0.03282565623521805,
          -0.019843604415655136,
          -0.0027463354635983706,
          -0.02829703316092491,
          0.008446568623185158,
          -0.002135657472535968,
          -0.031563133001327515,
          0.004134084098041058,
          0.0015584296779707074,
          0.005756840575486422,
          -0.008144659921526909,
          0.00682038115337491,
          0.005341717042028904,
          0.036036863923072815,
          0.0300261452794075,
          0.015109133906662464,
          0.039495084434747696,
          0.005012362729758024,
          0.004381099715828896,
          0.0034599367063492537,
          0.0007534840260632336,
          0.014917010441422462,
          0.0001801157050067559,
          0.013901500962674618,
          0.01582273468375206,
          -0.013283961452543736,
          0.026238568127155304,
          0.006096487399190664,
          0.022313762456178665,
          0.024989767000079155,
          -0.018169386312365532,
          -0.015616889111697674,
          -0.01630304381251335,
          0.03153568506240845,
          -0.019198618829250336,
          0.017195045948028564,
          0.040510594844818115,
          -0.009667924605309963,
          0.002993351314216852,
          -0.006491026841104031,
          0.042404383420944214,
          0.014669994823634624,
          0.02931254357099533,
          0.047866176813840866,
          0.002847543451935053,
          -0.014244578778743744,
          0.013565285131335258,
          -0.015603166073560715,
          0.024825088679790497,
          -0.01141761988401413,
          -0.015438488684594631,
          0.015575719065964222,
          -0.00019544697715900838,
          -0.017538122832775116,
          -0.006144518498331308,
          -0.013153592124581337,
          0.03318245708942413,
          0.03148079290986061,
          0.004947178065776825,
          0.013942670077085495,
          0.023795856162905693,
          -0.024001702666282654,
          -0.019871050491929054,
          -0.02453690394759178,
          0.019363295286893845,
          0.010841249488294125,
          -0.008021152578294277,
          -0.03181014955043793,
          0.0031220053788274527,
          -0.03345692157745361,
          -0.02435850352048874,
          -0.0026760047767311335,
          0.011156881228089333,
          -0.0162618737667799,
          -0.01043641846626997,
          0.005990133620798588,
          0.014175963588058949,
          0.015932520851492882,
          0.03370393440127373,
          0.007019366137683392,
          0.020900283008813858,
          -0.011479374021291733,
          -0.009201339446008205,
          0.0038390373811125755,
          -0.03471944481134415,
          -0.022217700257897377,
          0.013832885771989822,
          0.003684652503579855,
          -0.028708726167678833,
          -0.013023222796618938,
          0.020035726949572563,
          -0.0007256089593283832,
          0.022409822791814804,
          -0.001389464014209807,
          0.007273243274539709,
          -0.012096913531422615,
          0.040812503546476364,
          0.008789646439254284,
          -0.015479657799005508,
          -0.0004119074437767267,
          0.012124359607696533,
          0.007787859532982111,
          -0.022382376715540886,
          -0.03867169842123985,
          -0.014491594396531582,
          0.01630304381251335,
          0.0044737309217453,
          0.03408818319439888,
          0.026101337745785713,
          0.019253510981798172,
          -0.0038493298925459385,
          -0.007890783250331879,
          -0.014862118288874626,
          -0.024180103093385696,
          -0.00022192827600520104,
          -0.019541695713996887,
          0.01409362442791462,
          -0.007465366739779711,
          -0.03106909990310669,
          -0.014162239618599415,
          0.027940234169363976,
          0.022080469876527786,
          -0.02216280810534954,
          -0.03622898459434509,
          0.031178884208202362,
          -0.008981769904494286,
          0.006978196557611227,
          -0.0029213051311671734,
          -0.0025885198265314102,
          0.023439057171344757,
          0.03954997658729553,
          -0.007513397838920355,
          0.006288610864430666,
          -0.02046114392578602,
          0.015616889111697674,
          -0.030300606042146683,
          -0.016357935965061188,
          -0.008165244944393635,
          -0.0003799583646468818,
          0.0033398596569895744,
          -0.036640677601099014,
          0.020214127376675606,
          0.01762046106159687,
          -0.003777283476665616,
          0.048607222735881805,
          -0.014971902593970299,
          0.012035159394145012,
          0.005297116935253143,
          -0.0016047450480982661,
          -0.009530693292617798,
          0.004737900570034981,
          -0.019459357485175133,
          -0.012343929149210453,
          -0.011829312890768051,
          -0.0022711732890456915,
          -0.001147594302892685,
          0.00970909371972084,
          -0.011705804616212845,
          0.010237433016300201,
          -0.01003158651292324,
          0.012899714522063732,
          0.01745578460395336,
          -0.03211205452680588,
          0.015314980410039425,
          0.01965148001909256,
          -0.010079617612063885,
          -0.021119851619005203,
          -0.03241396322846413,
          0.011952821165323257,
          -0.026320908218622208,
          -0.028681280091404915,
          -0.019898496568202972,
          -0.03642110899090767,
          -0.006528765428811312,
          -0.04149865731596947,
          -0.022217700257897377,
          -0.009290539659559727,
          0.006480734329670668,
          -0.03148079290986061,
          0.00916703138500452,
          0.010594233870506287,
          0.0073006898164749146,
          0.021668776869773865,
          0.008769061416387558,
          0.010429556481540203,
          0.012419406324625015,
          0.00677578104659915,
          -0.003941960632801056,
          -0.01582273468375206,
          -0.01333199255168438,
          -0.021998129785060883,
          0.016014859080314636,
          -0.0004640123515855521,
          0.00046487004146911204,
          -0.0012513753026723862,
          0.007094843313097954,
          -0.019939664751291275,
          0.021915791556239128,
          -0.010209986940026283,
          -0.03384116664528847,
          0.007506536319851875,
          0.008494599722325802,
          0.008048598654568195,
          0.02433105744421482,
          -0.03419796749949455,
          0.016179535537958145,
          0.012117497622966766,
          -0.03202971816062927,
          -0.019116278737783432,
          -0.002712027868255973,
          -0.03477433696389198,
          -0.00501579325646162,
          0.007506536319851875,
          -0.011259804479777813,
          -0.025977829471230507,
          -0.022492162883281708,
          0.031096545979380608,
          -0.017400892451405525,
          0.010203125886619091,
          -0.0008859977242536843,
          0.005355440080165863,
          -0.014450425282120705,
          -0.026444414630532265,
          0.0031923362985253334,
          -0.03364904224872589,
          0.0020035726483911276,
          -0.013592731207609177,
          0.014203409664332867,
          0.023095978423953056,
          0.009269954636693,
          -0.011294111609458923,
          0.021366868168115616,
          0.014244578778743744,
          0.014148516580462456,
          -0.009654201567173004,
          0.037656188011169434,
          -0.01731855235993862,
          -0.001265956088900566,
          0.0013877485180273652,
          -0.024509457871317863,
          -0.015369872562587261,
          -0.03167291730642319,
          -0.017195045948028564,
          -0.008062321692705154,
          -0.002115072915330529,
          0.02368607185781002,
          0.008432845585048199,
          -0.006093056872487068,
          0.015095410868525505,
          0.008487737737596035,
          0.015314980410039425,
          -0.02809118665754795,
          -0.012330206111073494,
          0.01409362442791462,
          0.02354884147644043,
          -0.009352292865514755,
          0.02876362018287182,
          0.007053673733025789,
          -0.009818878956139088,
          -0.0011707519879564643,
          -0.0011493096826598048,
          -0.019678926095366478,
          0.012227282859385014,
          0.0033827442675828934,
          -0.02717174030840397,
          0.018388954922556877,
          0.02066699042916298,
          0.012762484140694141,
          0.01331826951354742,
          0.002116788411512971,
          -0.020474866032600403,
          0.016110921278595924,
          -0.026375800371170044,
          0.0016373374965041876,
          -0.023837026208639145,
          -0.024070318788290024,
          -0.005763702560216188,
          -0.01131469663232565,
          -0.0017351146088913083,
          -0.0013302831212058663,
          0.01762046106159687,
          -0.0086249690502882,
          -0.020982621237635612,
          0.014601379632949829,
          -0.011143158189952374,
          -0.05022655054926872,
          -0.01174011267721653,
          0.013181038200855255,
          -0.058734871447086334,
          -0.01278993021696806,
          -0.019871050491929054,
          -0.016797075048089027,
          0.014573933556675911,
          -0.0030019283294677734,
          0.0020859113428741693,
          0.022931301966309547,
          0.01364076230674982,
          -0.013036945834755898,
          0.019033940508961678,
          0.016220705583691597,
          0.0033398596569895744,
          0.017236214131116867,
          -0.027706939727067947,
          -0.030135929584503174,
          0.00508097792044282,
          0.036448556929826736,
          0.01246743742376566,
          0.012858545407652855,
          0.023137148469686508,
          -0.010841249488294125,
          -0.025566136464476585,
          0.006851258222013712,
          -0.005859764292836189,
          0.006844396702945232,
          -0.004278176464140415,
          -0.02568964473903179,
          -0.018485017120838165,
          -0.046576205641031265,
          0.02795395627617836,
          -0.008974907919764519,
          0.002523335162550211,
          -0.016179535537958145,
          -0.03005359135568142,
          -0.0038424681406468153,
          -0.015905074775218964,
          -0.011486235074698925,
          0.009565001353621483,
          -0.01670101284980774,
          0.027020785957574844,
          0.0223686546087265,
          0.007012504618614912,
          0.03345692157745361,
          0.004875131417065859,
          -0.022135362029075623,
          -0.015548272989690304,
          -0.009523832239210606,
          0.0006269741570577025,
          -0.016577506437897682,
          0.047180019319057465,
          0.02859894186258316,
          -0.021860899403691292,
          0.020653266459703445,
          2.4712302547413856e-05,
          -0.006501318886876106,
          -0.03035549819469452,
          0.030876977369189262,
          0.021188467741012573,
          0.001199913676828146,
          -0.027391308918595314,
          -0.007561428472399712,
          -0.021929515525698662,
          0.0433649979531765,
          -0.015809012576937675,
          -0.006840965710580349,
          -0.007122289389371872,
          -0.01734600029885769,
          0.007458505220711231,
          0.007664351724088192,
          -0.013949532061815262,
          0.013579008169472218,
          -0.0021253651939332485,
          0.011499958112835884,
          0.013469223864376545,
          -0.009359154850244522,
          -0.03408818319439888,
          -0.0005746548413299024,
          -0.0004897431354038417,
          0.020447419956326485,
          -0.019061386585235596,
          0.010889280587434769,
          -0.00961989350616932,
          0.0026777200400829315,
          -0.003103136084973812,
          -0.002573081525042653,
          0.02084539085626602,
          0.031398456543684006,
          -0.02354884147644043,
          -0.0066008116118609905,
          0.04951294884085655,
          0.02273917756974697,
          0.01075891125947237,
          -0.024852534756064415,
          0.011987128295004368,
          -0.025456352159380913,
          0.009002353996038437,
          -0.001778856967575848,
          0.0338137187063694,
          -0.022780347615480423,
          0.01785375364124775,
          0.00714973546564579,
          -0.007506536319851875,
          0.015493380837142467,
          0.01473861001431942,
          -0.019747542217373848,
          0.0053451475687325,
          -0.013462361879646778,
          0.0015798719832673669,
          0.011753835715353489,
          -0.014272024855017662,
          -0.010292326100170612,
          0.03337458148598671,
          0.012508606538176537,
          0.000553212477825582,
          0.01812821626663208,
          -0.02168249897658825,
          0.005139301065355539,
          -0.023809580132365227,
          -0.011788143776357174,
          -0.016879413276910782,
          0.006401826627552509,
          -0.026513030752539635,
          -0.03364904224872589,
          0.012096913531422615,
          -0.019816158339381218,
          -0.023095978423953056,
          -0.059009332209825516,
          0.02446828968822956,
          0.011753835715353489,
          -0.010628541931509972,
          0.04062037914991379,
          -0.030712299048900604,
          0.02066699042916298,
          -0.001551568042486906,
          -0.02846171148121357,
          0.014409256167709827,
          -0.00024058311828412116,
          -0.003072259249165654,
          0.0054480708204209805,
          0.0300261452794075,
          -0.007904506288468838,
          -0.01407990138977766,
          0.013922085985541344,
          -0.008954322896897793,
          -0.017949815839529037,
          -0.005314270965754986,
          -0.01812821626663208,
          0.030382946133613586,
          0.009969832375645638,
          -0.02181973122060299,
          -0.02606016770005226,
          0.0016973760211840272,
          -0.006250872276723385,
          0.011410757899284363,
          -0.026032721623778343,
          -0.01517774909734726,
          -0.008103490807116032,
          -0.013366300612688065,
          0.017908645793795586,
          0.013688793405890465,
          -0.001603887416422367,
          -0.00464183883741498,
          0.030986761674284935,
          0.003612606320530176,
          0.024385949596762657,
          -0.00916703138500452,
          -0.052202675491571426,
          0.013565285131335258,
          0.03655834123492241,
          -0.01633048988878727,
          0.0009606170351617038,
          -0.027967680245637894,
          0.0046727159060537815,
          -0.04665854200720787,
          -0.006350365001708269,
          -0.033017780631780624,
          0.02276662364602089,
          0.016042305156588554,
          0.020625820383429527,
          -0.026924723759293556,
          0.012906576506793499,
          0.026691431179642677,
          0.014230855740606785,
          -0.03205716237425804,
          -0.01575412042438984,
          0.021133575588464737,
          0.011362727731466293,
          -0.02717174030840397,
          -0.005722532980144024,
          -0.028681280091404915,
          -0.035021353513002396,
          0.02504465915262699,
          0.0357075072824955,
          0.009393462911248207,
          0.019774988293647766,
          0.006137656979262829,
          -0.03249630331993103,
          0.009317985735833645,
          -0.001159602077677846,
          -0.021353144198656082,
          -0.03968720883131027,
          -0.0010669711045920849,
          -0.006192549131810665,
          -0.023054810240864754,
          0.012741899117827415,
          -0.005581871140748262,
          -0.012371375225484371,
          -0.0016913721337914467,
          0.004576654173433781,
          -0.00018150944379158318,
          -0.007520259357988834,
          -0.010724603198468685,
          -0.033155012875795364,
          -0.018622247502207756,
          0.0020327342208474874,
          0.007015935145318508,
          0.007485951296985149,
          0.009249369613826275,
          0.025895491242408752,
          0.014669994823634624,
          -0.014505317434668541,
          -0.019829880446195602,
          0.014930733479559422,
          -0.021023791283369064,
          -0.02246471680700779,
          0.00802801363170147,
          -0.021902069449424744,
          -0.005959256552159786,
          0.0010626825969666243,
          -0.0018852109787985682,
          0.014258301816880703,
          -0.03299033269286156,
          -0.010443279519677162,
          -0.012584083713591099,
          0.010518756695091724,
          -0.001658779801800847,
          -0.006621396169066429,
          -0.020543482154607773,
          0.015067964792251587,
          -0.002000141888856888,
          0.0036366216372698545,
          0.009201339446008205,
          -0.023658625781536102,
          0.016275597736239433,
          0.02548379823565483,
          0.002224857686087489,
          -0.0032266441266983747,
          0.0007835032884031534,
          -0.01616581343114376,
          -0.005489240400493145,
          -0.026348354294896126,
          -0.02606016770005226,
          -0.0162618737667799,
          0.19585609436035156,
          0.0007256089593283832,
          0.00024079754075501114,
          -0.0027875048108398914,
          -0.00918075442314148,
          0.01778513938188553,
          -0.013084976933896542,
          -0.004329638089984655,
          0.003384459763765335,
          0.012426267378032207,
          -0.004113499540835619,
          0.015273811295628548,
          -0.0018577647861093283,
          0.002523335162550211,
          0.00235008099116385,
          -0.024948596954345703,
          -0.024523181840777397,
          -0.0077055213041603565,
          -0.02615622989833355,
          -0.0016399105079472065,
          0.012899714522063732,
          0.0004987489664927125,
          0.009537555277347565,
          -0.01630304381251335,
          -0.016934307292103767,
          -0.03076719120144844,
          -0.002145949983969331,
          0.0005364874959923327,
          0.01609719730913639,
          0.025387736037373543,
          -0.03439009189605713,
          -0.02175111509859562,
          -0.0027977970894426107,
          -0.003694945015013218,
          0.007575151510536671,
          -0.003907653037458658,
          -0.0033673059660941362,
          0.0039728377014398575,
          0.008789646439254284,
          0.012783068232238293,
          0.017126429826021194,
          0.005180470645427704,
          0.01582273468375206,
          -0.0014632255770266056,
          -0.005231932271271944,
          0.004782500676810741,
          0.019184894859790802,
          0.005389747675508261,
          0.010779495351016521,
          0.023878196254372597,
          -0.02873617224395275,
          0.013901500962674618,
          0.023809580132365227,
          0.01849873922765255,
          -0.01224786788225174,
          -0.013661347329616547,
          0.043831583112478256,
          0.0010712596122175455,
          0.010930449701845646,
          0.016934307292103767,
          -0.005139301065355539,
          -0.0009872055379673839,
          0.0022334347013384104,
          0.038369789719581604,
          -0.021806007251143456,
          0.03167291730642319,
          -0.010065894573926926,
          -0.013270238414406776,
          0.029998699203133583,
          -0.009276816621422768,
          0.037656188011169434,
          -0.027501093223690987,
          0.012289036996662617,
          0.006154810544103384,
          -0.022245146334171295,
          -0.03721705079078674,
          0.00970909371972084,
          0.025826875120401382,
          0.0038767759688198566,
          0.01065598800778389,
          0.004902577959001064,
          0.020186681300401688,
          -0.012515467591583729,
          0.0008688438101671636,
          -0.00865927617996931,
          -0.0019315264653414488,
          -0.0031254361383616924,
          0.004250730387866497,
          0.018745755776762962,
          -0.00420956127345562,
          -0.013441776856780052,
          -0.011547989211976528,
          -0.004065468441694975,
          -0.013517254032194614,
          -0.0042678844183683395,
          0.004652131348848343,
          0.04119674861431122,
          -0.02131197601556778,
          -0.012584083713591099,
          -0.013613316230475903,
          0.0027823587879538536,
          0.03976954519748688,
          -0.004765346646308899,
          -0.036036863923072815,
          -0.009050385095179081,
          -0.023329271003603935,
          0.00024186965310946107,
          0.021627606824040413,
          -0.005839179269969463,
          -0.05030888691544533,
          0.007540843915194273,
          -0.04849743843078613,
          -0.017140153795480728,
          -0.014244578778743744,
          0.006257733795791864,
          0.015397319570183754,
          0.018828094005584717,
          0.009009215980768204,
          -0.016948029398918152,
          0.003794437274336815,
          -0.01255663763731718,
          -0.005804871674627066,
          0.001108140335418284,
          0.015644334256649017,
          0.011596020311117172,
          0.001794295385479927,
          -0.022519608959555626,
          -0.022780347615480423,
          0.024413395673036575,
          -0.0303280521184206,
          0.026952169835567474,
          0.015438488684594631,
          0.032166946679353714,
          -0.044847093522548676,
          -0.008940599858760834,
          0.015136579982936382,
          0.038232557475566864,
          0.007170320022851229,
          -0.026115061715245247,
          -0.01065598800778389,
          0.01873203180730343,
          0.010244295001029968,
          0.010731465183198452,
          -0.012611529789865017,
          -0.005736256018280983,
          -0.016248151659965515,
          0.03853446617722511,
          0.027116848155856133,
          0.006902719847857952,
          -0.01479350309818983,
          -0.048030853271484375,
          -0.017661631107330322,
          -0.006484165322035551,
          0.02057092823088169,
          0.013194761238992214,
          -0.02551124431192875,
          -0.028242141008377075,
          -0.036036863923072815,
          0.04158099740743637,
          -0.026828661561012268,
          -0.02050231210887432,
          0.0013946101535111666,
          0.00703995069488883,
          -0.006192549131810665,
          -0.027775555849075317,
          -0.0032952595502138138,
          -0.17093494534492493,
          0.0033827442675828934,
          0.012391960248351097,
          -0.006141087505966425,
          0.01292716059833765,
          0.0030105053447186947,
          0.020447419956326485,
          -0.010848111473023891,
          -0.015671780332922935,
          0.008384814485907555,
          0.030108483508229256,
          -0.03773852810263634,
          0.009290539659559727,
          0.02046114392578602,
          0.00014066178118810058,
          -0.0051839011721313,
          -0.025030935183167458,
          0.012151805683970451,
          0.025909215211868286,
          -0.0018920724978670478,
          0.03035549819469452,
          -0.00223686546087265,
          0.003061966970562935,
          0.015081687830388546,
          -0.006611103657633066,
          -0.011602881364524364,
          -0.03628388047218323,
          -0.019088832661509514,
          -0.023219486698508263,
          -0.02015923522412777,
          -0.024550627917051315,
          0.045423462986946106,
          -0.003629760118201375,
          -0.0207356046885252,
          0.01778513938188553,
          0.020447419956326485,
          0.007540843915194273,
          0.017949815839529037,
          0.022945024073123932,
          0.010175678879022598,
          -0.008089767768979073,
          0.012433129362761974,
          -0.0012522329343482852,
          0.022505884990096092,
          1.293241439270787e-06,
          0.0008576937834732234,
          0.016989199444651604,
          -0.012460575439035892,
          0.01602858118712902,
          -0.003509683068841696,
          0.039522528648376465,
          -0.022203976288437843,
          0.00529368594288826,
          0.03148079290986061,
          0.016344213858246803,
          -0.0003677362110465765,
          -0.02636207640171051,
          -0.005983272101730108,
          -0.011753835715353489,
          -0.0037532681599259377,
          -0.01612464338541031,
          -0.008679861202836037,
          0.00035680062137544155,
          0.006151380017399788,
          -0.008755338378250599,
          0.0027566279750317335,
          -0.018416400998830795,
          0.0124537143856287,
          -0.026746323332190514,
          0.0026142506394535303,
          -0.026334630325436592,
          -0.04591749608516693,
          0.01407990138977766,
          -0.030300606042146683,
          0.04951294884085655,
          0.0029504667036235332,
          -0.012529190629720688,
          0.008391676470637321,
          -0.018375232815742493,
          -0.0072526587173342705,
          -0.017167599871754646,
          0.04836020618677139,
          0.011815589852631092,
          0.018759479746222496,
          -0.002281465567648411,
          0.03370393440127373,
          0.021188467741012573,
          0.013153592124581337,
          0.01768907718360424,
          -0.022286316379904747,
          0.030245713889598846,
          -0.022890131920576096,
          -0.010052171535789967,
          -0.0015558565501123667,
          0.007293828297406435,
          0.0038356066215783358,
          0.009173893369734287,
          -0.009962971322238445,
          0.010930449701845646,
          -0.00023586579482071102,
          -0.004936885554343462,
          0.009654201567173004,
          0.01718132197856903,
          0.0028269586618989706,
          0.002358658006414771,
          0.02341160923242569,
          0.0017016645288094878,
          0.026348354294896126,
          0.014422979205846786,
          0.01140389684587717,
          -0.03548793867230415,
          0.023562563583254814,
          0.04487454146146774,
          0.031178884208202362,
          0.003616037080064416,
          0.004556069616228342,
          -0.0011561712017282844,
          -0.0369974784553051,
          -0.019569141790270805,
          -0.00655621150508523,
          0.04641152545809746,
          0.005832317750900984,
          -0.00528682442381978,
          0.012254728935658932,
          0.0036434833891689777,
          0.0009383170399814844,
          -0.10177051275968552,
          -0.011307834647595882,
          0.0030105053447186947,
          0.03875403851270676,
          -0.015109133906662464,
          -0.00019748399790842086,
          -0.015520826913416386,
          0.03331968933343887,
          -0.007938813418149948,
          0.050199102610349655,
          -0.026746323332190514,
          -0.010566787794232368,
          -0.018677139654755592,
          0.0034067598171532154,
          0.0056299022398889065,
          -0.023356717079877853,
          -0.004717316012829542,
          -0.015863904729485512,
          -0.006178826093673706,
          0.03411562740802765,
          -0.02165505290031433,
          -0.008041736669838428,
          0.025964107364416122,
          -0.053931787610054016,
          -0.00787706021219492,
          -0.022643117234110832,
          -0.014368086121976376,
          0.01616581343114376,
          0.020721882581710815,
          -0.014464148320257664,
          -0.002384388819336891,
          -0.0086249690502882,
          0.00020423834212124348,
          -0.0013860331382602453,
          0.028351927176117897,
          -0.02188834547996521,
          -0.013990701176226139,
          0.0024341349489986897,
          0.001051532570272684,
          -0.008515183813869953,
          0.005609317682683468,
          0.01731855235993862,
          0.027638325467705727,
          -0.021641330793499947,
          -0.031727809458971024,
          -0.012961468659341335,
          -0.016385382041335106,
          0.009160169400274754,
          0.007616321090608835,
          -0.02514072135090828,
          -0.02310970239341259,
          0.027199186384677887,
          -0.012563498690724373,
          0.003917945083230734,
          0.021600160747766495,
          -0.028406819328665733,
          0.02121591381728649,
          0.031590577214956284,
          -0.00841912254691124,
          0.0038493298925459385,
          -0.024660412222146988,
          0.013922085985541344,
          0.014121070504188538,
          0.015932520851492882,
          -0.00758201302960515,
          0.015589442104101181,
          -0.040373362600803375,
          -0.03911083564162254,
          0.004655561875551939,
          -0.011349004693329334,
          -0.024687858298420906,
          0.023329271003603935,
          0.011849897913634777,
          0.013963255099952221,
          -0.028845958411693573,
          0.024619242176413536,
          -0.026609092950820923,
          -0.017016645520925522,
          0.01458765659481287,
          0.026320908218622208,
          -0.025456352159380913,
          -0.02947722002863884,
          -0.016714736819267273,
          -0.021490376442670822,
          -0.006309195421636105,
          -0.007554566953331232,
          -0.013558424077928066,
          -0.0014949602773413062,
          -0.009434632025659084,
          -0.01863597147166729,
          0.020900283008813858,
          0.007451643701642752,
          0.013963255099952221,
          0.00769179780036211,
          -0.006110210437327623,
          -0.016440274193882942,
          -0.0389736071228981,
          -0.0019075110321864486,
          0.010196263901889324,
          -0.009530693292617798,
          -0.01517774909734726,
          0.00013626609870698303,
          -0.058021269738674164,
          0.020474866032600403,
          0.0030533899553120136,
          -0.006412118673324585,
          -0.020282743498682976,
          0.03299033269286156,
          -0.0003199197817593813,
          -0.028379373252391815,
          -0.01612464338541031,
          0.009736539795994759,
          -0.03551538661122322,
          0.03202971816062927,
          -0.0019057956524193287,
          -0.026252292096614838,
          -0.014004424214363098,
          -0.007383028045296669,
          0.008261307142674923,
          -0.004240438342094421,
          -0.0015146872028708458,
          0.04605472460389137,
          0.018828094005584717,
          -0.019130002707242966,
          -0.03181014955043793,
          -5.8269572036806494e-05,
          0.0035954525228589773,
          -0.0032695287372916937,
          -0.013832885771989822,
          0.009757124818861485,
          0.011397034861147404,
          0.00872789230197668,
          0.03211205452680588,
          0.007115427870303392,
          -0.013160454109311104,
          0.0018200261984020472,
          0.008762199431657791,
          0.0007084551034495234,
          0.013290823437273502,
          0.008618107065558434,
          0.020488590002059937,
          -0.015712950378656387,
          -0.012515467591583729,
          0.0005712240817956626,
          -0.0008456860668957233,
          -0.027569709345698357,
          -0.013942670077085495,
          -0.016577506437897682,
          0.004974624142050743,
          0.039659760892391205,
          0.021408038213849068,
          -0.0026657122652977705,
          0.015218919143080711,
          0.01226845197379589,
          -0.012796791270375252,
          -0.01524636521935463,
          -0.03913828358054161,
          -0.006648842245340347,
          0.002509612124413252,
          -0.009077831171452999,
          0.028653834015130997,
          0.011678358539938927,
          0.04273373633623123,
          0.03397839888930321,
          0.034444984048604965,
          -0.014889564365148544,
          0.018073324114084244,
          0.0013028369285166264,
          -0.03513113781809807,
          0.018759479746222496,
          0.011671497486531734,
          -0.056100036948919296,
          0.0034633674658834934,
          -0.01812821626663208,
          -0.025195613503456116,
          0.002067042049020529,
          0.0067243194207549095,
          0.017730245366692543,
          0.0056436252780258656,
          -0.011191188357770443,
          -0.006875273305922747,
          0.0074241976253688335,
          0.027830448001623154,
          0.01001100242137909,
          -0.01833406277000904,
          0.026622815057635307,
          -0.0028166663832962513,
          0.01479350309818983,
          -0.0024598657619208097,
          0.010223709978163242,
          -0.02219025418162346,
          -0.026746323332190514,
          -0.05588046833872795,
          -0.006216564681380987,
          -0.006120502948760986,
          -0.0005459220847114921,
          0.013867193832993507,
          0.02666398510336876,
          0.015040518715977669,
          0.024440841749310493,
          0.034884121268987656,
          0.007540843915194273,
          0.04256905987858772,
          0.019733818247914314,
          -0.01805960014462471,
          -0.008954322896897793,
          0.003684652503579855,
          0.007684936281293631,
          -0.046603649854660034,
          -0.010752049274742603,
          0.0008096629753708839,
          0.0052250707522034645,
          -0.01812821626663208,
          -0.018169386312365532,
          -0.0011664635967463255,
          0.008295614272356033,
          -0.027706939727067947,
          -0.0036469141487032175,
          -0.010635402984917164,
          0.008371091447770596,
          -0.03134356066584587,
          0.025799429044127464,
          0.017332276329398155,
          -0.0002020941028604284,
          0.04896402359008789,
          0.003478806000202894,
          0.020900283008813858,
          0.010607956908643246,
          -0.006947319954633713,
          0.02013178914785385,
          -0.0031237208750098944,
          -0.01261839084327221,
          0.025730814784765244,
          -0.000680580036714673,
          -0.0459449402987957,
          -0.024811366572976112,
          -0.01877320185303688,
          0.0009082977194339037,
          -0.026609092950820923,
          0.009715955704450607,
          -0.005019224248826504,
          0.04893657937645912,
          0.006840965710580349,
          -0.036915142089128494,
          -0.006247441750019789,
          0.003291828790679574,
          0.011596020311117172,
          -0.02527795173227787,
          -0.020982621237635612,
          0.010450141504406929,
          -0.026279738172888756,
          -0.009084693156182766,
          0.015795288607478142,
          0.008782784454524517,
          -0.0344175361096859,
          0.007074258290231228,
          0.0030911285430192947,
          0.014217132702469826,
          0.03337458148598671,
          0.0089474618434906,
          0.004418838303536177,
          0.038781482726335526,
          0.024523181840777397,
          0.012048882432281971,
          0.006628257688134909,
          -0.023356717079877853,
          -0.004734469577670097,
          0.02523678168654442,
          0.016508890315890312,
          0.012405683286488056,
          -0.03716215863823891,
          -0.01048444863408804,
          -0.008275030180811882,
          -0.018992772325873375,
          -0.02385075017809868,
          -0.0033021210692822933,
          -0.01194595918059349,
          -0.004240438342094421,
          -0.006333210971206427,
          0.033292241394519806,
          0.006377811077982187,
          -0.01799098588526249,
          0.001200771308504045,
          -0.028653834015130997,
          -0.016412828117609024,
          0.02795395627617836,
          0.009914940223097801,
          -0.02588176727294922,
          0.021023791283369064,
          -0.021558990702033043
        ]
      ]
    },
    {
      "slug": "func testSendPaymentAMPInvoiceCase(ht *lntest.HarnessTest,",
      "content": "func testSendPaymentAMPInvoiceCase(ht *lntest.HarnessTest,\n\tuseExternalPayAddr bool) {\n\n\tmts := newMppTestScenario(ht)\n\n\t// Subscribe to bob's invoices. Do this early in the test to make sure\n\t// that the subscription has actually been completed when we add an\n\t// invoice. Otherwise the notification will be missed.\n\treq := &lnrpc.InvoiceSubscription{}\n\tbobInvoiceSubscription := mts.bob.RPC.SubscribeInvoices(req)\n\n\tconst paymentAmt = btcutil.Amount(300000)\n\n\t// Set up a network with three different paths Alice <-> Bob. Channel\n\t// capacities are set such that the payment can only succeed if (at\n\t// least) three paths are used.\n\t//\n\t//              _ Eve _\n\t//             /       \\\n\t// Alice -- Carol ---- Bob\n\t//      \\              /\n\t//       \\__ Dave ____/\n\t//\n\tmppReq := &mppOpenChannelRequest{\n\t\tamtAliceCarol: 235000,\n\t\tamtAliceDave:  135000,\n\t\tamtCarolBob:   135000,\n\t\tamtCarolEve:   135000,\n\t\tamtDaveBob:    135000,\n\t\tamtEveBob:     135000,\n\t}\n\tmts.openChannels(mppReq)\n\tchanPointAliceDave := mts.channelPoints[1]\n\tchanPointDaveBob := mts.channelPoints[4]\n\n\tinvoice := &lnrpc.Invoice{\n\t\tValue: int64(paymentAmt),\n\t\tIsAmp: true,\n\t}\n\taddInvoiceResp := mts.bob.RPC.AddInvoice(invoice)\n\n\t// Ensure we get a notification of the invoice being added by Bob.\n\trpcInvoice := ht.ReceiveInvoiceUpdate(bobInvoiceSubscription)\n\n\trequire.False(ht, rpcInvoice.Settled)\n\trequire.Equal(ht, lnrpc.Invoice_OPEN, rpcInvoice.State)\n\trequire.Equal(ht, int64(0), rpcInvoice.AmtPaidSat)\n\trequire.Equal(ht, int64(0), rpcInvoice.AmtPaidMsat)\n\trequire.Equal(ht, 0, len(rpcInvoice.Htlcs))\n\n\t// Increase Dave's fee to make the test deterministic. Otherwise it\n\t// would be unpredictable whether pathfinding would go through Charlie\n\t// or Dave for the first shard.\n\texpectedPolicy := mts.updateDaveGlobalPolicy()\n\n\t// Make sure Alice has heard it for both Dave's channels.\n\tht.AssertChannelPolicyUpdate(\n\t\tmts.alice, mts.dave, expectedPolicy, chanPointAliceDave, false,\n\t)\n\tht.AssertChannelPolicyUpdate(\n\t\tmts.alice, mts.dave, expectedPolicy, chanPointDaveBob, false,\n\t)\n\n\t// Generate an external payment address when attempting to pseudo-reuse\n\t// an AMP invoice. When using an external payment address, we'll also\n\t// expect an extra invoice to appear in the ListInvoices response, since\n\t// a new invoice will be JIT inserted under a different payment address\n\t// than the one in the invoice.\n\tvar (\n\t\texpNumInvoices  = 1\n\t\texternalPayAddr []byte\n\t)\n\tif useExternalPayAddr {\n\t\texpNumInvoices = 2\n\t\texternalPayAddr = ht.Random32Bytes()\n\t}\n\n\tsendReq := &routerrpc.SendPaymentRequest{\n\t\tPaymentRequest: addInvoiceResp.PaymentRequest,\n\t\tPaymentAddr:    externalPayAddr,\n\t\tTimeoutSeconds: 60,\n\t\tFeeLimitMsat:   noFeeLimitMsat,\n\t}\n\tpayment := ht.SendPaymentAssertSettled(mts.alice, sendReq)\n\n\t// Check that Alice split the payment in at least three shards. Because\n\t// the hand-off of the htlc to the link is asynchronous (via a mailbox),\n\t// there is some non-determinism in the process. Depending on whether\n\t// the new pathfinding round is started before or after the htlc is\n\t// locked into the channel, different sharding may occur. Therefore we\n\t// can only check if the number of shards isn't below the theoretical\n\t// minimum.\n\tsucceeded := 0\n\tfor _, htlc := range payment.Htlcs {\n\t\tif htlc.Status == lnrpc.HTLCAttempt_SUCCEEDED {\n\t\t\tsucceeded++\n\t\t}\n\t}\n\n\tconst minExpectedShards = 3\n\trequire.GreaterOrEqual(ht, succeeded, minExpectedShards,\n\t\t\"expected num of shards not reached\")\n\n\t// When an external payment address is supplied, we'll get an extra\n\t// notification for the JIT inserted invoice, since it differs from the\n\t// original.\n\tif useExternalPayAddr {\n\t\tht.ReceiveInvoiceUpdate(bobInvoiceSubscription)\n\t}\n\n\t// There should now be a settle event for the invoice.\n\trpcInvoice = ht.ReceiveInvoiceUpdate(bobInvoiceSubscription)\n\n\t// Also fetch Bob's invoice from ListInvoices and assert it is equal to\n\t// the one received via the subscription.\n\tinvoices := ht.AssertNumInvoices(mts.bob, expNumInvoices)\n\tht.AssertInvoiceEqual(rpcInvoice, invoices[expNumInvoices-1])\n\n\t// Assert that the invoice is settled for the total payment amount and\n\t// has the correct payment address.\n\trequire.True(ht, rpcInvoice.Settled)\n\trequire.Equal(ht, lnrpc.Invoice_SETTLED, rpcInvoice.State)\n\trequire.Equal(ht, int64(paymentAmt), rpcInvoice.AmtPaidSat)\n\trequire.Equal(ht, int64(paymentAmt*1000), rpcInvoice.AmtPaidMsat)\n\n\t// Finally, assert that the same set id is recorded for each htlc, and\n\t// that the preimage hash pair is valid.\n\tvar setID []byte\n\trequire.Equal(ht, succeeded, len(rpcInvoice.Htlcs))\n\tfor _, htlc := range rpcInvoice.Htlcs {\n\t\trequire.NotNil(ht, htlc.Amp)\n\t\tif setID == nil {\n\t\t\tsetID = make([]byte, 32)\n\t\t\tcopy(setID, htlc.Amp.SetId)\n\t\t}\n\t\trequire.Equal(ht, setID, htlc.Amp.SetId)\n\n\t\t// Parse the child hash and child preimage, and assert they are\n\t\t// well-formed.\n\t\tchildHash, err := lntypes.MakeHash(htlc.Amp.Hash)\n\t\trequire.NoError(ht, err)\n\t\tchildPreimage, err := lntypes.MakePreimage(htlc.Amp.Preimage)\n\t\trequire.NoError(ht, err)\n\n\t\t// Assert that the preimage actually matches the hashes.\n\t\tvalidPreimage := childPreimage.Matches(childHash)\n\t\trequire.True(ht, validPreimage)\n\t}\n\n\t// The set ID we extract above should be shown in the final settled\n\t// state.\n\tampState := rpcInvoice.AmpInvoiceState[hex.EncodeToString(setID)]\n\trequire.Equal(ht, lnrpc.InvoiceHTLCState_SETTLED, ampState.State)\n\n\t// Finally, close all channels.\n\tmts.closeChannels()\n}\n\n// testSendPaymentAMPInvoiceRepeat tests that it's possible to pay an AMP\n// invoice multiple times by having the client generate a new setID each time.",
      "length": 5398,
      "tokens": 670,
      "embedding": [
        [
          0.018033631145954132,
          0.008444210514426231,
          -0.014970536343753338,
          0.008271738886833191,
          0.0139564024284482,
          0.009830881841480732,
          -0.014860154129564762,
          -0.0008830546285025775,
          -0.007499065715819597,
          -0.031376034021377563,
          0.03220389783382416,
          0.007078235037624836,
          0.0026215685065835714,
          -0.004915440920740366,
          0.03132084384560585,
          0.009485938586294651,
          0.008423513732850552,
          0.01679183542728424,
          0.019827336072921753,
          -0.023594116792082787,
          -0.05850237235426903,
          0.01399779599159956,
          -0.02322157844901085,
          0.02484970912337303,
          0.00491199130192399,
          0.002802663715556264,
          0.019661763682961464,
          -0.02748507633805275,
          -0.006826426368206739,
          0.003853015834465623,
          0.0040461840108036995,
          -0.02672620117664337,
          -0.03932352736592293,
          -0.01615714095532894,
          -0.019482392817735672,
          -0.02667101100087166,
          0.01811641827225685,
          -0.007492166943848133,
          0.0053604175336658955,
          0.00512585649266839,
          0.01007924135774374,
          -0.010989891365170479,
          -0.0024163273628801107,
          0.0008959900005720556,
          -0.006388348527252674,
          0.014184065163135529,
          0.02007569558918476,
          -0.043490443378686905,
          0.0005812293384224176,
          -0.012852584943175316,
          0.010093038901686668,
          -0.027761030942201614,
          -0.004901643376797438,
          0.027719637379050255,
          0.0033269773703068495,
          -0.00483610387891531,
          0.012086810544133186,
          0.011776361614465714,
          -0.007857806980609894,
          -0.0037633306346833706,
          -0.012121304869651794,
          0.01946859620511532,
          -0.009251377545297146,
          0.022642072290182114,
          -0.01468078326433897,
          -0.035598140209913254,
          -0.0127835962921381,
          0.014197862707078457,
          -0.024863507598638535,
          -0.0266296174377203,
          0.030410194769501686,
          0.0022697264794260263,
          0.004163464531302452,
          -0.024835912510752678,
          0.01623992621898651,
          -0.027595458552241325,
          -0.01632271334528923,
          -0.028699276968836784,
          -0.033694054931402206,
          0.005298328120261431,
          0.028092175722122192,
          0.013232022523880005,
          0.0011176160769537091,
          0.047878120094537735,
          0.021538255736231804,
          0.011410721577703953,
          -0.003487376030534506,
          0.015439658425748348,
          0.008278637193143368,
          0.03546016290783882,
          0.02224193885922432,
          -0.01773008145391941,
          0.01274220272898674,
          0.005291428882628679,
          0.0005596703849732876,
          0.003213146235793829,
          0.0057398551143705845,
          0.04246940836310387,
          -0.012714607641100883,
          0.0015798399690538645,
          -0.017840463668107986,
          -0.017481721937656403,
          -0.001767834066413343,
          -0.004342835396528244,
          -0.014818760566413403,
          0.007430077064782381,
          -0.010003353469073772,
          -0.013521774671971798,
          0.005950270686298609,
          -0.003884060773998499,
          0.016860824078321457,
          0.02850610762834549,
          -0.006029607728123665,
          0.017909452319145203,
          -0.018061228096485138,
          -0.0023680352605879307,
          -0.021234704181551933,
          -0.023538924753665924,
          0.005319024436175823,
          -0.03107248619198799,
          0.010851914063096046,
          0.015301681123673916,
          0.017398936673998833,
          -0.0015358596574515104,
          -0.0039564985781908035,
          0.015688017010688782,
          -0.008878838270902634,
          -0.020475829020142555,
          -0.004087577108293772,
          -0.018613135442137718,
          0.013701144605875015,
          0.012859483249485493,
          0.0030251520220190287,
          0.014059885405004025,
          0.004232453182339668,
          0.02348373457789421,
          -0.024435777217149734,
          -0.018599338829517365,
          -0.025594787672162056,
          -0.010293105617165565,
          -0.016557274386286736,
          0.03703310340642929,
          -0.02334575727581978,
          0.03352848067879677,
          -0.03648119419813156,
          0.004449767526239157,
          0.013935706578195095,
          0.014984333887696266,
          0.022048771381378174,
          -0.014225458726286888,
          -0.0005622574826702476,
          -0.00013830067473463714,
          -0.003264887724071741,
          0.009603219106793404,
          -0.004984429571777582,
          0.030713744461536407,
          -0.006864370312541723,
          0.009596320800483227,
          0.015798399224877357,
          -0.01738513819873333,
          -0.02905801683664322,
          0.04315929487347603,
          0.006184832192957401,
          -0.007844008505344391,
          0.010341397486627102,
          0.025194652378559113,
          0.003970296587795019,
          -0.01344588678330183,
          0.0020006706472486258,
          -0.022255737334489822,
          -0.0005467350129038095,
          -0.02807837910950184,
          -0.04484261944890022,
          0.03984783962368965,
          -0.0012478320859372616,
          0.03819211199879646,
          0.006778134498745203,
          0.009251377545297146,
          -0.008554591797292233,
          -0.009230680763721466,
          0.02530503459274769,
          0.006684999912977219,
          0.009306567721068859,
          0.059550996869802475,
          -0.010727734304964542,
          -0.005884731188416481,
          -0.012417956255376339,
          -0.006095146760344505,
          0.013225123286247253,
          -0.01561902929097414,
          0.021193312481045723,
          0.0037633306346833706,
          -0.010162027552723885,
          -0.009934364818036556,
          -0.5439616441726685,
          -0.02079317718744278,
          -0.0035494656767696142,
          0.004235902801156044,
          0.02436678856611252,
          0.016253724694252014,
          0.018944282084703445,
          0.015743209049105644,
          -0.04500819370150566,
          0.0362328365445137,
          0.0002550423960201442,
          -0.001748862094245851,
          0.01848895661532879,
          0.0004492885491345078,
          0.022062567993998528,
          -0.019027067348361015,
          -0.004670531023293734,
          0.000707133614923805,
          -0.01750931888818741,
          0.03132084384560585,
          -0.01862693391740322,
          0.002214535605162382,
          -0.015867387875914574,
          -0.00277506816200912,
          0.0036150049418210983,
          -0.03173477575182915,
          0.008644277229905128,
          -0.01557763572782278,
          0.020393043756484985,
          -0.0036770948208868504,
          -0.038716427981853485,
          0.00402548722922802,
          0.014418627135455608,
          -0.007685334887355566,
          0.05684664472937584,
          0.004394576884806156,
          -0.02203497290611267,
          -0.006529775448143482,
          -0.007243807893246412,
          0.03156920522451401,
          -0.012252382934093475,
          -0.03653638809919357,
          0.005429406184703112,
          0.00845800805836916,
          0.033556077629327774,
          0.0009003017912618816,
          0.025746561586856842,
          -0.029168399050831795,
          0.009968859143555164,
          0.000686437007971108,
          -0.00484645226970315,
          -0.008175154216587543,
          0.013452786020934582,
          0.005139654036611319,
          0.00986537616699934,
          0.006847123149782419,
          0.02462894655764103,
          0.01199712511152029,
          -0.0055121928453445435,
          0.023124992847442627,
          -0.011514204554259777,
          -0.007264504209160805,
          -0.0018557945732027292,
          -0.0022248837631195784,
          -0.004266947507858276,
          0.018350979313254356,
          -0.030051453039050102,
          0.02638125792145729,
          0.023897666484117508,
          3.807849861914292e-05,
          -0.0018523450708016753,
          0.020186077803373337,
          -0.014901547692716122,
          -0.02603631466627121,
          0.01853035017848015,
          0.018695922568440437,
          -0.007236908655613661,
          0.0033683704677969217,
          -0.009810185059905052,
          0.012521439231932163,
          -0.020020505413413048,
          -0.034107986837625504,
          -0.01180395670235157,
          -0.06159306317567825,
          0.01022411696612835,
          -0.018847698345780373,
          -0.008561491034924984,
          -0.04147597402334213,
          0.03741944208741188,
          -0.003123460803180933,
          0.004194509703665972,
          -0.024008048698306084,
          0.00574330473318696,
          -0.024408182129263878,
          -0.0022283331491053104,
          -0.005577731877565384,
          0.0004225554584991187,
          0.03129325062036514,
          0.0013056100578978658,
          -0.022738657891750336,
          0.003216595621779561,
          0.018006036058068275,
          0.008816748857498169,
          -0.0029233938548713923,
          0.022738657891750336,
          0.001033104956150055,
          -0.0022973218001425266,
          -0.026739999651908875,
          0.03521180525422096,
          -0.02279384806752205,
          0.0009416950051672757,
          -0.01585359126329422,
          0.004887845367193222,
          -0.0054225074127316475,
          -0.020475829020142555,
          -0.04790571331977844,
          0.028699276968836784,
          0.009216883219778538,
          0.01704019494354725,
          -0.024877306073904037,
          0.04235902801156044,
          0.021069131791591644,
          0.01750931888818741,
          -0.017233364284038544,
          0.022393714636564255,
          0.010575959458947182,
          0.003859914606437087,
          -0.0045325541868805885,
          0.040675703436136246,
          0.024559957906603813,
          4.8103411245392635e-05,
          0.005653619300574064,
          0.06788482517004013,
          -0.026188090443611145,
          0.035570546984672546,
          0.005263833794742823,
          0.04307651147246361,
          -0.004277295898646116,
          0.02438058704137802,
          -0.042193453758955,
          0.0029958318918943405,
          0.009251377545297146,
          0.028023187071084976,
          -0.019992908462882042,
          0.0009753269841894507,
          -0.01793704740703106,
          -0.05632232874631882,
          -0.015080917626619339,
          -0.006840223912149668,
          0.013363100588321686,
          -0.0032614381052553654,
          0.0152326924726367,
          -0.01433584000915289,
          -0.007230009883642197,
          -0.02811977081000805,
          -0.024090833961963654,
          0.017964642494916916,
          0.009306567721068859,
          -0.0010753604583442211,
          -0.01022411696612835,
          -0.005429406184703112,
          0.03670195862650871,
          -0.003773678792640567,
          0.00503962067887187,
          -0.035984478890895844,
          0.017964642494916916,
          0.011362429708242416,
          0.022007377818226814,
          0.01606055721640587,
          -0.03170718252658844,
          -0.00788540206849575,
          -0.02242130972445011,
          -0.00281818606890738,
          0.02433919347822666,
          -0.015205097384750843,
          0.025967326015233994,
          0.005798495374619961,
          -0.009285871870815754,
          -0.021552052348852158,
          -0.002161069307476282,
          0.0055466871708631516,
          0.012128204107284546,
          0.016433095559477806,
          0.011286542750895023,
          0.01491534523665905,
          0.02134508639574051,
          -0.0012055765837430954,
          0.03866123780608177,
          0.003180376486852765,
          0.03609485924243927,
          -0.032231494784355164,
          0.027264311909675598,
          0.018144013360142708,
          0.0014806687831878662,
          -0.008934029377996922,
          0.023111196234822273,
          0.002029990777373314,
          0.008044076152145863,
          0.013632155954837799,
          0.014653188176453114,
          -0.006053753662854433,
          -0.01713677868247032,
          0.0026733099948614836,
          -0.010989891365170479,
          0.012804292142391205,
          -0.0370607003569603,
          0.004863699432462454,
          -0.0019903224892914295,
          0.005939922295510769,
          0.027209121733903885,
          0.007043740712106228,
          -0.00021321802341844887,
          -0.021372681483626366,
          0.00030462798895314336,
          -0.002454271074384451,
          0.021621040999889374,
          -0.0037529822438955307,
          -0.016502084210515022,
          0.030244622379541397,
          -0.015536243095993996,
          -0.01510851364582777,
          -0.014998131431639194,
          0.01666765660047531,
          0.011424519121646881,
          -0.03380443528294563,
          -0.002844056813046336,
          0.01628131978213787,
          -0.004360082559287548,
          -0.01272150594741106,
          0.00786470528692007,
          -0.010320701636373997,
          0.047022659331560135,
          0.017964642494916916,
          0.019275426864624023,
          0.04321448877453804,
          0.008934029377996922,
          0.017633497714996338,
          0.0034149379935115576,
          0.00920308567583561,
          0.007526661269366741,
          0.005553585942834616,
          0.011196857318282127,
          0.020696593448519707,
          -0.009637713432312012,
          0.023635510355234146,
          -0.006995448376983404,
          0.010444880463182926,
          0.008016480132937431,
          -0.01216959673911333,
          -0.008030278608202934,
          -0.006826426368206739,
          0.0266296174377203,
          -0.00916169211268425,
          0.009154792875051498,
          0.039654672145843506,
          -0.010886408388614655,
          -0.011403823271393776,
          -0.0015393091598525643,
          0.0460292249917984,
          0.007650840561836958,
          0.01679183542728424,
          0.029002826660871506,
          0.0011926412116736174,
          -0.021552052348852158,
          0.012638719752430916,
          -0.016805633902549744,
          0.013287212699651718,
          -0.0006308149313554168,
          -0.001403056550770998,
          -0.0032528145238757133,
          0.013480381108820438,
          -0.015205097384750843,
          -0.01801983453333378,
          -0.004687778186053038,
          0.018433766439557076,
          0.03924074023962021,
          0.0026336414739489555,
          0.00824414286762476,
          0.016888421028852463,
          -0.0066332584246993065,
          -0.0035667128395289183,
          -0.034797873347997665,
          0.011810855939984322,
          0.00281818606890738,
          -0.017412733286619186,
          -0.01985493116080761,
          0.021800411865115166,
          -0.028202557936310768,
          -0.023083601146936417,
          -0.010465577244758606,
          0.004263498354703188,
          -0.011728069745004177,
          -0.03272821381688118,
          -8.7205960880965e-05,
          0.003818521508947015,
          0.01985493116080761,
          0.033224932849407196,
          0.012983663007616997,
          -0.007533560041338205,
          -0.004360082559287548,
          -0.00807857047766447,
          0.025622382760047913,
          -0.046222392469644547,
          -0.014611794613301754,
          0.010217218659818172,
          -0.00044885737588629127,
          -0.04241421818733215,
          -0.024918697774410248,
          0.009975758381187916,
          -0.008485603146255016,
          0.0332525260746479,
          0.001372874015942216,
          -0.007975087501108646,
          0.013507976196706295,
          0.04616720229387283,
          -0.0017902553081512451,
          -0.023331958800554276,
          -0.010720835067331791,
          0.015563838183879852,
          -0.0008778804913163185,
          -0.026174291968345642,
          -0.03741944208741188,
          -0.02723671682178974,
          0.01993771828711033,
          0.006043405272066593,
          0.03805413469672203,
          0.01750931888818741,
          0.015784602612257004,
          -0.009803286753594875,
          -0.014404828660190105,
          -0.016612466424703598,
          -0.017578307539224625,
          -0.004187610931694508,
          -0.0193858090788126,
          0.013411392457783222,
          0.01644689217209816,
          -0.03827489912509918,
          -0.0025336078833788633,
          0.023276768624782562,
          0.018944282084703445,
          -0.009285871870815754,
          -0.034715086221694946,
          0.027112537994980812,
          -0.0034839266445487738,
          0.01452900841832161,
          -0.016929812729358673,
          -0.007036841940134764,
          0.039654672145843506,
          0.023801082745194435,
          0.004084127955138683,
          0.0008545968448743224,
          -0.0001567335712024942,
          0.006774684879928827,
          -0.03970986232161522,
          -0.008147559128701687,
          -0.011769462376832962,
          0.005046519450843334,
          -2.6261497623636387e-05,
          -0.04039974883198738,
          0.0033683704677969217,
          0.0016212331829592586,
          -0.011693575419485569,
          0.04597403109073639,
          -0.012004024349153042,
          0.01593637652695179,
          0.0006730704917572439,
          0.0019627269357442856,
          -0.009637713432312012,
          0.021041536703705788,
          -0.016557274386286736,
          -0.004422171972692013,
          -0.0012383462162688375,
          -0.0012538685696199536,
          0.00501892389729619,
          0.011562496423721313,
          -0.011024385690689087,
          0.010306903161108494,
          -0.0001592128537595272,
          0.018723517656326294,
          0.019151248037815094,
          -0.04070330038666725,
          0.014584199525415897,
          0.007678436115384102,
          -0.004139318596571684,
          -0.02344234101474285,
          -0.047298613935709,
          0.0006105495267547667,
          -0.02475312538444996,
          -0.04142078384757042,
          -0.017950845882296562,
          -0.039489101618528366,
          -0.00411172304302454,
          -0.04511857405304909,
          -0.01665385812520981,
          -0.026960762217640877,
          0.012790494598448277,
          -0.041862308979034424,
          -0.009368658065795898,
          0.009968859143555164,
          0.02242130972445011,
          0.02318018488585949,
          0.024739328771829605,
          0.002462894655764103,
          0.015867387875914574,
          0.008368322625756264,
          -0.0047705648466944695,
          -0.014929142780601978,
          -0.016695251688361168,
          -0.024877306073904037,
          0.029803095385432243,
          0.01836477778851986,
          0.003977195359766483,
          -0.007802615873515606,
          0.012238585390150547,
          -0.005298328120261431,
          0.01628131978213787,
          -0.017191970720887184,
          -0.04423552006483078,
          0.019620370119810104,
          0.012638719752430916,
          -0.00043635317706502974,
          0.026905572041869164,
          -0.02564997784793377,
          0.013866717927157879,
          0.01259042788296938,
          -0.02071039192378521,
          -0.033390503376722336,
          -0.0002891055482905358,
          -0.03788856416940689,
          -0.007492166943848133,
          -0.00546390051022172,
          -0.018392372876405716,
          -0.026946963742375374,
          -0.02484970912337303,
          0.0283405352383852,
          -0.024684136733412743,
          0.006660853512585163,
          -0.006205528508871794,
          0.0036943419836461544,
          -0.0004305322654545307,
          -0.017578307539224625,
          -0.001076222863048315,
          -0.0370607003569603,
          -0.004173812922090292,
          0.014970536343753338,
          0.013197528198361397,
          0.031210463494062424,
          -0.00500857550650835,
          -0.009368658065795898,
          0.010575959458947182,
          0.02752646990120411,
          0.003216595621779561,
          0.003787476569414139,
          0.032535046339035034,
          -0.004139318596571684,
          0.003202797845005989,
          0.0013202702393755317,
          -0.03361126780509949,
          -0.020779380574822426,
          -0.034411534667015076,
          -0.029251186177134514,
          -0.002835433231666684,
          0.0008481291588395834,
          0.02403564378619194,
          -0.004432520363479853,
          0.012314473278820515,
          -0.00877535529434681,
          -0.006440090015530586,
          0.03609485924243927,
          -0.03631562367081642,
          -0.01768868789076805,
          0.006205528508871794,
          0.03278340399265289,
          -0.0084166144952178,
          0.02842332236468792,
          -0.003563263453543186,
          -0.010534565895795822,
          -0.005746753886342049,
          -0.0022197095677256584,
          -0.02787141315639019,
          0.031596798449754715,
          -0.007060987874865532,
          -0.016557274386286736,
          0.015536243095993996,
          0.03341810032725334,
          0.002474967623129487,
          0.007492166943848133,
          0.015605231747031212,
          -0.0064538875594735146,
          0.0029768599197268486,
          -0.012114405632019043,
          -0.006505629047751427,
          -0.02467034012079239,
          -0.015191299840807915,
          0.006015809718519449,
          -0.008119963109493256,
          0.0012771523324772716,
          -0.010175825096666813,
          0.022338522598147392,
          0.013521774671971798,
          -0.026132898405194283,
          0.024132227525115013,
          -0.01380462758243084,
          -0.037088293582201004,
          -0.006450438406318426,
          0.010865711607038975,
          -0.060323670506477356,
          -0.016046758741140366,
          -0.03162439540028572,
          -0.02760925516486168,
          0.011831552721560001,
          -0.0003649930586107075,
          -0.005888180807232857,
          0.04172433167695999,
          0.02564997784793377,
          -0.03247985243797302,
          0.02638125792145729,
          0.024090833961963654,
          0.003877161769196391,
          0.015563838183879852,
          -0.016419297084212303,
          -0.03984783962368965,
          0.009078905917704105,
          0.025111867114901543,
          0.018613135442137718,
          0.02232472598552704,
          0.0076025486923754215,
          -0.01182465348392725,
          -0.024215014651417732,
          -0.007802615873515606,
          -0.02395285665988922,
          0.006281415931880474,
          -0.0044256215915083885,
          -0.021841805428266525,
          -0.020517222583293915,
          -0.04362842068076134,
          0.01913744956254959,
          0.0011176160769537091,
          0.007954390719532967,
          -0.00933416374027729,
          -0.024325396865606308,
          0.008064772933721542,
          -0.01145901344716549,
          -0.014460019767284393,
          0.02250409685075283,
          -0.021124323830008507,
          0.052265796810388565,
          0.022683465853333473,
          0.013921908102929592,
          0.014653188176453114,
          0.0017919800011441112,
          -0.02377348765730858,
          -0.008133761584758759,
          -0.02079317718744278,
          -0.0013297561090439558,
          0.0019972212612628937,
          0.05419747903943062,
          0.02897523157298565,
          -0.021441670134663582,
          0.009720499627292156,
          -0.0030406746082007885,
          -0.002473242813721299,
          -0.029775498434901237,
          0.032535046339035034,
          0.021979782730340958,
          0.014832559041678905,
          -0.019992908462882042,
          0.0009770516771823168,
          -0.01240415871143341,
          0.042552195489406586,
          -0.01167287863790989,
          -0.007209313567727804,
          0.012204091064631939,
          -0.01699880138039589,
          0.007650840561836958,
          0.0025698270183056593,
          -0.01114166621118784,
          0.017578307539224625,
          -0.01094849780201912,
          -0.0025474056601524353,
          0.013542470522224903,
          -0.0033528481144458055,
          -0.024352991953492165,
          0.013169932179152966,
          -0.008561491034924984,
          0.02676759473979473,
          -0.019082259386777878,
          0.01875111274421215,
          -0.013411392457783222,
          -0.00430489145219326,
          -0.008409716188907623,
          -0.0061365398578345776,
          0.03733665496110916,
          0.03374924510717392,
          -0.02748507633805275,
          -0.0030337756033986807,
          0.03427355736494064,
          0.020061897113919258,
          0.011569395661354065,
          -0.027084941044449806,
          0.0028871747199445963,
          -0.015343074686825275,
          -0.010217218659818172,
          -0.011403823271393776,
          0.024918697774410248,
          -0.03968226909637451,
          0.006384898908436298,
          -0.0005997700500302017,
          0.0014901547692716122,
          0.009430747479200363,
          0.0018971877871081233,
          -0.01691601611673832,
          0.027002155780792236,
          -0.01020342018455267,
          0.002849231008440256,
          -0.00788540206849575,
          -0.01879250630736351,
          0.0016350308433175087,
          0.024780720472335815,
          -0.0066160112619400024,
          0.010617352090775967,
          0.019247831776738167,
          -0.02050342597067356,
          -0.011769462376832962,
          -0.020351650193333626,
          -0.01468078326433897,
          -0.008637377992272377,
          0.004477363079786301,
          -0.023111196234822273,
          -0.020931154489517212,
          0.001415991922840476,
          -0.023594116792082787,
          -0.022090164944529533,
          -0.04371120408177376,
          0.02191079407930374,
          0.0033390503376722336,
          -0.005174148362129927,
          0.041144829243421555,
          -0.01930302195250988,
          0.012949168682098389,
          0.006205528508871794,
          -0.028368130326271057,
          0.02872687205672264,
          0.005688113626092672,
          -0.012459348887205124,
          0.0005200019222684205,
          0.029223589226603508,
          0.0006002011941745877,
          -0.00655392138287425,
          0.015536243095993996,
          0.006415944080799818,
          -0.02199357934296131,
          -0.008106165565550327,
          -0.007361088413745165,
          0.03562573716044426,
          0.008554591797292233,
          -0.02344234101474285,
          -0.03242466226220131,
          -0.01887529343366623,
          0.007526661269366741,
          0.004149666987359524,
          -0.03361126780509949,
          -0.017454126849770546,
          -0.020061897113919258,
          -0.008044076152145863,
          0.016557274386286736,
          0.033473290503025055,
          -0.017950845882296562,
          -0.013066449202597141,
          0.04064811021089554,
          0.005698462016880512,
          0.022297130897641182,
          -5.890983447898179e-05,
          -0.0481540746986866,
          0.00807167124003172,
          0.0392131470143795,
          -0.00022270396584644914,
          -0.017923250794410706,
          -0.015908781439065933,
          0.0036253533326089382,
          -0.05105159804224968,
          -0.011383126489818096,
          -0.04042734578251839,
          0.007816413417458534,
          0.028920039534568787,
          0.011231351643800735,
          -0.02352512814104557,
          0.008837445639073849,
          0.02266966924071312,
          0.014101278968155384,
          -0.04086887463927269,
          -0.0038116227369755507,
          0.01561902929097414,
          0.006143438629806042,
          -0.01730235293507576,
          0.006033056881278753,
          -0.03162439540028572,
          -0.03054817207157612,
          0.03192794322967529,
          0.027802424505352974,
          0.010279308073222637,
          0.005177597980946302,
          -0.0019885976798832417,
          -0.042165860533714294,
          0.015701815485954285,
          -0.0123558659106493,
          -0.025746561586856842,
          -0.02889244444668293,
          -0.010072342120110989,
          -0.017067790031433105,
          -0.018516551703214645,
          0.014446222223341465,
          0.005953719839453697,
          -0.030437789857387543,
          -0.005698462016880512,
          0.012673214077949524,
          0.005584630649536848,
          -0.01203851867467165,
          -0.017329948022961617,
          -0.034880660474300385,
          -0.021538255736231804,
          -0.006584966089576483,
          0.008409716188907623,
          0.00828553643077612,
          0.023124992847442627,
          0.018268194049596786,
          0.029720308259129524,
          -0.005853686481714249,
          -0.005708810407668352,
          0.019758347421884537,
          -0.03405279666185379,
          -0.03416317701339722,
          0.010817419737577438,
          -0.010320701636373997,
          0.0011426244163885713,
          0.0076025486923754215,
          -0.014570401981472969,
          0.027802424505352974,
          -0.029554735869169235,
          -0.0029682363383471966,
          -0.01734374463558197,
          -0.005343170370906591,
          0.008837445639073849,
          -0.014011593535542488,
          -0.016474489122629166,
          -0.0011943659046664834,
          -0.017067790031433105,
          0.016819432377815247,
          -0.01061045378446579,
          -0.03068614937365055,
          0.0074783689342439175,
          0.011252048425376415,
          0.002799214329570532,
          -0.006067551206797361,
          -0.0030527475755661726,
          -0.015522444620728493,
          0.0022214343771338463,
          -0.015963971614837646,
          -0.024559957906603813,
          -0.019620370119810104,
          0.18422727286815643,
          0.00032704928889870644,
          -0.030962103977799416,
          0.01640550047159195,
          -0.01917884312570095,
          0.009541129693388939,
          -0.009023714810609818,
          0.005367316771298647,
          0.01397709921002388,
          0.008133761584758759,
          0.0040634311735630035,
          0.0029561633709818125,
          -0.0037184879183769226,
          0.012314473278820515,
          0.0131078427657485,
          0.007519762497395277,
          -0.024822114035487175,
          -0.014970536343753338,
          -0.016764240339398384,
          0.00140909303445369,
          0.004342835396528244,
          0.004601542837917805,
          0.02164863608777523,
          -0.019965313374996185,
          -0.012321371585130692,
          -0.033390503376722336,
          -0.0009451444493606687,
          -0.0007959564682096243,
          0.016088152304291725,
          0.03272821381688118,
          -0.039351124316453934,
          -0.009720499627292156,
          -0.0007679298287257552,
          -0.0021765916608273983,
          0.004435969982296228,
          0.002093805465847254,
          -0.0007472332799807191,
          0.00032985195866785944,
          0.01866832748055458,
          0.0061365398578345776,
          0.02385627292096615,
          0.006340056657791138,
          0.01662626303732395,
          -0.010513869114220142,
          -0.005767450667917728,
          0.00047386574442498386,
          0.014597997069358826,
          0.007457672618329525,
          0.024863507598638535,
          0.014818760566413403,
          -0.04448387771844864,
          0.00914099533110857,
          0.02334575727581978,
          0.02436678856611252,
          -0.005491496063768864,
          -0.009154792875051498,
          0.020186077803373337,
          0.011258946731686592,
          -0.023249173536896706,
          0.0048154075630009174,
          -0.014349638484418392,
          -0.004604991991072893,
          -0.0036632970441132784,
          0.03192794322967529,
          -0.020696593448519707,
          0.03968226909637451,
          -0.00502927228808403,
          -0.021869400516152382,
          0.027926603332161903,
          -0.02385627292096615,
          0.03772298991680145,
          -0.01930302195250988,
          0.008106165565550327,
          -0.008423513732850552,
          -0.015867387875914574,
          -0.02872687205672264,
          0.02603631466627121,
          0.027595458552241325,
          0.0037357350811362267,
          0.02415982261300087,
          -0.002800938906148076,
          0.009430747479200363,
          -0.01145901344716549,
          -0.004691227804869413,
          -0.0020058448426425457,
          -0.0006411632057279348,
          0.016860824078321457,
          0.0009011641959659755,
          0.02599492110311985,
          0.011452115140855312,
          -0.024215014651417732,
          -0.008382120169699192,
          -0.006312461104243994,
          -0.0016738369595259428,
          -0.0055294400081038475,
          -0.008761557750403881,
          0.03711589053273201,
          -0.031596798449754715,
          -0.01891668699681759,
          -0.011051980778574944,
          -0.014066784642636776,
          0.0219521876424551,
          -0.005594979040324688,
          -0.022862836718559265,
          -0.01640550047159195,
          -0.027029750868678093,
          0.009927465580403805,
          0.02019987441599369,
          0.004146217368543148,
          -0.04023417830467224,
          0.003908206708729267,
          -0.0647941380739212,
          -0.0262018870562315,
          -0.006681550294160843,
          0.006767786107957363,
          0.011176160536706448,
          0.02599492110311985,
          0.02032405510544777,
          -0.022048771381378174,
          0.01163148507475853,
          -0.019372010603547096,
          -0.0036839935928583145,
          0.009099602699279785,
          0.020006706938147545,
          0.00877535529434681,
          0.0006312460754998028,
          -0.030796531587839127,
          -0.020130885764956474,
          0.019165044650435448,
          -0.025622382760047913,
          0.026781391352415085,
          0.02215915359556675,
          0.03256263956427574,
          -0.03419077396392822,
          -0.01623992621898651,
          0.02385627292096615,
          0.03419077396392822,
          -0.0005247448571026325,
          -0.031431227922439575,
          -0.006064102053642273,
          0.025111867114901543,
          0.011148565448820591,
          0.0141702676191926,
          -0.015908781439065933,
          0.001451348653063178,
          -0.013687347061932087,
          0.02748507633805275,
          0.021331289783120155,
          -0.007216212339699268,
          -0.03165198862552643,
          -0.037778180092573166,
          -0.004270397126674652,
          -0.01709538698196411,
          0.012459348887205124,
          -0.003411488374695182,
          -0.03421836718916893,
          -0.01836477778851986,
          -0.04241421818733215,
          0.03145882114768028,
          -0.02672620117664337,
          -0.014487615786492825,
          -0.005412159021943808,
          -0.0030355004128068686,
          0.00040703301783651114,
          -0.035818904638290405,
          -0.009085804224014282,
          -0.17020878195762634,
          -0.006512528285384178,
          0.014032290317118168,
          -0.0055121928453445435,
          0.025236045941710472,
          0.0033511233050376177,
          0.03846806660294533,
          -0.0005773487500846386,
          -0.021496862173080444,
          0.006705696228891611,
          0.03021702729165554,
          -0.03399760276079178,
          0.015743209049105644,
          0.010769127868115902,
          0.014156470075249672,
          -0.013163033872842789,
          -0.011596990749239922,
          0.011769462376832962,
          0.029416758567094803,
          0.008761557750403881,
          0.029941072687506676,
          -0.022310927510261536,
          0.017371341586112976,
          0.010168925859034061,
          0.00630556233227253,
          -0.021027738228440285,
          -0.027250515297055244,
          -0.006153787020593882,
          -0.011576294898986816,
          -0.01112096942961216,
          -0.02611910179257393,
          0.03901997581124306,
          0.014073683880269527,
          -0.011948833242058754,
          0.031514011323451996,
          0.011438317596912384,
          0.02880965732038021,
          0.00763704301789403,
          0.026491640135645866,
          0.014418627135455608,
          -0.0067988308146595955,
          0.010175825096666813,
          -0.005339721217751503,
          0.012493843212723732,
          -0.007595649920403957,
          0.001723853754810989,
          0.0345219187438488,
          -0.005301777273416519,
          0.007657739799469709,
          0.004601542837917805,
          0.05003056675195694,
          -0.0336664579808712,
          -0.014239256270229816,
          0.025332629680633545,
          0.013418291695415974,
          -0.005291428882628679,
          -0.022945623844861984,
          -0.00828553643077612,
          -0.013211325742304325,
          -0.01342519000172615,
          -0.015757005661725998,
          -0.009548027999699116,
          0.00044001819333061576,
          0.0020317155867815018,
          -0.011900541372597218,
          0.005081013776361942,
          -0.01476357039064169,
          0.007167920004576445,
          -0.02232472598552704,
          -0.0029130454640835524,
          -0.02326297014951706,
          -0.032838594168424606,
          0.0030372249893844128,
          -0.04542212188243866,
          0.046305179595947266,
          0.026905572041869164,
          -0.01597777009010315,
          0.023621711879968643,
          0.0008356249891221523,
          0.00763704301789403,
          -0.014818760566413403,
          0.053204044699668884,
          -0.0061641354113817215,
          0.017329948022961617,
          0.007568054366856813,
          0.008520097471773624,
          0.009051309898495674,
          0.00986537616699934,
          0.01824059709906578,
          -0.020020505413413048,
          0.004632587544620037,
          -0.02540161833167076,
          -0.0026146697346121073,
          -0.0017747328383848071,
          0.00030570593662559986,
          -0.0065711685456335545,
          0.004056532401591539,
          -0.009437646716833115,
          0.009948162361979485,
          -0.008299333974719048,
          -0.021027738228440285,
          0.023152589797973633,
          0.013114741072058678,
          0.020765582099556923,
          0.0047257221303880215,
          0.021414075046777725,
          0.00710583059117198,
          0.019109854474663734,
          0.018654529005289078,
          -0.005129305645823479,
          -0.016005365177989006,
          0.011093374341726303,
          0.05701221525669098,
          0.029885880649089813,
          -0.0005665692733600736,
          0.007033392321318388,
          0.006726393010467291,
          -0.02850610762834549,
          -0.009299669414758682,
          0.003206247230991721,
          0.0528453029692173,
          0.007450773846358061,
          -0.009899870492517948,
          0.023580318316817284,
          -0.0005570832872763276,
          0.006012360565364361,
          -0.11821894347667694,
          -0.014080582186579704,
          0.008595985360443592,
          0.0515759103000164,
          -0.013887413777410984,
          -0.010451779700815678,
          -0.02607770822942257,
          0.02467034012079239,
          -0.01785426214337349,
          0.04078608751296997,
          -0.027457481250166893,
          -0.021621040999889374,
          -0.011659081093966961,
          0.008961625397205353,
          -0.006115843541920185,
          -0.038799215108156204,
          -0.013514875434339046,
          -0.012921573594212532,
          -0.004794710781425238,
          0.03990303352475166,
          -0.012107507325708866,
          -0.002554304664954543,
          0.010603554546833038,
          -0.04956144094467163,
          0.010658745653927326,
          -0.011093374341726303,
          -0.01078292541205883,
          0.031983137130737305,
          0.00020254634728189558,
          0.00023434580361936241,
          -0.016170937567949295,
          -0.006733291782438755,
          0.0007291237125173211,
          -0.006412494461983442,
          0.032231494784355164,
          -0.02420121617615223,
          -0.011686676181852818,
          0.0006838499684818089,
          0.009085804224014282,
          -0.013031954877078533,
          0.014294447377324104,
          0.05212781950831413,
          0.028450917452573776,
          -0.010127533227205276,
          -0.010120633989572525,
          -0.014625593088567257,
          -0.024325396865606308,
          0.019068460911512375,
          0.01615714095532894,
          -0.020531021058559418,
          -0.03272821381688118,
          0.01853035017848015,
          -0.005501844454556704,
          0.019358213990926743,
          0.0069506061263382435,
          -0.014404828660190105,
          0.02344234101474285,
          0.034880660474300385,
          -0.01930302195250988,
          -0.0045153070241212845,
          -0.01721956580877304,
          0.019027067348361015,
          0.005836439318954945,
          0.022987015545368195,
          -0.00210415362380445,
          0.017992239445447922,
          -0.03391481935977936,
          -0.04111723229289055,
          0.008526996709406376,
          -0.02616049349308014,
          -0.021331289783120155,
          0.03132084384560585,
          0.012687011621892452,
          -0.0004158721712883562,
          -0.03107248619198799,
          0.01952378638088703,
          -0.013928807340562344,
          -0.01964796520769596,
          0.026698606088757515,
          0.014404828660190105,
          -0.026395056396722794,
          -0.03333531320095062,
          -0.01606055721640587,
          -0.025636181235313416,
          0.009430747479200363,
          -0.006833325140178204,
          -0.0033476739190518856,
          0.008692569099366665,
          -0.0072231111116707325,
          -0.02611910179257393,
          0.011114071123301983,
          0.013866717927157879,
          0.02148306369781494,
          0.013197528198361397,
          -0.014942940324544907,
          -0.012224787846207619,
          -0.026615818962454796,
          0.006833325140178204,
          0.017950845882296562,
          -0.009927465580403805,
          -0.012438653036952019,
          -0.004353183321654797,
          -0.05822641775012016,
          0.02340094745159149,
          0.007754323538392782,
          -0.006336607038974762,
          -0.010989891365170479,
          0.015136108733713627,
          0.0127835962921381,
          -0.028644084930419922,
          -0.01259042788296938,
          0.016226129606366158,
          -0.030520576983690262,
          0.03132084384560585,
          0.006460786797106266,
          -0.0375022254884243,
          -0.01887529343366623,
          0.0011279643513262272,
          0.00484645226970315,
          -0.011624586768448353,
          0.008354525081813335,
          0.043959565460681915,
          0.010776026174426079,
          -0.013018157333135605,
          -0.031182866543531418,
          0.01491534523665905,
          0.0069506061263382435,
          0.0004885258385911584,
          -0.006898864638060331,
          0.02028266154229641,
          -0.006578067317605019,
          0.01476357039064169,
          0.021965984255075455,
          -0.0019558281637728214,
          -0.016695251688361168,
          0.022310927510261536,
          0.014515210874378681,
          0.007975087501108646,
          -0.006954055279493332,
          0.01295606791973114,
          0.033721648156642914,
          -0.014846356585621834,
          -0.011810855939984322,
          -0.0100171510130167,
          -0.007026493549346924,
          -0.03413558006286621,
          -0.013452786020934582,
          -0.018613135442137718,
          0.0027198772877454758,
          0.02872687205672264,
          0.012100608088076115,
          0.006008910946547985,
          0.008195850998163223,
          0.006688449066132307,
          -0.018433766439557076,
          -0.01764729619026184,
          -0.03250744938850403,
          0.01636410690844059,
          0.00210932781919837,
          -0.0010882958304136992,
          0.025636181235313416,
          0.0029009724967181683,
          0.04197269305586815,
          0.03584650158882141,
          0.03766779974102974,
          -0.019578976556658745,
          -0.00363915110938251,
          0.008389019407331944,
          -0.037640202790498734,
          0.00502927228808403,
          0.035266995429992676,
          -0.06545642763376236,
          -0.008520097471773624,
          -0.016032960265874863,
          -0.01811641827225685,
          0.008044076152145863,
          -0.002169692888855934,
          0.01636410690844059,
          0.0022611028980463743,
          -0.005277631338685751,
          -0.014639390632510185,
          0.00807167124003172,
          0.019910123199224472,
          -0.005939922295510769,
          -0.0038323192857205868,
          0.009127197787165642,
          0.003884060773998499,
          0.01675044372677803,
          -0.004777463618665934,
          0.01926163025200367,
          -0.026960762217640877,
          -0.031983137130737305,
          -0.03515661507844925,
          -0.0016298567643389106,
          0.008182053454220295,
          -0.0004846452211495489,
          0.011093374341726303,
          0.03184515982866287,
          0.013983998447656631,
          0.014460019767284393,
          0.050996407866477966,
          0.00839591771364212,
          0.030713744461536407,
          -0.0005820916849188507,
          -0.01850275509059429,
          -0.0012849135091528296,
          0.012756000272929668,
          0.008389019407331944,
          -0.04503578692674637,
          -0.019758347421884537,
          0.006267618387937546,
          0.0030234274454414845,
          0.0032700616866350174,
          -0.01807502470910549,
          -7.060556526994333e-05,
          0.02177281677722931,
          -0.037088293582201004,
          0.02867168001830578,
          -0.01223168708384037,
          -0.001802328391931951,
          -0.02646404504776001,
          0.043104104697704315,
          -0.00402548722922802,
          -0.00566741731017828,
          0.03430115431547165,
          -0.006836774758994579,
          0.022821443155407906,
          0.00931346695870161,
          -0.011038183234632015,
          0.01862693391740322,
          0.00013786950148642063,
          -0.009051309898495674,
          0.03319733589887619,
          0.0023024959955364466,
          -0.05088602378964424,
          -0.023966655135154724,
          -0.02650543674826622,
          -0.02624328061938286,
          -0.02007569558918476,
          0.014094379730522633,
          -0.012417956255376339,
          0.05074804648756981,
          -0.006415944080799818,
          -0.04884396120905876,
          0.01270080916583538,
          0.008492502383887768,
          0.010920902714133263,
          0.0009201360517181456,
          -0.023635510355234146,
          0.0036598476581275463,
          -0.03562573716044426,
          -0.01797844097018242,
          0.01883389987051487,
          0.011817755177617073,
          -0.0349358506500721,
          0.0033700952772051096,
          0.016584869474172592,
          0.004563598893582821,
          0.04903712868690491,
          0.00706443702802062,
          -0.027181526646018028,
          0.029085611924529076,
          0.012417956255376339,
          0.024215014651417732,
          0.0029716859571635723,
          -0.014059885405004025,
          -0.0037460834719240665,
          0.028450917452573776,
          -0.00011016624193871394,
          0.002081732265651226,
          -0.01879250630736351,
          -0.01184535026550293,
          -0.01691601611673832,
          -0.012804292142391205,
          -0.02736089564859867,
          -0.006402146071195602,
          -0.007823312655091286,
          0.004705025348812342,
          -0.008720165118575096,
          0.03383203223347664,
          0.013238920830190182,
          -0.017840463668107986,
          -0.002081732265651226,
          -0.03758501261472702,
          -0.0037771284114569426,
          0.010920902714133263,
          0.0036943419836461544,
          -0.019799740985035896,
          0.026436448097229004,
          -0.038412876427173615
        ]
      ]
    },
    {
      "slug": "func testSendPaymentAMPInvoiceRepeat(ht *lntest.HarnessTest) {",
      "content": "func testSendPaymentAMPInvoiceRepeat(ht *lntest.HarnessTest) {\n\t// In this basic test, we'll only need two nodes as we want to\n\t// primarily test the recurring payment feature. So we'll re-use the\n\tcarol := ht.NewNode(\"Carol\", nil)\n\n\t// Send Carol enough coins to be able to open a channel to Dave.\n\tht.FundCoins(btcutil.SatoshiPerBitcoin, carol)\n\n\tdave := ht.NewNode(\"Dave\", nil)\n\n\t// Set up an invoice subscription so we can be notified when Dave\n\t// receives his repeated payments.\n\treq := &lnrpc.InvoiceSubscription{}\n\tinvSubscription := dave.RPC.SubscribeInvoices(req)\n\n\t// Before we start the test, we'll ensure both sides are connected to\n\t// the funding flow can properly be executed.\n\tht.EnsureConnected(carol, dave)\n\n\t// Establish a channel between Carol and Dave.\n\tchanAmt := btcutil.Amount(100_000)\n\tht.OpenChannel(\n\t\tcarol, dave, lntest.OpenChannelParams{Amt: chanAmt},\n\t)\n\n\t// Create an AMP invoice of a trivial amount, that we'll pay repeatedly\n\t// in this integration test.\n\tpaymentAmt := 10000\n\tinvoice := &lnrpc.Invoice{\n\t\tValue: int64(paymentAmt),\n\t\tIsAmp: true,\n\t}\n\taddInvoiceResp := dave.RPC.AddInvoice(invoice)\n\n\t// We should get an initial notification that the HTLC has been added.\n\trpcInvoice := ht.ReceiveInvoiceUpdate(invSubscription)\n\trequire.False(ht, rpcInvoice.Settled)\n\trequire.Equal(ht, lnrpc.Invoice_OPEN, rpcInvoice.State)\n\trequire.Equal(ht, int64(0), rpcInvoice.AmtPaidSat)\n\trequire.Equal(ht, int64(0), rpcInvoice.AmtPaidMsat)\n\trequire.Equal(ht, 0, len(rpcInvoice.Htlcs))\n\n\t// Now we'll use Carol to pay the invoice that Dave created.\n\tht.CompletePaymentRequests(\n\t\tcarol, []string{addInvoiceResp.PaymentRequest},\n\t)\n\n\t// Dave should get a notification that the invoice has been settled.\n\tinvoiceNtfn := ht.ReceiveInvoiceUpdate(invSubscription)\n\n\t// The notification should signal that the invoice is now settled, and\n\t// should also include the set ID, and show the proper amount paid.\n\trequire.True(ht, invoiceNtfn.Settled)\n\trequire.Equal(ht, lnrpc.Invoice_SETTLED, invoiceNtfn.State)\n\trequire.Equal(ht, paymentAmt, int(invoiceNtfn.AmtPaidSat))\n\trequire.Equal(ht, 1, len(invoiceNtfn.AmpInvoiceState))\n\tvar firstSetID []byte\n\tfor setIDStr, ampState := range invoiceNtfn.AmpInvoiceState {\n\t\tfirstSetID, _ = hex.DecodeString(setIDStr)\n\t\trequire.Equal(ht, lnrpc.InvoiceHTLCState_SETTLED,\n\t\t\tampState.State)\n\t}\n\n\t// Pay the invoice again, we should get another notification that Dave\n\t// has received another payment.\n\tht.CompletePaymentRequests(\n\t\tcarol, []string{addInvoiceResp.PaymentRequest},\n\t)\n\n\t// Dave should get another notification.\n\tinvoiceNtfn = ht.ReceiveInvoiceUpdate(invSubscription)\n\n\t// The invoice should still be shown as settled, and also include the\n\t// information about this newly generated setID, showing 2x the amount\n\t// paid.\n\trequire.True(ht, invoiceNtfn.Settled)\n\trequire.Equal(ht, paymentAmt*2, int(invoiceNtfn.AmtPaidSat))\n\n\tvar secondSetID []byte\n\tfor setIDStr, ampState := range invoiceNtfn.AmpInvoiceState {\n\t\tsecondSetID, _ = hex.DecodeString(setIDStr)\n\t\trequire.Equal(ht, lnrpc.InvoiceHTLCState_SETTLED,\n\t\t\tampState.State)\n\t}\n\n\t// The returned invoice should only include a single HTLC since we\n\t// return the \"projected\" sub-invoice for a given setID.\n\trequire.Equal(ht, 1, len(invoiceNtfn.Htlcs))\n\n\t// However the AMP state index should show that there've been two\n\t// repeated payments to this invoice so far.\n\trequire.Equal(ht, 2, len(invoiceNtfn.AmpInvoiceState))\n\n\t// Now we'll look up the invoice using the new LookupInvoice2 RPC call\n\t// by the set ID of each of the invoices.\n\tmsg := &invoicesrpc.LookupInvoiceMsg{\n\t\tInvoiceRef: &invoicesrpc.LookupInvoiceMsg_SetId{\n\t\t\tSetId: firstSetID,\n\t\t},\n\t\tLookupModifier: invoicesrpc.LookupModifier_HTLC_SET_ONLY,\n\t}\n\tsubInvoice1 := dave.RPC.LookupInvoiceV2(msg)\n\tmsg = &invoicesrpc.LookupInvoiceMsg{\n\t\tInvoiceRef: &invoicesrpc.LookupInvoiceMsg_SetId{\n\t\t\tSetId: secondSetID,\n\t\t},\n\t\tLookupModifier: invoicesrpc.LookupModifier_HTLC_SET_ONLY,\n\t}\n\tsubInvoice2 := dave.RPC.LookupInvoiceV2(msg)\n\n\t// Each invoice should only show a single HTLC present, as we passed\n\t// the HTLC set only modifier.\n\trequire.Equal(ht, 1, len(subInvoice1.Htlcs))\n\trequire.Equal(ht, 1, len(subInvoice2.Htlcs))\n\n\t// If we look up the same invoice, by its payment address, but now with\n\t// the HTLC blank modifier, then none of them should be returned.\n\tmsg = &invoicesrpc.LookupInvoiceMsg{\n\t\tInvoiceRef: &invoicesrpc.LookupInvoiceMsg_PaymentAddr{\n\t\t\tPaymentAddr: addInvoiceResp.PaymentAddr,\n\t\t},\n\t\tLookupModifier: invoicesrpc.LookupModifier_HTLC_SET_BLANK,\n\t}\n\trootInvoice := dave.RPC.LookupInvoiceV2(msg)\n\trequire.Equal(ht, 0, len(rootInvoice.Htlcs))\n\n\t// If we look up the same invoice, by its payment address, but without\n\t// that modified, then we should get all the relevant HTLCs.\n\tmsg = &invoicesrpc.LookupInvoiceMsg{\n\t\tInvoiceRef: &invoicesrpc.LookupInvoiceMsg_PaymentAddr{\n\t\t\tPaymentAddr: addInvoiceResp.PaymentAddr,\n\t\t},\n\t}\n\trootInvoice = dave.RPC.LookupInvoiceV2(msg)\n\trequire.Equal(ht, 2, len(rootInvoice.Htlcs))\n\n\t// Finally, we'll test that if we subscribe for notifications of\n\t// settled invoices, we get a backlog, which includes the invoice we\n\t// settled last (since you can only fetch from index 1 onwards), and\n\t// only the relevant set of HTLCs.\n\treq = &lnrpc.InvoiceSubscription{\n\t\tSettleIndex: 1,\n\t}\n\tinvSub2 := dave.RPC.SubscribeInvoices(req)\n\n\t// The first invoice we get back should match the state of the invoice\n\t// after our second payment: amt updated, but only a single HTLC shown\n\t// through.\n\tbacklogInv := ht.ReceiveInvoiceUpdate(invSub2)\n\trequire.Equal(ht, 1, len(backlogInv.Htlcs))\n\trequire.Equal(ht, 2, len(backlogInv.AmpInvoiceState))\n\trequire.True(ht, backlogInv.Settled)\n\trequire.Equal(ht, paymentAmt*2, int(backlogInv.AmtPaidSat))\n}\n\n// testSendPaymentAMP tests that we can send an AMP payment to a specified\n// destination using SendPaymentV2.",
      "length": 5658,
      "tokens": 663,
      "embedding": [
        [
          0.015416488982737064,
          0.013519801199436188,
          -0.024744678288698196,
          0.01958785019814968,
          0.01323631126433611,
          0.0011761485366150737,
          -0.020654315128922462,
          0.006854397710412741,
          -0.015146497637033463,
          -0.021531784906983376,
          0.027215097099542618,
          0.0160104688256979,
          0.005116330459713936,
          -0.013526551425457,
          0.03472084924578667,
          0.0003088022640440613,
          0.003901370568200946,
          0.0034727598540484905,
          0.00996266957372427,
          -0.026310626417398453,
          -0.055942144244909286,
          0.008241476491093636,
          -0.021383291110396385,
          0.034504856914281845,
          -0.0007428972166962922,
          0.015308491885662079,
          0.030778979882597923,
          -0.025811143219470978,
          0.00015904159226920456,
          -0.005575315095484257,
          0.005632688291370869,
          -0.032182931900024414,
          -0.03531482815742493,
          -0.01164336409419775,
          -0.01788690686225891,
          -0.04263158515095711,
          0.003331014420837164,
          -0.003641504095867276,
          0.013641297817230225,
          -0.004650595597922802,
          0.016577450558543205,
          0.0011634926777333021,
          -0.0049442108720541,
          -0.006105172447860241,
          -0.00944293662905693,
          0.003840622492134571,
          0.017238928005099297,
          -0.054835181683301926,
          0.0037933741696178913,
          -0.020600317046046257,
          0.0111438799649477,
          -0.0066957781091332436,
          -0.014714512042701244,
          0.02136979065835476,
          -0.0026847233530133963,
          -0.00389462080784142,
          0.005811557173728943,
          0.01574047841131687,
          -0.004431228153407574,
          -0.002792719751596451,
          -0.019547350704669952,
          0.015267993323504925,
          -0.001633445848710835,
          0.016428954899311066,
          -0.015038501471281052,
          -0.01918286457657814,
          -0.008275225758552551,
          0.010907637886703014,
          -0.03455885499715805,
          -0.024852676317095757,
          0.020681314170360565,
          -0.0031555204186588526,
          -0.009766926057636738,
          -0.0053694467060267925,
          0.016037467867136,
          -0.03123796358704567,
          -0.003682002890855074,
          -0.020411323755979538,
          -0.033208899199962616,
          -0.0005787932896055281,
          0.021315792575478554,
          0.0016612886684015393,
          -0.007856739684939384,
          0.038608718663454056,
          0.023192230612039566,
          0.0018089399673044682,
          -0.006786899641156197,
          0.01343880407512188,
          0.009253943338990211,
          0.019277360290288925,
          0.019533852115273476,
          -0.019196363165974617,
          0.019047867506742477,
          0.015105999074876308,
          -0.008747709915041924,
          -0.00396549329161644,
          0.005882429890334606,
          0.04468351602554321,
          -0.018278393894433975,
          0.01119787897914648,
          -0.018872374668717384,
          -0.018993869423866272,
          0.007121013943105936,
          -0.00043831358198076487,
          -0.01354680024087429,
          0.005987051408737898,
          -0.012169846333563328,
          -0.02084330841898918,
          0.010968386195600033,
          0.004873338155448437,
          0.01416102983057499,
          0.024312693625688553,
          -0.004103864077478647,
          0.010745643638074398,
          -0.025932639837265015,
          -0.005578689742833376,
          -0.00818747840821743,
          -0.015079000033438206,
          0.008437220007181168,
          -0.03936469554901123,
          0.007984984666109085,
          0.01575397700071335,
          0.017873406410217285,
          0.006257042288780212,
          -0.0002613428805489093,
          0.02258475124835968,
          -0.016644947230815887,
          -0.01918286457657814,
          -0.009233693592250347,
          -0.019020868465304375,
          0.006486534606665373,
          0.02913203276693821,
          -0.001869687926955521,
          0.003628004575148225,
          0.002897341502830386,
          0.03094097413122654,
          -0.025716647505760193,
          -0.0077014947310090065,
          -0.03307390213012695,
          -0.011636613868176937,
          -0.01833239197731018,
          0.030077002942562103,
          -0.03231792896986008,
          0.03666478395462036,
          -0.034288860857486725,
          0.006209793966263533,
          0.019533852115273476,
          0.020910806953907013,
          0.01758991740643978,
          -0.021747779101133347,
          -0.0009432812221348286,
          -0.0064426613971591,
          0.01745492033660412,
          0.0030154625419527292,
          -0.007519250735640526,
          0.02683711051940918,
          -0.006307665724307299,
          0.016523452475667,
          0.010259659960865974,
          -0.013054067268967628,
          -0.02724209614098072,
          0.024744678288698196,
          -0.005224326625466347,
          -0.007040016353130341,
          0.025635650381445885,
          0.024231696501374245,
          0.010583648458123207,
          -0.006614780519157648,
          -0.008437220007181168,
          -0.01815689727663994,
          -0.01077939197421074,
          -0.00606129877269268,
          -0.04136262834072113,
          0.0340188704431057,
          -0.004701219033449888,
          0.027417590841650963,
          0.0019304360030218959,
          -0.0055044423788785934,
          -0.00436035543680191,
          -0.007013017311692238,
          0.03372188284993172,
          0.009787175804376602,
          0.005565190222114325,
          0.05815606936812401,
          -0.00413086311891675,
          -0.014350024051964283,
          -0.003486259374767542,
          -0.013168812729418278,
          0.017171429470181465,
          -0.01210909802466631,
          0.023786211386322975,
          0.014282526448369026,
          -0.02439369075000286,
          -0.013762793503701687,
          -0.5559655427932739,
          -0.012527584098279476,
          -0.011359873227775097,
          0.007512500975281,
          0.020694812759757042,
          0.011899854987859726,
          0.014107031747698784,
          0.019317859783768654,
          -0.04433253034949303,
          0.02713409997522831,
          0.0005235294811427593,
          -0.014998002909123898,
          0.021869273856282234,
          0.013411805033683777,
          0.018642881885170937,
          -0.016347957774996758,
          -0.004279357846826315,
          0.0018308768048882484,
          -0.017535917460918427,
          0.027674082666635513,
          -0.017765410244464874,
          0.017508918419480324,
          -0.022233761847019196,
          -0.014620015397667885,
          0.003128521144390106,
          -0.010725393891334534,
          -0.004083614330738783,
          -0.008565465919673443,
          0.019952338188886642,
          -0.00978042557835579,
          -0.02832205966114998,
          0.010853639803826809,
          0.012541083618998528,
          0.0009778738021850586,
          0.06085598096251488,
          0.01592947170138359,
          -0.018008403480052948,
          -0.02181527577340603,
          -0.023043734952807426,
          0.03982367739081383,
          -0.0026054135523736477,
          -0.03126496449112892,
          -0.01148136891424656,
          0.0038912459276616573,
          0.02913203276693821,
          -0.01111013162881136,
          0.01841338910162449,
          -0.030616983771324158,
          0.022571250796318054,
          -0.009726427495479584,
          -0.004410978872328997,
          -0.0054268199019134045,
          0.005754183977842331,
          0.00898395199328661,
          0.019614849239587784,
          0.0013178937369957566,
          0.02292224019765854,
          0.01210909802466631,
          -0.0038338727317750454,
          0.032992906868457794,
          -0.005170328542590141,
          -0.00573730980977416,
          0.00986817292869091,
          -0.005912804044783115,
          -0.008761209435760975,
          0.017900405451655388,
          -0.03183194249868393,
          0.03531482815742493,
          0.02392120659351349,
          0.007134513463824987,
          -0.002468730555847287,
          0.02043832279741764,
          -0.0045965975150465965,
          -0.02096480503678322,
          0.02783607691526413,
          0.01622646115720272,
          0.003621254814788699,
          0.01086713932454586,
          -0.006851022597402334,
          0.021153798326849937,
          -0.02254425175487995,
          -0.03034699335694313,
          -0.01737392321228981,
          -0.05551015958189964,
          0.009530683979392052,
          -0.02184227481484413,
          -0.016793442890048027,
          -0.036394793540239334,
          0.04195660725235939,
          0.008450719527900219,
          -0.005487567745149136,
          -0.011805358342826366,
          -0.001962497364729643,
          -0.03493684157729149,
          -0.005423445254564285,
          -0.006894896272569895,
          -0.0006872115773148835,
          0.045709483325481415,
          -0.007269508671015501,
          -0.026445623487234116,
          0.013526551425457,
          0.026486121118068695,
          0.0063042910769581795,
          -0.004562848713248968,
          0.03542282432317734,
          0.0020097459200769663,
          0.0006319477688521147,
          -0.020681314170360565,
          0.04133562743663788,
          -0.018251394852995872,
          0.0001224451552843675,
          -0.036583784967660904,
          1.4461922546615824e-05,
          0.0023894207552075386,
          -0.021410290151834488,
          -0.04967835173010826,
          0.03315490111708641,
          0.006871271878480911,
          0.015308491885662079,
          -0.013837041333317757,
          0.03574681282043457,
          0.0210323017090559,
          -0.00296146422624588,
          -0.018953371793031693,
          0.017292926087975502,
          0.012034851126372814,
          -0.007822990417480469,
          -0.0008462531841360033,
          0.02772808074951172,
          0.006851022597402334,
          0.00861271470785141,
          0.006398787721991539,
          0.0425775870680809,
          -0.021950270980596542,
          0.02983400970697403,
          0.003432261059060693,
          0.04122763127088547,
          -0.012453337199985981,
          0.020802810788154602,
          -0.04217259958386421,
          0.012932570651173592,
          0.018980370834469795,
          0.029564019292593002,
          -0.02802507020533085,
          0.0071547627449035645,
          -0.010880638845264912,
          -0.04009367153048515,
          -0.018615882843732834,
          0.002765720710158348,
          -0.008106481283903122,
          -0.001590415951795876,
          0.002137991599738598,
          -0.01184585690498352,
          -0.0013845477951690555,
          -0.022854741662740707,
          -0.01567297987639904,
          0.03285790979862213,
          0.004775466397404671,
          0.009577931836247444,
          -0.01243983767926693,
          -0.001106119598262012,
          0.03237192705273628,
          -0.0022173014003783464,
          0.01246008649468422,
          -0.03574681282043457,
          0.013492802157998085,
          0.0037528756074607372,
          0.027120599523186684,
          0.01112363114953041,
          -0.029483022168278694,
          -0.015510985627770424,
          -0.010320407338440418,
          -0.009631930850446224,
          0.03166994825005531,
          -0.003037399146705866,
          0.02398870512843132,
          0.005143329501152039,
          -0.019911838695406914,
          -0.02336772531270981,
          0.005956677254289389,
          0.018197396770119667,
          0.01985784061253071,
          0.013985536061227322,
          0.012743577361106873,
          0.017697913572192192,
          0.008207728154957294,
          0.004701219033449888,
          0.02964501641690731,
          -0.011589366011321545,
          0.034990839660167694,
          -0.024056201800704002,
          0.020897306501865387,
          0.017724912613630295,
          0.005214202217757702,
          -0.010124663822352886,
          0.016536951065063477,
          -0.00743825314566493,
          0.0034558854531496763,
          0.021572284400463104,
          0.010732144117355347,
          0.006057924125343561,
          -0.02365121617913246,
          -0.004481851123273373,
          -0.012048350647091866,
          0.0023489221930503845,
          -0.027890074998140335,
          0.007633996661752462,
          -0.006675528362393379,
          0.019803842529654503,
          0.026459122076630592,
          0.004424478393048048,
          -0.00933494046330452,
          -0.020208830013871193,
          0.005278324708342552,
          -0.011089881882071495,
          0.006557407323271036,
          0.0010808078804984689,
          -0.02188277430832386,
          0.03715076670050621,
          -0.012136097066104412,
          -0.020127832889556885,
          -0.010354156605899334,
          0.0008715648436918855,
          0.0022173014003783464,
          -0.03642179071903229,
          0.0039924923330545425,
          0.01210909802466631,
          -0.003776499768719077,
          -0.005150079261511564,
          -0.00445485208183527,
          -0.0013524864334613085,
          0.051109302788972855,
          0.01837288960814476,
          0.015483986586332321,
          0.03693477436900139,
          0.010259659960865974,
          0.019466353580355644,
          0.011886355467140675,
          0.013668296858668327,
          0.01586197316646576,
          0.009172945283353329,
          0.025460155680775642,
          0.011083132587373257,
          -0.007040016353130341,
          0.023826709017157555,
          -0.010462152771651745,
          0.015429988503456116,
          0.01607796736061573,
          -0.01818389631807804,
          -0.000924719322938472,
          -0.0020553069189190865,
          0.023934705182909966,
          -0.00783648993819952,
          0.007006267551332712,
          0.035800810903310776,
          -0.0086329635232687,
          -0.008491218090057373,
          -0.001187116838991642,
          0.036799781024456024,
          0.009139196947216988,
          0.018804876133799553,
          0.029780011624097824,
          0.01406653318554163,
          -0.01422852836549282,
          -0.003857497125864029,
          -0.023057235404849052,
          0.014431021176278591,
          -0.004974585026502609,
          -0.02143728919327259,
          -0.0003549960383679718,
          0.015173496678471565,
          -0.01497100293636322,
          -0.013499552384018898,
          -0.016320958733558655,
          0.019911838695406914,
          0.04195660725235939,
          -0.00044126660213805735,
          0.0007517563062720001,
          0.011866106651723385,
          -0.010576899163424969,
          0.007418003864586353,
          -0.025676148012280464,
          0.029807010665535927,
          0.009483435191214085,
          -0.017292926087975502,
          -0.022611750289797783,
          0.016766443848609924,
          -0.027269095182418823,
          -0.011002135463058949,
          -0.009672429412603378,
          0.00011010572052327916,
          -0.01360079925507307,
          -0.016874440014362335,
          -0.00029171688947826624,
          -0.0035773813724517822,
          0.02196377143263817,
          0.03231792896986008,
          0.015767477452754974,
          -0.002521041315048933,
          -0.011623114347457886,
          -0.013641297817230225,
          0.01992533914744854,
          -0.043009571731090546,
          -0.010259659960865974,
          0.008045732975006104,
          0.005882429890334606,
          -0.03666478395462036,
          -0.021977271884679794,
          0.008754459209740162,
          0.0036111301742494106,
          0.03353288769721985,
          -0.00953743327409029,
          -0.0018865624442696571,
          0.0006226668483577669,
          0.051325298845767975,
          0.004431228153407574,
          -0.005227701738476753,
          -0.0009719677618704736,
          0.018345890566706657,
          -0.0026087884325534105,
          -0.019344858825206757,
          -0.043792545795440674,
          -0.009834423661231995,
          0.019061367958784103,
          0.012763826176524162,
          0.041308630257844925,
          0.018872374668717384,
          0.008052483201026917,
          -0.011238377541303635,
          -0.01814339868724346,
          -0.01818389631807804,
          -0.004377229604870081,
          -0.0009112198022194207,
          -0.011339623481035233,
          0.007411254104226828,
          -0.005534816533327103,
          -0.030670981854200363,
          -0.004306357353925705,
          0.017657414078712463,
          0.0167529433965683,
          -0.013114814646542072,
          -0.03634079545736313,
          0.011447620578110218,
          -0.01748191937804222,
          0.0101314140483737,
          -0.002973276423290372,
          -0.006095048040151596,
          0.03123796358704567,
          0.03291190788149834,
          0.00011896480282302946,
          -0.005170328542590141,
          -0.007600247859954834,
          0.019952338188886642,
          -0.037987738847732544,
          0.0042253597639501095,
          -0.01279082614928484,
          0.007640746422111988,
          -0.002757283626124263,
          -0.02843005768954754,
          0.002321922918781638,
          0.006834148429334164,
          -0.005501067731529474,
          0.054025206714868546,
          -0.015389489941298962,
          0.01763041503727436,
          0.022530753165483475,
          -0.0046539707109332085,
          -0.006290791090577841,
          0.010927887633442879,
          -0.029996005818247795,
          -0.0059533026069402695,
          -0.010765892453491688,
          0.00872071087360382,
          -0.0022864865604788065,
          0.004802465904504061,
          -0.01077939197421074,
          -0.004512225277721882,
          -0.002602038672193885,
          0.019169364124536514,
          0.013742543756961823,
          -0.02421819604933262,
          0.004437977913767099,
          0.0009154384024441242,
          -0.0016950374701991677,
          -0.015767477452754974,
          -0.03490984067320824,
          0.005301949102431536,
          -0.023151731118559837,
          -0.0365297868847847,
          -0.02983400970697403,
          -0.0410926379263401,
          -0.007404504343867302,
          -0.04165961965918541,
          -0.026823610067367554,
          -0.026405123993754387,
          -0.00020048944861628115,
          -0.027863075956702232,
          0.0016140402294695377,
          0.016239961609244347,
          0.005345822777599096,
          0.01988483965396881,
          0.01756291650235653,
          -0.006560782436281443,
          0.012001101858913898,
          0.015132998116314411,
          0.0021008679177612066,
          -0.010907637886703014,
          -0.013263310305774212,
          -0.016941938549280167,
          0.026850609108805656,
          0.005062331911176443,
          0.008167228661477566,
          0.002230800921097398,
          0.008801707997918129,
          0.00024763241526670754,
          0.021234795451164246,
          -0.013168812729418278,
          -0.04238859564065933,
          0.011744610033929348,
          0.014039534144103527,
          0.01467401348054409,
          0.0315079540014267,
          -0.02147778682410717,
          0.01156911626458168,
          0.01985784061253071,
          -0.01532199140638113,
          -0.014890005812048912,
          0.0014967628521844745,
          -0.03137296065688133,
          -0.006041049491614103,
          0.0029260278679430485,
          -0.017400922253727913,
          -0.018912872299551964,
          -0.020573318004608154,
          0.022814244031906128,
          -0.01722542941570282,
          0.009436187334358692,
          -0.00508258119225502,
          0.010840140283107758,
          0.005781183019280434,
          -0.03094097413122654,
          -0.008774708956480026,
          -0.031777944415807724,
          -0.0012942695757374167,
          0.01871037855744362,
          0.0056428126990795135,
          0.01637495681643486,
          0.00010108844435308129,
          -0.01497100293636322,
          0.004579722881317139,
          0.025865141302347183,
          0.004562848713248968,
          0.012750326655805111,
          0.024488188326358795,
          0.010192162357270718,
          -0.0022898614406585693,
          0.001097682281397283,
          -0.03769075125455856,
          -0.015335490927100182,
          -0.02894303947687149,
          -0.04414353519678116,
          0.0008724085637368262,
          0.004073489923030138,
          0.01201460137963295,
          -0.00022021144104655832,
          0.01219684537500143,
          0.0016579137882217765,
          0.0002647177898325026,
          0.03212893381714821,
          -0.0410926379263401,
          -0.010934636928141117,
          -0.00020660643349401653,
          0.023462221026420593,
          -0.009915420785546303,
          0.0390407033264637,
          -0.002085680840536952,
          -0.016037467867136,
          -0.01084689050912857,
          0.0009255630429834127,
          -0.01745492033660412,
          0.02147778682410717,
          0.014498518779873848,
          -0.01941235549747944,
          0.017697913572192192,
          0.02477167919278145,
          0.007465252187103033,
          0.0012681141961365938,
          0.01796790398657322,
          -0.01956085115671158,
          0.012115848250687122,
          -0.005193952936679125,
          -0.019317859783768654,
          -0.020789310336112976,
          -0.021194297820329666,
          -0.0016663509886711836,
          -0.023934705182909966,
          0.0025396032724529505,
          -0.018507886677980423,
          0.03426186367869377,
          0.00322133069857955,
          -0.013486052863299847,
          0.013445554301142693,
          -0.021018803119659424,
          -0.02628362737596035,
          -0.01773841120302677,
          0.004522350151091814,
          -0.0450885035097599,
          -0.018507886677980423,
          -0.02469068020582199,
          -0.02388070710003376,
          0.0060511743649840355,
          0.000250585435424,
          -0.0012352090561762452,
          0.04479151591658592,
          0.03674577921628952,
          -0.025568151846528053,
          0.031183965504169464,
          0.022274261340498924,
          0.02184227481484413,
          -0.003163957502692938,
          -0.03191294148564339,
          -0.04317156970500946,
          0.013027068227529526,
          0.02975301258265972,
          0.0034474481362849474,
          0.03423486277461052,
          0.009503684937953949,
          -0.0007867707754485309,
          -0.018089400604367256,
          0.004235484637320042,
          -0.036988772451877594,
          0.006250292528420687,
          -0.004842964466661215,
          -0.015456987544894218,
          -0.03326289728283882,
          -0.04384654387831688,
          0.0035875060129910707,
          -0.0047720917500555515,
          -0.0046742199920117855,
          -0.003975618164986372,
          -0.02834905870258808,
          0.011798609048128128,
          -0.02177477814257145,
          -0.018453888595104218,
          0.01856188476085663,
          -0.012723327614367008,
          0.05464618653059006,
          0.016293959692120552,
          0.006790274754166603,
          0.010327157564461231,
          0.023016735911369324,
          -0.029213031753897667,
          -0.005558440461754799,
          -0.01815689727663994,
          0.0003978149325121194,
          -0.00778924161568284,
          0.04989434406161308,
          0.02051931992173195,
          -0.03426186367869377,
          0.018305392935872078,
          0.008295474573969841,
          -0.01673944480717182,
          -0.028160065412521362,
          0.020505819469690323,
          0.012163096107542515,
          0.004437977913767099,
          -0.033208899199962616,
          -0.0007846614462323487,
          -0.009348439984023571,
          0.03064398281276226,
          -0.007235759869217873,
          -0.0021413664799183607,
          0.02188277430832386,
          -0.011265376582741737,
          -0.011137130670249462,
          -0.00249572959728539,
          -0.0008943453431129456,
          0.018831875175237656,
          -0.00837647169828415,
          -0.009496934711933136,
          0.010732144117355347,
          -0.002573352074250579,
          -0.023718712851405144,
          0.00187812524382025,
          -0.0031909565441310406,
          0.04473751783370972,
          -0.03566581755876541,
          0.008167228661477566,
          -0.006493284832686186,
          -0.013661546632647514,
          -0.0031707072630524635,
          0.0023607341572642326,
          0.02483917586505413,
          0.032101936638355255,
          -0.03515283390879631,
          -0.0006378538673743606,
          0.04789641126990318,
          0.02158578485250473,
          0.018750878050923347,
          -0.02421819604933262,
          -0.00515682902187109,
          -0.013020318001508713,
          -0.018980370834469795,
          -0.0014064846327528358,
          0.03212893381714821,
          -0.03175094723701477,
          0.019533852115273476,
          0.009564432315528393,
          -0.00015545578207820654,
          0.016469454392790794,
          0.008923203684389591,
          -0.011029134504497051,
          0.02313823252916336,
          -0.0064730350859463215,
          0.0036145050544291735,
          -0.009004201740026474,
          -0.01758991740643978,
          0.004485226236283779,
          0.03345188871026039,
          -0.0013777980348095298,
          0.01862938143312931,
          0.03307390213012695,
          -0.030562985688447952,
          -0.0011390247382223606,
          -0.01892637275159359,
          -0.018656380474567413,
          0.0049070874229073524,
          -0.002900716383010149,
          -0.011062882840633392,
          -0.014012535102665424,
          0.00538969598710537,
          -0.0325339213013649,
          -0.025338659062981606,
          -0.05534816533327103,
          0.02254425175487995,
          0.016658447682857513,
          -0.0005458881496451795,
          0.033991873264312744,
          -0.010468902997672558,
          0.0073302569799125195,
          -0.0020671188831329346,
          -0.02483917586505413,
          0.01803540252149105,
          0.012669329531490803,
          0.002272987039759755,
          0.0026779735926538706,
          0.031399957835674286,
          -2.1290798031259328e-05,
          -0.003233142662793398,
          0.013000069186091423,
          0.006591156590729952,
          -0.005588814616203308,
          0.0010259660193696618,
          -0.005376196466386318,
          0.030023004859685898,
          0.0032112060580402613,
          -0.024015704169869423,
          -0.02813306637108326,
          -0.00609167292714119,
          0.0029834010638296604,
          -0.0011618052376434207,
          -0.014917004853487015,
          -0.011191128753125668,
          -0.01432302501052618,
          -0.0003085913194809109,
          0.01667194627225399,
          0.02047882042825222,
          -0.01042165420949459,
          -0.013945037499070168,
          0.05294524505734444,
          0.012966319918632507,
          0.022422756999731064,
          0.009402438066899776,
          -0.049111369997262955,
          0.0003467697533778846,
          0.030481988564133644,
          0.007323507219552994,
          -0.013391556218266487,
          -0.014836007729172707,
          0.006483159959316254,
          -0.04816640168428421,
          -0.011204628273844719,
          -0.022652247920632362,
          0.01703643426299095,
          0.011791858822107315,
          0.01596996933221817,
          -0.011224878020584583,
          0.005379571579396725,
          0.016644947230815887,
          0.02073531225323677,
          -0.023961704224348068,
          -0.008734210394322872,
          0.03526083007454872,
          0.018278393894433975,
          -0.020640814676880836,
          0.01841338910162449,
          -0.03812273591756821,
          -0.028295060619711876,
          0.023097733035683632,
          0.039094701409339905,
          0.00907169934362173,
          0.01051615085452795,
          -0.018318891525268555,
          -0.031210964545607567,
          0.01177160907536745,
          -0.006142296362668276,
          -0.028889041393995285,
          -0.018318891525268555,
          -0.012082098983228207,
          -0.0059938011690974236,
          -0.013837041333317757,
          -0.00597017677500844,
          0.020046835765242577,
          -0.020127832889556885,
          -0.009159445762634277,
          0.013033817522227764,
          0.01476851012557745,
          -0.005656312219798565,
          -0.026999104768037796,
          -0.03072497993707657,
          -0.014107031747698784,
          -0.01149486843496561,
          -0.0014849507715553045,
          0.0010411529801785946,
          0.023961704224348068,
          0.023124732077121735,
          0.029402025043964386,
          0.009226944297552109,
          -0.007883738726377487,
          0.01219684537500143,
          -0.022868242114782333,
          -0.033991873264312744,
          0.004522350151091814,
          -0.004532474558800459,
          -0.0034120117779821157,
          0.008774708956480026,
          -0.01182560808956623,
          0.020087333396077156,
          -0.04074164852499962,
          -0.0032365175429731607,
          -0.030508987605571747,
          -0.006770025473088026,
          0.012257593683898449,
          -0.003908120561391115,
          -0.01992533914744854,
          0.012777325697243214,
          -0.01667194627225399,
          0.025014670565724373,
          -0.0065709068439900875,
          -0.03782574459910393,
          -0.007202011067420244,
          0.014566016383469105,
          0.010853639803826809,
          0.004458227194845676,
          -0.0008968765032477677,
          -0.0227737445384264,
          0.004124113358557224,
          -0.027633583173155785,
          -0.01966884732246399,
          -0.02358371764421463,
          0.20108932256698608,
          0.00760699762031436,
          -0.02458268404006958,
          0.01084689050912857,
          -0.017171429470181465,
          0.012244094163179398,
          -0.012001101858913898,
          -0.00874095968902111,
          0.008659962564706802,
          0.02173427864909172,
          -0.003682002890855074,
          0.015281492844223976,
          -0.013958537019789219,
          0.011866106651723385,
          -0.00010604530689306557,
          -0.0017937530064955354,
          -0.021086299791932106,
          -0.01086713932454586,
          -0.008869205601513386,
          -0.00466747023165226,
          0.0043029822409152985,
          0.005231076385825872,
          0.015888972207903862,
          -0.008315724320709705,
          -0.0022594875190407038,
          -0.03844672441482544,
          -0.007067015394568443,
          -0.0015743853291496634,
          0.005193952936679125,
          0.03393787518143654,
          -0.028889041393995285,
          -0.01673944480717182,
          -0.009456436149775982,
          -0.010117914527654648,
          0.0008859080844558775,
          -0.0008395034237764776,
          0.005808182526379824,
          -0.013472553342580795,
          0.01397203654050827,
          0.015983469784259796,
          0.031696949154138565,
          0.0008449875749647617,
          0.011764859780669212,
          -0.011096632108092308,
          0.005835181567817926,
          0.011258626356720924,
          0.016847440972924232,
          0.0013094565365463495,
          0.020708313211798668,
          0.012507335282862186,
          -0.03887870907783508,
          0.012318341061472893,
          0.027296094223856926,
          0.03064398281276226,
          -0.018102899193763733,
          -0.004552723839879036,
          0.03663778305053711,
          0.004255733918398619,
          -0.027404090389609337,
          0.024744678288698196,
          -0.01457951683551073,
          -0.004701219033449888,
          2.9345706934691407e-05,
          0.02158578485250473,
          -0.02443419024348259,
          0.029483022168278694,
          -0.016320958733558655,
          -0.01648295298218727,
          0.022341758012771606,
          -0.025905640795826912,
          0.0435495562851429,
          -0.025149665772914886,
          0.006003926042467356,
          -0.009942419826984406,
          -0.015335490927100182,
          -0.020654315128922462,
          0.02417769841849804,
          0.026999104768037796,
          -0.0031740821432322264,
          0.01229134202003479,
          -0.018062401562929153,
          0.017684413120150566,
          -0.0059533026069402695,
          -0.005609063897281885,
          0.012763826176524162,
          0.005733934696763754,
          0.015483986586332321,
          -0.0014773572329431772,
          0.02915903367102146,
          0.0005108736804686487,
          -0.01926386170089245,
          -0.015618981793522835,
          -0.015294992364943027,
          0.015375989489257336,
          -0.002696535550057888,
          -0.00623004324734211,
          0.034612853080034256,
          -0.01547048706561327,
          -0.016590949147939682,
          -0.006162545643746853,
          -0.0026661616284400225,
          0.03123796358704567,
          0.002089055720716715,
          -0.02413719892501831,
          -0.013519801199436188,
          -0.022746745496988297,
          0.014836007729172707,
          0.015915971249341965,
          0.004812590312212706,
          -0.03958068788051605,
          -0.0001078909554053098,
          -0.04535849392414093,
          -0.012763826176524162,
          -0.0006458691786974669,
          0.004954335745424032,
          0.01354680024087429,
          0.021950270980596542,
          0.018291892483830452,
          -0.023421723395586014,
          0.008774708956480026,
          -0.02913203276693821,
          -0.016523452475667,
          0.009402438066899776,
          0.013297058641910553,
          -0.007660995703190565,
          0.006034299731254578,
          -0.04338756203651428,
          -0.010995385237038136,
          0.020937805995345116,
          -0.030265996232628822,
          0.030373992398381233,
          0.01406653318554163,
          0.02732309326529503,
          -0.02369171380996704,
          0.0017701287288218737,
          0.0126423304900527,
          0.030050003901124,
          -0.004107238724827766,
          -0.04176761582493782,
          -0.010529650375247002,
          0.03204793855547905,
          0.017144430428743362,
          0.02292224019765854,
          -0.017549417912960052,
          0.003184206783771515,
          -0.028862042352557182,
          0.016536951065063477,
          0.027147598564624786,
          -0.007073765154927969,
          -0.01807590015232563,
          -0.034099869430065155,
          -0.02033032476902008,
          -0.010549900121986866,
          0.016280459240078926,
          0.0013727357145398855,
          -0.02532516047358513,
          -0.02915903367102146,
          -0.05545616149902344,
          0.041200634092092514,
          -0.03485584259033203,
          -0.030913975089788437,
          0.007215510588139296,
          -0.012730077840387821,
          0.0012638955377042294,
          -0.034504856914281845,
          -0.017954403534531593,
          -0.16588249802589417,
          0.0018140022875741124,
          0.016793442890048027,
          -0.01360079925507307,
          0.020384324714541435,
          0.012115848250687122,
          0.035611819475889206,
          -0.013654797337949276,
          -0.017252428457140923,
          0.019655348733067513,
          0.028079068288207054,
          -0.03636779263615608,
          0.016901439055800438,
          0.012102348729968071,
          0.018899373710155487,
          -0.01877787709236145,
          -0.026418624445796013,
          0.022895241156220436,
          0.019020868465304375,
          0.006591156590729952,
          0.035989806056022644,
          -0.021801777184009552,
          0.02081630937755108,
          -0.004809215664863586,
          -0.0038507473655045033,
          -0.0177789106965065,
          -0.026850609108805656,
          -0.014120531268417835,
          -0.012325091287493706,
          -0.0160104688256979,
          -0.02875404618680477,
          0.051109302788972855,
          0.017535917460918427,
          -0.031075969338417053,
          0.021747779101133347,
          0.01645595394074917,
          0.02084330841898918,
          0.012203595601022243,
          0.024744678288698196,
          0.025662649422883987,
          -0.007755492813885212,
          0.015699978917837143,
          -0.002866967348381877,
          0.015186996199190617,
          -0.011805358342826366,
          0.021450787782669067,
          0.02239575795829296,
          -0.013533300720155239,
          0.002969901543110609,
          -0.0021194296423345804,
          0.043900541961193085,
          -0.028781045228242874,
          -0.0027758453506976366,
          0.02573014609515667,
          0.01844038814306259,
          -0.013560299761593342,
          -0.02757958509027958,
          -0.009854673407971859,
          -0.022814244031906128,
          -0.015335490927100182,
          -0.011548866517841816,
          -0.002818031469359994,
          -0.007512500975281,
          0.0024012329522520304,
          -0.00685777235776186,
          -0.012763826176524162,
          -0.023016735911369324,
          0.008207728154957294,
          -0.0295370202511549,
          0.0014731386909261346,
          -0.018602382391691208,
          -0.029510021209716797,
          -0.002308423398062587,
          -0.04163261875510216,
          0.05127130076289177,
          0.014255527406930923,
          -0.018237894400954247,
          0.02043832279741764,
          -0.0016587574500590563,
          -0.0019523727241903543,
          -0.0014512018533423543,
          0.05426819995045662,
          -0.00403974112123251,
          0.019695846363902092,
          0.0010858702007681131,
          0.02288174070417881,
          -0.005919553805142641,
          0.024960672482848167,
          0.01386404037475586,
          -0.011231627315282822,
          0.006945519708096981,
          -0.027674082666635513,
          0.0032753287814557552,
          -0.002920965664088726,
          0.009037950076162815,
          -0.00010630897304508835,
          0.01049590203911066,
          -0.008686961606144905,
          0.011690611951053143,
          -9.961192699847743e-05,
          -0.017603415995836258,
          0.03423486277461052,
          -0.006162545643746853,
          0.018548384308815002,
          0.001665507210418582,
          0.026702113449573517,
          0.0022206762805581093,
          0.02772808074951172,
          0.01452551782131195,
          0.004208485595881939,
          -0.015146497637033463,
          0.00632116524502635,
          0.05275624990463257,
          0.020168330520391464,
          0.0013491115532815456,
          0.004275983199477196,
          0.00828197505325079,
          -0.03455885499715805,
          -0.014917004853487015,
          -0.013634547591209412,
          0.052810247987508774,
          0.011899854987859726,
          -0.005092706065624952,
          0.015807975083589554,
          -0.005163578782230616,
          -0.003661753609776497,
          -0.10848239809274673,
          -0.006911770906299353,
          -0.002229113597422838,
          0.06296191364526749,
          -0.017090432345867157,
          -3.962856862926856e-05,
          -0.028781045228242874,
          0.016550451517105103,
          -0.012581582181155682,
          0.03793374076485634,
          -0.026013636961579323,
          -0.02502816915512085,
          -0.012676079757511616,
          0.0126423304900527,
          -0.0005572783993557096,
          -0.03185894340276718,
          -0.01892637275159359,
          -0.01334430743008852,
          -0.020060334354639053,
          0.046222466975450516,
          -0.008410220965743065,
          -0.004559473600238562,
          0.013891039416193962,
          -0.05740009620785713,
          0.0023387973196804523,
          0.0020958054810762405,
          -0.006145671010017395,
          0.02913203276693821,
          -0.001215803436934948,
          0.007391004823148251,
          -0.008842206560075283,
          -0.006084923166781664,
          0.010880638845264912,
          -0.006476410198956728,
          0.03631379455327988,
          -0.02369171380996704,
          -0.009949170053005219,
          -0.0012065224582329392,
          0.02014133147895336,
          -0.025743646547198296,
          0.007073765154927969,
          0.03712376952171326,
          0.013702045194804668,
          -0.00918644480407238,
          0.0022409255616366863,
          -0.01049590203911066,
          -0.025743646547198296,
          0.019803842529654503,
          -0.007391004823148251,
          -0.012298092246055603,
          -0.030481988564133644,
          0.018021902069449425,
          -0.0052513256669044495,
          0.013459053821861744,
          0.02477167919278145,
          -0.022503754124045372,
          0.033586885780096054,
          0.050515323877334595,
          -0.025082167237997055,
          -0.015942970290780067,
          -0.012601831927895546,
          0.024515187367796898,
          -0.0012368964962661266,
          0.02136979065835476,
          -0.0037495007272809744,
          0.009382188320159912,
          -0.019979337230324745,
          -0.028700048103928566,
          0.008038983680307865,
          -0.01803540252149105,
          -0.010786142200231552,
          0.030265996232628822,
          0.010948136448860168,
          -0.009361939504742622,
          -0.024812176823616028,
          0.027012603357434273,
          -0.009773675352334976,
          -0.010063916444778442,
          0.02834905870258808,
          0.01630745828151703,
          -0.013560299761593342,
          -0.03496383875608444,
          -0.012689579278230667,
          -0.022490253672003746,
          0.00019468885147944093,
          -0.005912804044783115,
          -0.017090432345867157,
          -0.0051737031899392605,
          0.0033141400199383497,
          -0.03644879162311554,
          0.005781183019280434,
          0.017873406410217285,
          0.024569185450673103,
          0.00627391692250967,
          -0.024164197966456413,
          0.003945244010537863,
          -0.014917004853487015,
          0.007215510588139296,
          0.00541669549420476,
          -0.002475480316206813,
          -0.027890074998140335,
          -0.009010951034724712,
          -0.05869605392217636,
          0.025743646547198296,
          -0.004633721429854631,
          -0.017805909737944603,
          -0.009746676310896873,
          0.02845705673098564,
          0.014485019259154797,
          -0.02369171380996704,
          -0.019641848281025887,
          -0.004404229111969471,
          -0.024407191202044487,
          0.028295060619711876,
          -0.013060816563665867,
          -0.031885940581560135,
          -0.013816791586577892,
          0.0008572215447202325,
          0.009901921264827251,
          -0.019952338188886642,
          0.003968868404626846,
          0.034504856914281845,
          0.01667194627225399,
          -0.008477718569338322,
          -0.025203663855791092,
          0.004677594639360905,
          0.010522901080548763,
          0.0008082856656983495,
          0.0011373372981324792,
          0.010320407338440418,
          0.013931537978351116,
          0.027512086555361748,
          0.013769542798399925,
          -0.0024889798369258642,
          -0.01417452935129404,
          0.02439369075000286,
          0.010563399642705917,
          0.008902954868972301,
          -0.018656380474567413,
          0.012676079757511616,
          0.021099800243973732,
          -0.018575383350253105,
          -0.008605964481830597,
          -0.0066957781091332436,
          -0.02421819604933262,
          -0.03769075125455856,
          -0.021059300750494003,
          -0.012264342978596687,
          -0.0013870790135115385,
          0.029510021209716797,
          0.01183235738426447,
          0.012250843457877636,
          0.005980301648378372,
          0.011690611951053143,
          -0.014741511084139347,
          -0.01844038814306259,
          -0.029078034684062004,
          0.0024940422736108303,
          -0.004502100870013237,
          -0.00021514910622499883,
          0.021599283441901207,
          0.010529650375247002,
          0.04228059574961662,
          0.030562985688447952,
          0.04819340258836746,
          -0.018399890512228012,
          -0.010718644596636295,
          -0.0019371857633814216,
          -0.036799781024456024,
          -0.0027809077873826027,
          0.02794407308101654,
          -0.052513256669044495,
          0.00016684603178873658,
          -0.014282526448369026,
          -0.01745492033660412,
          0.013783043250441551,
          -0.01858888380229473,
          0.00844397023320198,
          0.004994834307581186,
          -0.012689579278230667,
          -0.008693711832165718,
          -0.003466010093688965,
          0.031183965504169464,
          -0.01556498371064663,
          -0.008673462085425854,
          0.01941235549747944,
          0.006159170530736446,
          0.018210895359516144,
          -0.008322473615407944,
          0.02324622869491577,
          -0.017981404438614845,
          -0.030292995274066925,
          -0.04157862067222595,
          0.00022379726578947157,
          -0.0034187615383416414,
          -0.0006028393981978297,
          0.011710861697793007,
          0.033181898295879364,
          0.0023961705155670643,
          0.012169846333563328,
          0.030508987605571747,
          0.004012742079794407,
          0.01915586367249489,
          0.01911536604166031,
          -0.016644947230815887,
          0.00045729734119959176,
          0.0202898271381855,
          -0.0033090778160840273,
          -0.03874371573328972,
          -0.03242592513561249,
          0.004414353519678116,
          0.012136097066104412,
          0.00760699762031436,
          -0.02273324504494667,
          -0.010894138365983963,
          0.024609683081507683,
          -0.03447785601019859,
          0.01818389631807804,
          -0.032101936638355255,
          -0.018980370834469795,
          -0.028295060619711876,
          0.027890074998140335,
          0.0006171826389618218,
          -0.01173786073923111,
          0.03501783683896065,
          0.00905819982290268,
          0.025271162390708923,
          0.00459322240203619,
          -0.013945037499070168,
          0.009415937587618828,
          0.0011989290360361338,
          -0.0075260004960000515,
          0.018723879009485245,
          0.004120738245546818,
          -0.048004407435655594,
          -0.017792409285902977,
          -0.02749858796596527,
          -0.012493835762143135,
          -0.03148095682263374,
          0.013931537978351116,
          -0.006945519708096981,
          0.04676244780421257,
          -0.009895171970129013,
          -0.04643845930695534,
          0.0046944692730903625,
          0.005717060528695583,
          0.017306426540017128,
          -0.007127763703465462,
          -0.019763344898819923,
          0.0013347682543098927,
          -0.043792545795440674,
          -0.02362421713769436,
          0.0020924306008964777,
          0.016766443848609924,
          -0.021531784906983376,
          0.003854122245684266,
          0.018602382391691208,
          0.004367105197161436,
          0.04897637665271759,
          0.0023877331987023354,
          -0.017387423664331436,
          0.014309525489807129,
          0.018467387184500694,
          0.01354680024087429,
          0.011677112430334091,
          -0.023151731118559837,
          -0.011535366997122765,
          0.017508918419480324,
          0.0034727598540484905,
          0.008146979846060276,
          -0.030211998149752617,
          -0.0033411390613764524,
          -0.011501618660986423,
          -0.01715793088078499,
          -0.017940904945135117,
          -0.004124113358557224,
          -0.007148012984544039,
          0.005717060528695583,
          -0.025298161432147026,
          0.035584818571805954,
          0.012493835762143135,
          -0.018993869423866272,
          0.011751360259950161,
          -0.028079068288207054,
          -0.008551966398954391,
          0.025892140343785286,
          0.0008310661651194096,
          -0.0003604802186600864,
          0.01422852836549282,
          -0.02303023636341095
        ]
      ]
    },
    {
      "slug": "func testSendPaymentAMP(ht *lntest.HarnessTest) {",
      "content": "func testSendPaymentAMP(ht *lntest.HarnessTest) {\n\tmts := newMppTestScenario(ht)\n\tconst paymentAmt = btcutil.Amount(300000)\n\n\t// Set up a network with three different paths Alice <-> Bob. Channel\n\t// capacities are set such that the payment can only succeed if (at\n\t// least) three paths are used.\n\t//\n\t//              _ Eve _\n\t//             /       \\\n\t// Alice -- Carol ---- Bob\n\t//      \\              /\n\t//       \\__ Dave ____/\n\t//\n\tmppReq := &mppOpenChannelRequest{\n\t\tamtAliceCarol: 235000,\n\t\tamtAliceDave:  135000,\n\t\tamtCarolBob:   135000,\n\t\tamtCarolEve:   135000,\n\t\tamtDaveBob:    135000,\n\t\tamtEveBob:     135000,\n\t}\n\tmts.openChannels(mppReq)\n\tchanPointAliceDave := mts.channelPoints[1]\n\n\t// Increase Dave's fee to make the test deterministic. Otherwise it\n\t// would be unpredictable whether pathfinding would go through Charlie\n\t// or Dave for the first shard.\n\texpectedPolicy := mts.updateDaveGlobalPolicy()\n\n\t// Make sure Alice has heard it.\n\tht.AssertChannelPolicyUpdate(\n\t\tmts.alice, mts.dave, expectedPolicy, chanPointAliceDave, false,\n\t)\n\n\tsendReq := &routerrpc.SendPaymentRequest{\n\t\tDest:           mts.bob.PubKey[:],\n\t\tAmt:            int64(paymentAmt),\n\t\tFinalCltvDelta: chainreg.DefaultBitcoinTimeLockDelta,\n\t\tTimeoutSeconds: 60,\n\t\tFeeLimitMsat:   noFeeLimitMsat,\n\t\tAmp:            true,\n\t}\n\tpayment := ht.SendPaymentAssertSettled(mts.alice, sendReq)\n\n\t// Check that Alice split the payment in at least three shards. Because\n\t// the hand-off of the htlc to the link is asynchronous (via a mailbox),\n\t// there is some non-determinism in the process. Depending on whether\n\t// the new pathfinding round is started before or after the htlc is\n\t// locked into the channel, different sharding may occur. Therefore we\n\t// can only check if the number of shards isn't below the theoretical\n\t// minimum.\n\tsucceeded := 0\n\tfor _, htlc := range payment.Htlcs {\n\t\tif htlc.Status == lnrpc.HTLCAttempt_SUCCEEDED {\n\t\t\tsucceeded++\n\t\t}\n\t}\n\n\tconst minExpectedShards = 3\n\trequire.GreaterOrEqual(ht, succeeded, minExpectedShards,\n\t\t\"expected num of shards not reached\")\n\n\t// Fetch Bob's invoices. There should only be one invoice.\n\tinvoices := ht.AssertNumInvoices(mts.bob, 1)\n\trpcInvoice := invoices[0]\n\n\t// Assert that the invoice is settled for the total payment amount and\n\t// has the correct payment address.\n\trequire.True(ht, rpcInvoice.Settled)\n\trequire.Equal(ht, lnrpc.Invoice_SETTLED, rpcInvoice.State)\n\trequire.Equal(ht, int64(paymentAmt), rpcInvoice.AmtPaidSat)\n\trequire.Equal(ht, int64(paymentAmt*1000), rpcInvoice.AmtPaidMsat)\n\n\t// Finally, assert that the same set id is recorded for each htlc, and\n\t// that the preimage hash pair is valid.\n\tvar setID []byte\n\trequire.Equal(ht, succeeded, len(rpcInvoice.Htlcs))\n\tfor _, htlc := range rpcInvoice.Htlcs {\n\t\trequire.NotNil(ht, htlc.Amp)\n\t\tif setID == nil {\n\t\t\tsetID = make([]byte, 32)\n\t\t\tcopy(setID, htlc.Amp.SetId)\n\t\t}\n\t\trequire.Equal(ht, setID, htlc.Amp.SetId)\n\n\t\t// Parse the child hash and child preimage, and assert they are\n\t\t// well-formed.\n\t\tchildHash, err := lntypes.MakeHash(htlc.Amp.Hash)\n\t\trequire.NoError(ht, err)\n\t\tchildPreimage, err := lntypes.MakePreimage(htlc.Amp.Preimage)\n\t\trequire.NoError(ht, err)\n\n\t\t// Assert that the preimage actually matches the hashes.\n\t\tvalidPreimage := childPreimage.Matches(childHash)\n\t\trequire.True(ht, validPreimage)\n\t}\n\n\t// The set ID we extract above should be shown in the final settled\n\t// state.\n\tampState := rpcInvoice.AmpInvoiceState[hex.EncodeToString(setID)]\n\trequire.Equal(ht, lnrpc.InvoiceHTLCState_SETTLED, ampState.State)\n\n\t// Finally, close all channels.\n\tmts.closeChannels()\n}\n",
      "length": 3442,
      "tokens": 427,
      "embedding": [
        [
          0.020983701571822166,
          0.0206009354442358,
          -0.009336721152067184,
          -0.0007911606808193028,
          0.005081883165985346,
          0.011113842949271202,
          -0.013164367526769638,
          0.01853674091398716,
          -0.020846998319029808,
          -0.03272636979818344,
          0.02712160348892212,
          0.015843719244003296,
          -0.01716972514986992,
          -0.016622917726635933,
          0.026766179129481316,
          0.010204777121543884,
          -0.00012538103328552097,
          0.0008748904801905155,
          0.01900152675807476,
          -0.021790239959955215,
          -0.04579504579305649,
          0.011852031573653221,
          -0.017825892195105553,
          0.023690393194556236,
          0.0037798001430928707,
          0.0045487466268241405,
          0.03417540714144707,
          -0.02194061130285263,
          -0.01546095497906208,
          0.004873413126915693,
          0.008994967676699162,
          -0.03223424404859543,
          -0.03207020461559296,
          -0.010874615050852299,
          -0.012433013878762722,
          -0.032945092767477036,
          0.012890963815152645,
          -0.0010654183570295572,
          0.015843719244003296,
          0.004394957330077887,
          0.016540898010134697,
          0.003837898373603821,
          -0.0009722903487272561,
          -0.008837760426104069,
          -0.0006796634406782687,
          0.008707894012331963,
          0.013048171065747738,
          -0.04292431101202965,
          -0.008345634676516056,
          -0.00990403350442648,
          0.011004481464624405,
          -0.010655892081558704,
          -0.01960301399230957,
          0.0166639294475317,
          -0.006995705887675285,
          -0.004798227455466986,
          0.025440173223614693,
          0.007183670997619629,
          0.005512493196874857,
          0.01786690391600132,
          -0.006770148407667875,
          0.012931974604725838,
          -0.020122479647397995,
          0.020792318508028984,
          -0.0020180579740554094,
          -0.019616683945059776,
          0.00463418522849679,
          0.014121279120445251,
          -0.02851596102118492,
          -0.012918304651975632,
          0.017853233963251114,
          -0.008919782005250454,
          -0.005256177857518196,
          -0.008974461816251278,
          0.027969153597950935,
          -0.024633634835481644,
          -0.011182193644344807,
          -0.026123682036995888,
          -0.03245296701788902,
          0.01740211807191372,
          0.03122265264391899,
          0.01485946774482727,
          0.003643098520115018,
          0.04388122260570526,
          0.021626198664307594,
          -0.008249943144619465,
          -0.0010355148697271943,
          0.012583385221660137,
          0.015515635721385479,
          0.02194061130285263,
          0.02821521647274494,
          -0.02384076453745365,
          0.009965549223124981,
          0.003602087963372469,
          0.0015062810853123665,
          0.0003819101839326322,
          -0.004897336009889841,
          0.03614391013979912,
          -0.010690067894756794,
          0.008769409731030464,
          -0.018112966790795326,
          -0.01870078407227993,
          0.005027202423661947,
          0.0027101098094135523,
          -0.004145476967096329,
          -0.008249943144619465,
          -0.015023509040474892,
          -0.016349514946341515,
          0.02147582732141018,
          -0.007709972094744444,
          0.007217846345156431,
          0.015789039433002472,
          -0.013800029642879963,
          0.014941488392651081,
          -0.020997371524572372,
          0.012733757495880127,
          -0.017210735008120537,
          -0.017279086634516716,
          0.015789039433002472,
          -0.026260383427143097,
          0.025973310694098473,
          0.014777446165680885,
          0.023184597492218018,
          0.012057083658874035,
          -0.0025375240948051214,
          0.015611326321959496,
          -0.011182193644344807,
          -0.028406599536538124,
          -0.0010790885426104069,
          -0.020368542522192,
          0.010744748637080193,
          0.01693733222782612,
          0.006708632688969374,
          0.014927818439900875,
          -0.003861821023747325,
          0.03696412220597267,
          -0.025754587724804878,
          -0.011107007972896099,
          -0.03710082173347473,
          -0.010396159254014492,
          -0.010478179901838303,
          0.03237094730138779,
          -0.026301393285393715,
          0.026492776349186897,
          -0.04382654279470444,
          0.01190671231597662,
          0.009446082636713982,
          0.019849076867103577,
          0.023690393194556236,
          -0.015583986416459084,
          0.008188427425920963,
          0.010792593471705914,
          0.0103004677221179,
          0.012713251635432243,
          -0.02455161325633526,
          0.027777772396802902,
          -0.013936731033027172,
          0.001744654611684382,
          0.010061239823698997,
          -0.02501639910042286,
          -0.025235122069716454,
          0.03677273914217949,
          -0.004839237779378891,
          -0.019493652507662773,
          0.015515635721385479,
          0.03001967817544937,
          0.020245511084794998,
          -0.020751308649778366,
          -0.0013738514389842749,
          -0.0216398686170578,
          -0.015119200572371483,
          -0.019356951117515564,
          -0.03649933636188507,
          0.03663603588938713,
          0.00712899025529623,
          0.04478345438838005,
          0.008359304629266262,
          -0.0012149357935413718,
          0.006165243685245514,
          0.002899783430621028,
          0.020764978602528572,
          0.010402994230389595,
          0.002628088928759098,
          0.04749014601111412,
          -0.003926754463464022,
          -0.01997210830450058,
          0.0038754912093281746,
          0.0021581770852208138,
          0.006551425904035568,
          -0.02497538924217224,
          0.029363511130213737,
          0.007942364551126957,
          -0.017579829320311546,
          -0.019124558195471764,
          -0.559054970741272,
          -0.02050524577498436,
          -0.01165381446480751,
          0.0016113704768940806,
          0.014736436307430267,
          0.0028553553856909275,
          0.01927492953836918,
          0.017976265400648117,
          -0.03909666836261749,
          0.034421470016241074,
          0.004993027076125145,
          0.00361917563714087,
          0.012979820370674133,
          0.004121554084122181,
          0.015802709385752678,
          -0.008537016808986664,
          -0.009234195575118065,
          -0.014298990368843079,
          -0.027162615209817886,
          0.01807195506989956,
          -0.028762023895978928,
          0.009411907754838467,
          -0.011763175949454308,
          0.001733547542244196,
          0.004213827662169933,
          -0.034448809921741486,
          0.0015814669895917177,
          -0.0015105530619621277,
          0.02057359553873539,
          -0.011134347878396511,
          -0.03253499045968056,
          0.008454996161162853,
          0.009001802653074265,
          0.0005626126658171415,
          0.06146105378866196,
          0.011257379315793514,
          -0.012323652394115925,
          -0.01379319466650486,
          -0.01773020252585411,
          0.03803039342164993,
          -0.009528104215860367,
          -0.027203625068068504,
          -0.01354029681533575,
          -0.0003238119825255126,
          0.033847324550151825,
          -0.00040412420639768243,
          0.021120402961969376,
          -0.03398402780294418,
          0.01703302375972271,
          -0.002923706080764532,
          -0.019726045429706573,
          -0.0038994140923023224,
          0.005416802130639553,
          0.005563756451010704,
          -0.005307441111654043,
          0.008906111121177673,
          0.02922680974006653,
          -0.0001165167850558646,
          -0.003554242430254817,
          0.023458000272512436,
          -0.01863243244588375,
          -0.007901354692876339,
          -0.0048289853148162365,
          -0.0035884177777916193,
          0.0025546117685735226,
          0.0032210322096943855,
          -0.024866027757525444,
          0.03781167045235634,
          0.018482061102986336,
          0.0005459521198645234,
          -0.01402558758854866,
          0.023936456069350243,
          -0.016281165182590485,
          -0.02677984908223152,
          0.03223424404859543,
          0.018345359712839127,
          0.001226897118613124,
          0.006551425904035568,
          -0.012111764401197433,
          0.016458876430988312,
          -0.024428581818938255,
          -0.02437390200793743,
          -0.008407150395214558,
          -0.04995077848434448,
          0.018359029665589333,
          -0.017812222242355347,
          0.00017311979900114238,
          -0.02127077430486679,
          0.04806429520249367,
          0.0019531245343387127,
          0.009979219175875187,
          -0.008865101262927055,
          0.0022897522430866957,
          -0.029882976785302162,
          0.01476377621293068,
          -0.009261535480618477,
          0.0031748954206705093,
          0.03398402780294418,
          0.004627350252121687,
          -0.023334968835115433,
          0.005915763322263956,
          0.021421145647764206,
          0.003207362024113536,
          0.0050032795406877995,
          0.03242562711238861,
          0.00941874273121357,
          0.003984852693974972,
          -0.02925414964556694,
          0.03078520856797695,
          -0.024155179038643837,
          -0.007176835555583239,
          -0.022022632881999016,
          -0.0032398286275565624,
          -0.004391539841890335,
          -0.03351924195885658,
          -0.049513332545757294,
          0.022296035662293434,
          0.011783680878579617,
          0.020081469789147377,
          -0.02881670370697975,
          0.035186998546123505,
          0.023266617208719254,
          0.019479982554912567,
          -0.024073157459497452,
          0.025699907913804054,
          0.001472960109822452,
          0.007211011368781328,
          -0.003872073721140623,
          0.021790239959955215,
          0.02587761916220188,
          -0.0038003053050488234,
          0.002045398112386465,
          0.06435912847518921,
          -0.025221452116966248,
          0.04623249173164368,
          0.0032398286275565624,
          0.037784330546855927,
          -0.013157532550394535,
          0.02377241477370262,
          -0.03524168208241463,
          0.015023509040474892,
          0.009405072778463364,
          0.004863160662353039,
          -0.021407475695014,
          -0.007416063454002142,
          -0.022118324413895607,
          -0.0513724721968174,
          -0.014367341995239258,
          -0.0035029794089496136,
          0.0033098882995545864,
          -0.006196001544594765,
          0.0038584035355597734,
          -0.027203625068068504,
          -0.017388448119163513,
          -0.029800955206155777,
          -0.024332890287041664,
          0.014244310557842255,
          0.001555835478939116,
          0.005563756451010704,
          -0.010389324277639389,
          -0.007908189669251442,
          0.03693678230047226,
          -0.01439468190073967,
          0.009090658277273178,
          -0.024059487506747246,
          0.017484139651060104,
          -0.00226241210475564,
          0.019329611212015152,
          0.012344157323241234,
          -0.029035426676273346,
          -0.023635711520910263,
          -0.005638942588120699,
          -0.015474624931812286,
          0.017989935353398323,
          -0.017156055197119713,
          0.025194110348820686,
          0.008967626839876175,
          -0.020368542522192,
          -0.016103452071547508,
          -0.002047106856480241,
          -0.0007830440299585462,
          0.014490373432636261,
          -0.002105205086991191,
          0.014422022737562656,
          0.03223424404859543,
          0.021024711430072784,
          -0.00501011498272419,
          0.039889536798000336,
          -0.00938456691801548,
          0.022090984508395195,
          -0.014640744775533676,
          0.04226814582943916,
          0.01853674091398716,
          0.007942364551126957,
          0.003578165313228965,
          0.007621116004884243,
          0.01295931451022625,
          0.005249342881143093,
          0.025822939351201057,
          0.01719706505537033,
          0.007170000579208136,
          -0.015939410775899887,
          0.0008044036803767085,
          -0.007163165602833033,
          0.009172679856419563,
          -0.02698490209877491,
          -2.5057515813387e-05,
          -0.003388491692021489,
          -0.009815176948904991,
          0.02090167999267578,
          0.004080543760210276,
          -0.0026622642762959003,
          -0.029172128066420555,
          -0.00046991187264211476,
          -0.009876692667603493,
          0.02314358577132225,
          -0.0019257842795923352,
          -0.012439848855137825,
          0.022432738915085793,
          -0.013116521760821342,
          -0.018960516899824142,
          -0.01773020252585411,
          0.015857389196753502,
          0.010662727057933807,
          -0.024264540523290634,
          -0.007525424938648939,
          0.016417866572737694,
          0.0007492958102375269,
          -0.019685035571455956,
          0.0072588566690683365,
          -0.01566600799560547,
          0.04382654279470444,
          0.020231841132044792,
          0.02110673300921917,
          0.044373348355293274,
          0.01425798051059246,
          0.008994967676699162,
          0.009329886175692081,
          0.008188427425920963,
          0.010184271261096,
          0.006192584056407213,
          0.01786690391600132,
          0.0221046544611454,
          -0.011838361620903015,
          0.025125760585069656,
          -0.0113394008949399,
          0.01454505417495966,
          0.02066928707063198,
          -0.00306382542476058,
          -0.009965549223124981,
          -0.0023239278234541416,
          0.02851596102118492,
          -0.01182469166815281,
          0.01073791366070509,
          0.03983485698699951,
          -0.008263614028692245,
          -0.01990375854074955,
          -0.0016651967307552695,
          0.041229210793972015,
          0.017183395102620125,
          0.016923662275075912,
          0.038522519171237946,
          0.015857389196753502,
          -0.01733376644551754,
          0.0036806913558393717,
          -0.013670163229107857,
          0.0006766730803065002,
          -0.005666282493621111,
          -0.01696467213332653,
          -0.006500162649899721,
          0.02427821047604084,
          -0.005662865005433559,
          -0.01913822814822197,
          0.00916584488004446,
          0.024168848991394043,
          0.03909666836261749,
          -0.007853508926928043,
          0.01719706505537033,
          0.024291880428791046,
          -0.023034224286675453,
          -0.0003983571077696979,
          -0.02677984908223152,
          0.013219048269093037,
          0.01786690391600132,
          -0.02131178416311741,
          -0.03012903966009617,
          0.017388448119163513,
          -0.021024711430072784,
          -0.021954283118247986,
          -0.013882051222026348,
          -0.0012234796304255724,
          -0.012309982441365719,
          -0.01823599822819233,
          -0.000583545072004199,
          -4.1517781937727705e-05,
          0.01293880958110094,
          0.032015521079301834,
          0.017415788024663925,
          -0.008981297723948956,
          -0.010792593471705914,
          -0.0221046544611454,
          0.019179239869117737,
          -0.05325895547866821,
          -0.013499286025762558,
          0.003041611285880208,
          0.004449638072401285,
          -0.038221776485443115,
          -0.02671149931848049,
          0.009541774168610573,
          -0.002026601694524288,
          0.04010825976729393,
          -0.000274257647106424,
          -0.000836870283819735,
          0.017115045338869095,
          0.04716206341981888,
          0.0018403456779196858,
          -0.016951002180576324,
          0.0025426503270864487,
          0.026301393285393715,
          0.0028792780358344316,
          -0.03740156814455986,
          -0.04292431101202965,
          -0.020259182900190353,
          0.0038276456762105227,
          0.010983976535499096,
          0.03012903966009617,
          0.02200896292924881,
          0.0113394008949399,
          -0.00403269799426198,
          -0.005191244650632143,
          -0.008003880269825459,
          -0.009808341972529888,
          -0.00153191271238029,
          -0.005413384642452002,
          0.015953080728650093,
          0.007696302141994238,
          -0.02751803956925869,
          -0.012262136675417423,
          0.01816764660179615,
          0.03001967817544937,
          -0.003844733349978924,
          -0.04344378039240837,
          0.025631556287407875,
          -0.013089180923998356,
          0.016923662275075912,
          -0.014914148487150669,
          -0.012699581682682037,
          0.03813975676894188,
          0.015119200572371483,
          0.001020135940052569,
          -0.00858486257493496,
          -0.008947121910750866,
          0.01583004929125309,
          -0.03573380783200264,
          -0.007641621399670839,
          -0.0069649480283260345,
          0.0154472840949893,
          -0.013779524713754654,
          -0.03712816536426544,
          0.005416802130639553,
          0.004401792772114277,
          -0.012063919566571712,
          0.055391501635313034,
          -0.005826907232403755,
          0.014052927494049072,
          -0.0038208106998354197,
          -0.009179514832794666,
          -0.004787974525243044,
          0.00901547260582447,
          -0.026096342131495476,
          0.0059396857395768166,
          -0.018044615164399147,
          -0.001951415790244937,
          3.444240428507328e-05,
          0.010690067894756794,
          -0.008496006950736046,
          -0.004101049154996872,
          0.00446672597900033,
          0.01272692158818245,
          0.01559765636920929,
          -0.03510497882962227,
          0.017115045338869095,
          0.01950732246041298,
          -0.016554567962884903,
          -0.02133912406861782,
          -0.03740156814455986,
          0.00021551866666413844,
          -0.020751308649778366,
          -0.03756560757756233,
          -0.0024196188896894455,
          -0.026041660457849503,
          0.0016182055696845055,
          -0.04202208295464516,
          -0.0226788017898798,
          -0.031167972832918167,
          0.006937607657164335,
          -0.03450349345803261,
          -0.012248466722667217,
          0.018577752634882927,
          0.011811020784080029,
          0.02207731455564499,
          0.017251746729016304,
          0.010833604261279106,
          0.027600059285759926,
          0.0013935022288933396,
          0.010881450027227402,
          -0.0036670214030891657,
          -0.013205377385020256,
          -0.010867780074477196,
          0.025330811738967896,
          0.013957236893475056,
          -0.002911744872108102,
          -0.019890086725354195,
          0.018413709476590157,
          -0.003332102205604315,
          0.014175958931446075,
          -0.021366465836763382,
          -0.03786635398864746,
          0.00623701186850667,
          0.0060012019239366055,
          -0.005437307525426149,
          0.027777772396802902,
          -0.01680063083767891,
          0.018290678039193153,
          0.0031458463054150343,
          -0.0209426898509264,
          -0.04038166254758835,
          -0.008728398941457272,
          -0.035679128021001816,
          0.012385168112814426,
          -0.0019018615130335093,
          -0.008167922496795654,
          -0.03343721851706505,
          -0.02501639910042286,
          0.030976589769124985,
          -0.023102575913071632,
          0.008796749636530876,
          -0.005358703900128603,
          0.006982035934925079,
          -0.0018300930969417095,
          -0.005850830115377903,
          0.0036294283345341682,
          -0.03256233036518097,
          0.003930171951651573,
          0.012644900940358639,
          0.017115045338869095,
          0.0323982872068882,
          0.0004652127390727401,
          -0.025522194802761078,
          0.010027064941823483,
          0.027996495366096497,
          -0.003831063164398074,
          0.0011927217710763216,
          0.01807195506989956,
          -0.012918304651975632,
          0.010163766331970692,
          0.017853233963251114,
          -0.030484464019536972,
          -0.014326331205666065,
          -0.028160536661744118,
          -0.03833113610744476,
          -0.00012516742572188377,
          -0.0023307627998292446,
          0.037756990641355515,
          -0.005078465677797794,
          0.004962269216775894,
          -0.011612803675234318,
          -0.003718284424394369,
          0.026602137833833694,
          -0.03663603588938713,
          -0.015392604283988476,
          0.010553366504609585,
          0.03198818117380142,
          -0.0023119663819670677,
          0.03756560757756233,
          -0.0013354041147977114,
          -0.022596780210733414,
          -0.004217245150357485,
          -0.010546530596911907,
          -0.030484464019536972,
          0.015474624931812286,
          0.004012193065136671,
          -0.018878495320677757,
          0.0070332991890609264,
          0.03275370970368385,
          -0.006428394466638565,
          0.016841640695929527,
          0.01900152675807476,
          -0.005550086498260498,
          -0.0065275030210614204,
          -0.002028310438618064,
          -0.0062404293566942215,
          -0.020559925585985184,
          -0.014955158345401287,
          -0.0030843305867165327,
          -0.019315941259264946,
          0.0005574863753281534,
          -0.007737312465906143,
          0.026943892240524292,
          -0.00452482420951128,
          -0.013430935330688953,
          5.046212754677981e-05,
          -0.01485946774482727,
          -0.020395884290337563,
          -0.004200157709419727,
          0.01227580662816763,
          -0.050278861075639725,
          -0.007552765309810638,
          -0.032480306923389435,
          -0.01920657977461815,
          0.02043689414858818,
          -0.008844595402479172,
          -0.002134254202246666,
          0.030648505315184593,
          0.03469487279653549,
          -0.024469591677188873,
          0.013410430401563644,
          0.009726321324706078,
          0.002983513055369258,
          0.024770336225628853,
          -0.028680002316832542,
          -0.0393427312374115,
          0.004839237779378891,
          0.018782803788781166,
          0.003253498813137412,
          0.0254538431763649,
          0.01559765636920929,
          -0.018249668180942535,
          -0.026465436443686485,
          -0.003872073721140623,
          -0.02323927730321884,
          0.001208100700750947,
          -0.009370896965265274,
          -0.030402442440390587,
          -0.020723966881632805,
          -0.048501741141080856,
          0.006766730919480324,
          -0.020313862711191177,
          0.004668360576033592,
          -0.014695425517857075,
          -0.025699907913804054,
          0.0035098143853247166,
          -0.013998247683048248,
          -0.004801644943654537,
          0.02337597869336605,
          -0.012303146533668041,
          0.04959535226225853,
          0.01416228897869587,
          0.009070153348147869,
          0.008605367504060268,
          0.0037387895863503218,
          -0.032206904143095016,
          -0.006859004497528076,
          -0.017443127930164337,
          -0.0007851800182834268,
          0.002769916784018278,
          0.051645878702402115,
          0.014599733985960484,
          -0.0003297927032690495,
          0.00035585142904892564,
          -0.0022675383370369673,
          -0.01155812293291092,
          -0.024893367663025856,
          0.02006779983639717,
          0.02328028902411461,
          0.0023136751260608435,
          -0.023430660367012024,
          0.0036396810319274664,
          -0.0161991436034441,
          0.03756560757756233,
          -0.007053804118186235,
          -0.016841640695929527,
          0.01719706505537033,
          -0.0218722615391016,
          0.0025648644659668207,
          0.005758556071668863,
          -0.004993027076125145,
          0.015009839087724686,
          -0.004900753498077393,
          -0.006062717642635107,
          0.020231841132044792,
          -0.006281440146267414,
          -0.029773615300655365,
          0.0060285418294370174,
          -0.002182099735364318,
          0.03515965864062309,
          -0.02474299632012844,
          0.008400315418839455,
          -0.009569114074110985,
          -0.0014609986683353782,
          0.0015096986899152398,
          -0.00475038168951869,
          0.032206904143095016,
          0.032015521079301834,
          -0.02865266241133213,
          0.006821411661803722,
          0.03663603588938713,
          0.016322175040841103,
          0.012405673041939735,
          -0.022214015945792198,
          0.0026195449754595757,
          -0.019520992413163185,
          -0.0218722615391016,
          -0.0024845520965754986,
          0.04180335998535156,
          -0.04415462911128998,
          0.013055006042122841,
          -0.005095553584396839,
          -0.007026463747024536,
          0.018112966790795326,
          -0.002211148850619793,
          -0.02224135585129261,
          0.02881670370697975,
          -0.007375053130090237,
          0.00858486257493496,
          -0.00043701802496798337,
          -0.016117122024297714,
          0.002587078372016549,
          0.02284284308552742,
          -0.008161087520420551,
          0.013041336089372635,
          0.019452642649412155,
          -0.0270805936306715,
          -0.002453794237226248,
          -0.01960301399230957,
          -0.019780727103352547,
          -0.010430335067212582,
          -0.012350992299616337,
          -0.017593499273061752,
          -0.014148619025945663,
          0.002906618406996131,
          -0.0171287152916193,
          -0.020751308649778366,
          -0.04300633445382118,
          0.018509401008486748,
          0.01900152675807476,
          -0.0019377456046640873,
          0.026643147692084312,
          -0.02050524577498436,
          0.0030757866334170103,
          0.0004019882471766323,
          -0.01295931451022625,
          0.03149605542421341,
          0.017443127930164337,
          -0.010444005019962788,
          -0.00655484339222312,
          0.01747046783566475,
          -0.003933589439839125,
          -0.014435692690312862,
          0.001525931991636753,
          0.010232117027044296,
          -0.015843719244003296,
          -0.0002501212584320456,
          -0.009070153348147869,
          0.0333278588950634,
          0.006018289364874363,
          -0.01987641677260399,
          -0.03351924195885658,
          -0.0021427981555461884,
          0.0036806913558393717,
          0.0040156105533242226,
          -0.017183395102620125,
          -0.0062335943803191185,
          -0.021462155506014824,
          -0.0035576599184423685,
          0.022214015945792198,
          0.031441375613212585,
          -0.021626198664307594,
          -0.0006826538010500371,
          0.034913595765829086,
          0.01250819955021143,
          0.011148017831146717,
          0.007504919543862343,
          -0.0418853797018528,
          0.014298990368843079,
          0.03464019298553467,
          -0.0031082534696906805,
          -0.010375654324889183,
          -0.02066928707063198,
          0.01476377621293068,
          -0.049650032073259354,
          -0.021749230101704597,
          -0.034148067235946655,
          0.010061239823698997,
          0.019780727103352547,
          0.017689190804958344,
          -0.013403595425188541,
          0.008270449005067348,
          0.030566485598683357,
          0.017456797882914543,
          -0.035952530801296234,
          5.542824146687053e-05,
          0.03723752498626709,
          0.0037046142388135195,
          -0.01773020252585411,
          0.004398374818265438,
          -0.03499561920762062,
          -0.02791447378695011,
          0.04010825976729393,
          0.0381944365799427,
          8.880266250343993e-05,
          0.013895721174776554,
          0.003140720073133707,
          -0.04013559967279434,
          0.014381011947989464,
          -0.005218585021793842,
          -0.020464234054088593,
          -0.04609579220414162,
          -0.00712899025529623,
          -0.020983701571822166,
          -0.020081469789147377,
          0.008126911707222462,
          0.004610262345522642,
          -0.018892165273427963,
          -0.011605968698859215,
          0.01115485280752182,
          0.010649057105183601,
          1.5806126612005755e-05,
          -0.019999448210000992,
          -0.028269898146390915,
          -0.013055006042122841,
          -0.020587265491485596,
          0.013731678947806358,
          0.0029852217994630337,
          0.018194986507296562,
          0.02200896292924881,
          0.04163931682705879,
          0.006513832602649927,
          -0.005167321767657995,
          0.004343694541603327,
          -0.030675847083330154,
          -0.03390200436115265,
          0.0033748215064406395,
          -0.0021547595970332623,
          -0.004801644943654537,
          0.007921859622001648,
          -0.018728123977780342,
          0.020163491368293762,
          -0.02594597078859806,
          -0.0020231842063367367,
          -0.029636913910508156,
          -0.009555444121360779,
          0.020587265491485596,
          -0.0020129315089434385,
          -0.01566600799560547,
          0.011455596424639225,
          -0.02224135585129261,
          0.016445206478238106,
          -0.0009628921397961676,
          -0.028734683990478516,
          0.003258625278249383,
          0.012303146533668041,
          0.002988639520481229,
          9.045803017215803e-05,
          -0.013143861666321754,
          -0.010184271261096,
          -0.00566970044746995,
          -0.025809267535805702,
          -0.014353671111166477,
          -0.027395008131861687,
          0.19433504343032837,
          -0.007067474536597729,
          -0.026096342131495476,
          0.014285320416092873,
          -0.011510277166962624,
          0.008776244707405567,
          -0.008981297723948956,
          0.011264214292168617,
          0.012583385221660137,
          0.022815503180027008,
          -0.0032432463485747576,
          0.005697040352970362,
          -0.015611326321959496,
          0.005239089950919151,
          0.006035377271473408,
          0.01809929683804512,
          -0.01733376644551754,
          -0.010109085589647293,
          -0.013212213292717934,
          -0.005266430322080851,
          0.002851937897503376,
          -0.004921258892863989,
          0.01656823791563511,
          -0.015119200572371483,
          -0.01187253650277853,
          -0.03012903966009617,
          0.005806401837617159,
          -0.02147582732141018,
          0.012884128838777542,
          0.032917752861976624,
          -0.0256862360984087,
          -0.009275205433368683,
          0.0010739621939137578,
          -0.008974461816251278,
          0.0006809449987486005,
          -0.0065992712043225765,
          -0.0030740778893232346,
          0.0006241283845156431,
          0.018509401008486748,
          0.0074707441963255405,
          0.022883852943778038,
          0.0216398686170578,
          0.013465111143887043,
          0.0019343281164765358,
          0.014216969721019268,
          0.006770148407667875,
          0.008673718199133873,
          0.0027084010653197765,
          0.013164367526769638,
          0.021366465836763382,
          -0.03682741895318031,
          0.01890583522617817,
          0.01946631260216236,
          0.01770286075770855,
          -0.01447670254856348,
          -0.003725119400769472,
          0.03349189832806587,
          0.009589619934558868,
          -0.016021430492401123,
          0.00806539598852396,
          -0.009774167090654373,
          -0.0010756709380075336,
          -0.002211148850619793,
          0.028433939442038536,
          -0.023389648646116257,
          0.039588794112205505,
          -0.017374778166413307,
          -0.013745348900556564,
          0.026260383427143097,
          -0.01522856205701828,
          0.032781053334474564,
          -0.027805112302303314,
          0.011353070847690105,
          -0.010594376362860203,
          -0.009992889128625393,
          -0.03483157604932785,
          0.012528704479336739,
          0.02124343439936638,
          0.012979820370674133,
          0.019397960975766182,
          -0.01062171719968319,
          0.01390939112752676,
          0.0031065447255969048,
          0.007074309512972832,
          -0.0057141282595694065,
          -0.0019428719533607364,
          0.02173556014895439,
          0.00655484339222312,
          0.027135273441672325,
          0.011592298746109009,
          -0.005098971072584391,
          -0.004538494162261486,
          -0.01699201390147209,
          0.007545930333435535,
          -0.012986655347049236,
          0.0001129924421547912,
          0.04858376085758209,
          -0.020190831273794174,
          -0.01969870552420616,
          -0.010949800722301006,
          -0.003960929811000824,
          0.026602137833833694,
          0.016513558104634285,
          -0.01856408268213272,
          -0.007662126328796148,
          -0.02999233826994896,
          0.010320973582565784,
          0.02133912406861782,
          -0.003354316344484687,
          -0.048310358077287674,
          0.00018145005742553622,
          -0.05801617354154587,
          -0.025235122069716454,
          -0.010983976535499096,
          0.004743546713143587,
          0.01710137352347374,
          0.02194061130285263,
          0.0308945681899786,
          -0.020026789978146553,
          0.0049827746115624905,
          -0.02802383527159691,
          -0.009398236870765686,
          1.2598844705280499e-06,
          0.008352469652891159,
          0.008776244707405567,
          -0.005256177857518196,
          -0.021229764446616173,
          -0.026930222287774086,
          0.0070401341654360294,
          -0.02585027925670147,
          0.02133912406861782,
          0.0206009354442358,
          0.020778648555278778,
          -0.028871385380625725,
          -0.013724843971431255,
          0.012043413706123829,
          0.03712816536426544,
          0.007135825231671333,
          -0.028105854988098145,
          0.0005711565027013421,
          0.032343607395887375,
          0.014927818439900875,
          0.02237805724143982,
          -0.018181316554546356,
          0.0037353720981627703,
          -0.03797571361064911,
          0.011729000136256218,
          0.021024711430072784,
          -0.018017275258898735,
          -0.013745348900556564,
          -0.0349409356713295,
          -0.007081144489347935,
          -0.014777446165680885,
          0.005204914603382349,
          0.0044769784435629845,
          -0.0354057215154171,
          -0.01809929683804512,
          -0.04194005951285362,
          0.02862532250583172,
          -0.02004045993089676,
          -0.03346455842256546,
          -0.0006967511144466698,
          0.005245925392955542,
          -0.0065787662751972675,
          -0.02328028902411461,
          -0.018782803788781166,
          -0.16874448955059052,
          0.004101049154996872,
          0.02848862111568451,
          0.004572669509798288,
          0.020546255633234978,
          0.015419944189488888,
          0.02922680974006653,
          -0.01250819955021143,
          -0.01583004929125309,
          0.006705215200781822,
          0.028242558240890503,
          -0.03376530483365059,
          0.024264540523290634,
          0.006715467665344477,
          0.012658570893108845,
          -0.0007582668913528323,
          -0.016609247773885727,
          0.010115920566022396,
          0.025891289114952087,
          0.00926837045699358,
          0.028105854988098145,
          -0.01649988628923893,
          0.022350717335939407,
          0.00916584488004446,
          -0.00589525792747736,
          0.0024093661922961473,
          -0.013396760448813438,
          -0.004948599264025688,
          -0.02321193739771843,
          -0.01823599822819233,
          -0.032343607395887375,
          0.030703186988830566,
          -0.0003513659175951034,
          -0.00512631144374609,
          0.03001967817544937,
          0.007908189669251442,
          0.02404581755399704,
          -0.004729876294732094,
          0.020231841132044792,
          0.0271899551153183,
          -0.004945181775838137,
          0.017989935353398323,
          -0.0011047200532630086,
          0.014845797792077065,
          -0.0027835869695991278,
          0.013923061080276966,
          0.014203299768269062,
          -0.005249342881143093,
          -0.0027682080399245024,
          0.007580105680972338,
          0.04254154860973358,
          -0.022460078820586205,
          -0.001999261323362589,
          0.02374507300555706,
          0.021366465836763382,
          -0.005994366481900215,
          -0.03256233036518097,
          0.0024948047939687967,
          -0.02043689414858818,
          -0.006718885153532028,
          -0.011913547292351723,
          -0.006623194087296724,
          -0.003441463690251112,
          -0.014326331205666065,
          0.0025375240948051214,
          -0.010922460816800594,
          -0.020464234054088593,
          0.00045538731501437724,
          -0.038987305015325546,
          -0.00336115132085979,
          -0.01719706505537033,
          -0.032343607395887375,
          0.0018950264202430844,
          -0.03584316745400429,
          0.05109906941652298,
          0.020956359803676605,
          -0.002385443542152643,
          0.03045712411403656,
          -0.0011064287973567843,
          -0.004083961248397827,
          -0.011804185807704926,
          0.05202864110469818,
          -0.008051726035773754,
          0.010526025667786598,
          0.013376254588365555,
          0.011277885176241398,
          -0.005984114017337561,
          0.002298296196386218,
          0.0268482007086277,
          -0.020095139741897583,
          0.005823489744216204,
          -0.01507818978279829,
          0.006674457341432571,
          -0.014422022737562656,
          0.0060798050835728645,
          -0.014490373432636261,
          -0.007874013856053352,
          -0.010710572823882103,
          0.01514654140919447,
          -0.024155179038643837,
          -0.013027665205299854,
          0.018851155415177345,
          0.002426454098895192,
          0.013437770307064056,
          0.005218585021793842,
          0.02647910639643669,
          0.0024674644228070974,
          0.02344433031976223,
          0.003930171951651573,
          0.0022538681514561176,
          -0.012433013878762722,
          0.011954558081924915,
          0.0509076863527298,
          0.0268482007086277,
          0.00552616361528635,
          0.015720687806606293,
          0.015242232009768486,
          -0.031277332454919815,
          -0.013007160276174545,
          -0.0007954325992614031,
          0.06977251172065735,
          -0.00026485940907150507,
          -0.012193785980343819,
          0.014326331205666065,
          -0.00821576826274395,
          -0.005266430322080851,
          -0.11767276376485825,
          -0.014148619025945663,
          -0.01696467213332653,
          0.0685148611664772,
          -0.019862746819853783,
          -0.0063873836770653725,
          -0.011004481464624405,
          0.029636913910508156,
          -0.005929433275014162,
          0.03436679020524025,
          -0.04224080592393875,
          -0.018194986507296562,
          -0.010382489301264286,
          0.007422898896038532,
          -0.005850830115377903,
          -0.031714778393507004,
          -0.004907588474452496,
          -0.008694224059581757,
          0.0059328507632017136,
          0.05167321860790253,
          -0.013526626862585545,
          -0.011400916613638401,
          0.012193785980343819,
          -0.04497483745217323,
          0.00881725549697876,
          -0.008830925449728966,
          -0.0055535039864480495,
          0.028242558240890503,
          -0.005915763322263956,
          0.004945181775838137,
          -0.013013995252549648,
          -0.005457812920212746,
          0.009111164137721062,
          -0.002086408669129014,
          0.027230964973568916,
          -0.030675847083330154,
          -0.01188620738685131,
          -0.00843449030071497,
          0.023252947255969048,
          -0.00392333697527647,
          0.00976733211427927,
          0.046970680356025696,
          0.0007821896579116583,
          -0.011346235871315002,
          -0.009227360598742962,
          -0.02851596102118492,
          -0.03707348182797432,
          0.01883748546242714,
          0.01021844707429409,
          -0.010115920566022396,
          -0.02263779006898403,
          0.01599409058690071,
          0.0004101048980373889,
          0.007709972094744444,
          0.013752183876931667,
          -0.01673227921128273,
          0.02113407291471958,
          0.036253273487091064,
          -0.01840003952383995,
          -0.015843719244003296,
          -0.01250819955021143,
          0.022583110257983208,
          -0.002910036128014326,
          0.0077578178606927395,
          0.00023111120390240103,
          0.019931098446249962,
          -0.03062116540968418,
          -0.03647199645638466,
          0.015980420634150505,
          -0.02420985884964466,
          -0.014941488392651081,
          0.0273129865527153,
          0.007928694598376751,
          0.00046905747149139643,
          -0.03436679020524025,
          0.024770336225628853,
          -0.027709420770406723,
          -0.02173556014895439,
          0.029664253816008568,
          0.008694224059581757,
          -0.020259182900190353,
          -0.03556976467370987,
          -0.004442803096026182,
          -0.014941488392651081,
          0.025932298973202705,
          -0.0007608300074934959,
          -0.01142142154276371,
          0.01084043923765421,
          -0.0037695474456995726,
          -0.030402442440390587,
          0.0020368543919175863,
          0.019589344039559364,
          0.014175958931446075,
          0.017251746729016304,
          -0.025740917772054672,
          0.002611001254990697,
          -0.02911744825541973,
          -0.007443403825163841,
          0.007368218153715134,
          -0.014613404870033264,
          -0.022719811648130417,
          0.004593174904584885,
          -0.0506889671087265,
          0.021954283118247986,
          0.005457812920212746,
          -0.02230970561504364,
          -0.013581307604908943,
          0.02367672324180603,
          0.0057004583068192005,
          -0.02985563687980175,
          0.004418880213052034,
          0.011571792885661125,
          -0.017087703570723534,
          0.011681154370307922,
          -0.010826769284904003,
          -0.027928143739700317,
          -0.020833328366279602,
          0.0020368543919175863,
          0.0036943615414202213,
          -0.015529305674135685,
          0.01045083999633789,
          0.0398075170814991,
          0.0007608300074934959,
          -0.023403320461511612,
          -0.02418251894414425,
          0.017989935353398323,
          0.01967136561870575,
          -0.003564495127648115,
          -7.337032729992643e-05,
          0.004128389526158571,
          0.0027955484110862017,
          0.02571357786655426,
          0.015050849877297878,
          0.004938346333801746,
          -0.017552489414811134,
          0.019780727103352547,
          0.0103551484644413,
          -0.0003423948655836284,
          0.0005852538743056357,
          0.007368218153715134,
          0.017374778166413307,
          -0.013977741822600365,
          -0.01883748546242714,
          0.0027271974831819534,
          -0.016814300790429115,
          -0.038495179265737534,
          -0.022993214428424835,
          -0.018277008086442947,
          0.003742207307368517,
          0.026492776349186897,
          0.012699581682682037,
          0.020259182900190353,
          0.026902880519628525,
          0.016951002180576324,
          -0.014572394080460072,
          -0.015775367617607117,
          -0.023895446211099625,
          0.00036290011485107243,
          0.006971783470362425,
          0.005604766774922609,
          0.013724843971431255,
          0.007518589962273836,
          0.03669071942567825,
          0.036554016172885895,
          0.050142157822847366,
          -0.02665681764483452,
          -0.014039257541298866,
          -0.0006518959417007864,
          -0.028844045475125313,
          0.007361382711678743,
          0.0271899551153183,
          -0.06277339160442352,
          -0.006913685239851475,
          -0.010232117027044296,
          -0.0053518689237535,
          0.011701660230755806,
          -0.009391401894390583,
          0.009364061988890171,
          0.014066598378121853,
          -0.023034224286675453,
          -0.012870458886027336,
          0.005543251056224108,
          0.016691269353032112,
          -0.0003658904752228409,
          -0.007231516297906637,
          0.012733757495880127,
          0.002822888782247901,
          0.01987641677260399,
          0.0018881913274526596,
          0.02124343439936638,
          -0.032480306923389435,
          -0.023704063147306442,
          -0.0414205938577652,
          -0.000262296263827011,
          0.011093337088823318,
          0.0007967142155393958,
          0.014982499182224274,
          0.029172128066420555,
          0.015611326321959496,
          0.0218722615391016,
          0.05006013810634613,
          -0.0063873836770653725,
          0.01883748546242714,
          -0.0016609248705208302,
          -0.015283242799341679,
          -0.011428256519138813,
          0.02053258568048477,
          -0.0050408728420734406,
          -0.03576114773750305,
          -0.02284284308552742,
          0.005990948993712664,
          0.011038657277822495,
          0.0037046142388135195,
          -0.017456797882914543,
          -0.0018779386300593615,
          0.02040955424308777,
          -0.032644350081682205,
          0.030812548473477364,
          -0.019630353897809982,
          -0.008543851785361767,
          -0.028762023895978928,
          0.027736760675907135,
          -0.0050545427948236465,
          -0.007299866992980242,
          0.030867228284478188,
          0.02420985884964466,
          0.0256862360984087,
          0.0010517481714487076,
          -0.008523346856236458,
          0.005505658220499754,
          -0.002298296196386218,
          -0.005263012833893299,
          0.024264540523290634,
          0.013998247683048248,
          -0.05714128166437149,
          -0.024565283209085464,
          -0.007484414614737034,
          -0.0005523600266315043,
          -0.03155073523521423,
          0.01680063083767891,
          -0.018659772351384163,
          0.042295485734939575,
          0.0020812824368476868,
          -0.0358705073595047,
          -0.0014746688539162278,
          0.024469591677188873,
          0.012453518807888031,
          -0.010375654324889183,
          -0.022049972787499428,
          0.016786960884928703,
          -0.04609579220414162,
          -0.005116058513522148,
          9.483675967203453e-05,
          0.009227360598742962,
          -0.031113291159272194,
          0.001273033907637,
          -0.0017010809388011694,
          -0.0016763038001954556,
          0.04478345438838005,
          0.002047106856480241,
          -0.028980746865272522,
          0.02404581755399704,
          0.013841040432453156,
          0.013027665205299854,
          0.00952126830816269,
          -0.014927818439900875,
          -0.013041336089372635,
          0.015296912752091885,
          0.003909666556864977,
          0.0171287152916193,
          -0.02073763683438301,
          -0.008885606192052364,
          -0.012603890150785446,
          -0.01770286075770855,
          -0.025699907913804054,
          -0.015652336180210114,
          -0.019261259585618973,
          -0.0003263751568738371,
          -0.0164315365254879,
          0.04325239732861519,
          0.0029664253816008568,
          -0.0161991436034441,
          0.0017822475638240576,
          -0.02354002185165882,
          -0.00480847992002964,
          0.017675520852208138,
          0.001496882876381278,
          -0.018413709476590157,
          0.019425302743911743,
          -0.027969153597950935
        ]
      ]
    },
    {
      "slug": "func testSendToRouteAMP(ht *lntest.HarnessTest) {",
      "content": "func testSendToRouteAMP(ht *lntest.HarnessTest) {\n\tmts := newMppTestScenario(ht)\n\tconst (\n\t\tpaymentAmt = btcutil.Amount(300000)\n\t\tnumShards  = 3\n\t\tshardAmt   = paymentAmt / numShards\n\t\tchanAmt    = shardAmt * 3 / 2\n\t)\n\n\t// Subscribe to bob's invoices.\n\treq := &lnrpc.InvoiceSubscription{}\n\tbobInvoiceSubscription := mts.bob.RPC.SubscribeInvoices(req)\n\n\t// Set up a network with three different paths Alice <-> Bob.\n\t//              _ Eve _\n\t//             /       \\\n\t// Alice -- Carol ---- Bob\n\t//      \\              /\n\t//       \\__ Dave ____/\n\t///\n\tmppReq := &mppOpenChannelRequest{\n\t\t// Since the channel Alice-> Carol will have to carry two\n\t\t// shards, we make it larger.\n\t\tamtAliceCarol: chanAmt + shardAmt,\n\t\tamtAliceDave:  chanAmt,\n\t\tamtCarolBob:   chanAmt,\n\t\tamtCarolEve:   chanAmt,\n\t\tamtDaveBob:    chanAmt,\n\t\tamtEveBob:     chanAmt,\n\t}\n\tmts.openChannels(mppReq)\n\n\t// We'll send shards along three routes from Alice.\n\tsendRoutes := [numShards][]*node.HarnessNode{\n\t\t{mts.carol, mts.bob},\n\t\t{mts.dave, mts.bob},\n\t\t{mts.carol, mts.eve, mts.bob},\n\t}\n\n\tpayAddr := ht.Random32Bytes()\n\tsetID := ht.Random32Bytes()\n\n\tvar sharer amp.Sharer\n\tsharer, err := amp.NewSeedSharer()\n\trequire.NoError(ht, err)\n\n\tchildPreimages := make(map[lntypes.Preimage]uint32)\n\tresponses := make(chan *lnrpc.HTLCAttempt, len(sendRoutes))\n\n\t// Define a closure for sending each of the three shards.\n\tsendShard := func(i int, hops []*node.HarnessNode) {\n\t\t// Build a route for the specified hops.\n\t\tr := mts.buildRoute(shardAmt, mts.alice, hops)\n\n\t\t// Set the MPP records to indicate this is a payment shard.\n\t\thop := r.Hops[len(r.Hops)-1]\n\t\thop.TlvPayload = true\n\t\thop.MppRecord = &lnrpc.MPPRecord{\n\t\t\tPaymentAddr:  payAddr,\n\t\t\tTotalAmtMsat: int64(paymentAmt * 1000),\n\t\t}\n\n\t\tvar child *amp.Child\n\t\tif i < len(sendRoutes)-1 {\n\t\t\tvar left amp.Sharer\n\t\t\tleft, sharer, err = sharer.Split()\n\t\t\trequire.NoError(ht, err)\n\n\t\t\tchild = left.Child(uint32(i))\n\t\t} else {\n\t\t\tchild = sharer.Child(uint32(i))\n\t\t}\n\t\tchildPreimages[child.Preimage] = child.Index\n\n\t\thop.AmpRecord = &lnrpc.AMPRecord{\n\t\t\tRootShare:  child.Share[:],\n\t\t\tSetId:      setID,\n\t\t\tChildIndex: child.Index,\n\t\t}\n\n\t\t// Send the shard.\n\t\tsendReq := &routerrpc.SendToRouteRequest{\n\t\t\tPaymentHash: child.Hash[:],\n\t\t\tRoute:       r,\n\t\t}\n\n\t\t// We'll send all shards in their own goroutine, since\n\t\t// SendToRoute will block as long as the payment is in flight.\n\t\tgo func() {\n\t\t\tresp := mts.alice.RPC.SendToRouteV2(sendReq)\n\t\t\tresponses <- resp\n\t\t}()\n\t}\n\n\t// Send the first shard, this cause Bob to JIT add an invoice.\n\tsendShard(0, sendRoutes[0])\n\n\t// Ensure we get a notification of the invoice being added by Bob.\n\trpcInvoice, err := bobInvoiceSubscription.Recv()\n\trequire.NoError(ht, err)\n\n\trequire.False(ht, rpcInvoice.Settled)\n\trequire.Equal(ht, lnrpc.Invoice_OPEN, rpcInvoice.State)\n\trequire.Equal(ht, int64(0), rpcInvoice.AmtPaidSat)\n\trequire.Equal(ht, int64(0), rpcInvoice.AmtPaidMsat)\n\trequire.Equal(ht, payAddr, rpcInvoice.PaymentAddr)\n\n\trequire.Equal(ht, 0, len(rpcInvoice.Htlcs))\n\n\tsendShard(1, sendRoutes[1])\n\tsendShard(2, sendRoutes[2])\n\n\t// Assert that all of the child preimages are unique.\n\trequire.Equal(ht, len(sendRoutes), len(childPreimages))\n\n\t// Make a copy of the childPreimages map for validating the resulting\n\t// invoice.\n\tchildPreimagesCopy := make(map[lntypes.Preimage]uint32)\n\tfor preimage, childIndex := range childPreimages {\n\t\tchildPreimagesCopy[preimage] = childIndex\n\t}\n\n\t// Wait for all responses to be back, and check that they all\n\t// succeeded.\n\ttimer := time.After(defaultTimeout)\n\tfor range sendRoutes {\n\t\tvar resp *lnrpc.HTLCAttempt\n\t\tselect {\n\t\tcase resp = <-responses:\n\t\tcase <-timer:\n\t\t\trequire.Fail(ht, \"response not received\")\n\t\t}\n\n\t\trequire.Nil(ht, resp.Failure, \"received payment failure\")\n\n\t\tpreimage, err := lntypes.MakePreimage(resp.Preimage)\n\t\trequire.NoError(ht, err)\n\n\t\t// Assert that the response includes one of our child preimages.\n\t\t_, ok := childPreimages[preimage]\n\t\trequire.True(ht, ok)\n\n\t\t// Remove this preimage from out set so that we ensure all\n\t\t// responses have a unique child preimage.\n\t\tdelete(childPreimages, preimage)\n\t}\n\tchildPreimages = childPreimagesCopy\n\n\t// There should now be a settle event for the invoice.\n\trpcInvoice, err = bobInvoiceSubscription.Recv()\n\trequire.NoError(ht, err)\n\n\t// Also fetch Bob's invoice from ListInvoices and assert it is equal to\n\t// the one received via the subscription.\n\tinvoices := ht.AssertNumInvoices(mts.bob, 1)\n\tht.AssertInvoiceEqual(rpcInvoice, invoices[0])\n\n\t// Assert that the invoice is settled for the total payment amount and\n\t// has the correct payment address.\n\trequire.True(ht, rpcInvoice.Settled)\n\trequire.Equal(ht, lnrpc.Invoice_SETTLED, rpcInvoice.State)\n\trequire.Equal(ht, int64(paymentAmt), rpcInvoice.AmtPaidSat)\n\trequire.Equal(ht, int64(paymentAmt*1000), rpcInvoice.AmtPaidMsat)\n\trequire.Equal(ht, payAddr, rpcInvoice.PaymentAddr)\n\n\t// Finally, assert that the proper set id is recorded for each htlc, and\n\t// that the preimage hash pair is valid.\n\trequire.Equal(ht, numShards, len(rpcInvoice.Htlcs))\n\tfor _, htlc := range rpcInvoice.Htlcs {\n\t\trequire.NotNil(ht, htlc.Amp)\n\t\trequire.Equal(ht, setID, htlc.Amp.SetId)\n\n\t\t// Parse the child hash and child preimage, and assert they are\n\t\t// well-formed.\n\t\tchildHash, err := lntypes.MakeHash(htlc.Amp.Hash)\n\t\trequire.NoError(ht, err)\n\t\tchildPreimage, err := lntypes.MakePreimage(htlc.Amp.Preimage)\n\t\trequire.NoError(ht, err)\n\n\t\t// Assert that the preimage actually matches the hashes.\n\t\tvalidPreimage := childPreimage.Matches(childHash)\n\t\trequire.True(ht, validPreimage)\n\n\t\t// Assert that the HTLC includes one of our child preimages.\n\t\tchildIndex, ok := childPreimages[childPreimage]\n\t\trequire.True(ht, ok)\n\n\t\t// Assert that the correct child index is reflected.\n\t\trequire.Equal(ht, childIndex, htlc.Amp.ChildIndex)\n\n\t\t// Remove this preimage from our set so that we ensure all HTLCs\n\t\t// have a unique child preimage.\n\t\tdelete(childPreimages, childPreimage)\n\t}\n\n\t// Finally, close all channels.\n\tmts.closeChannels()\n}\n",
      "length": 5779,
      "tokens": 694,
      "embedding": [
        [
          0.028622882440686226,
          0.010081524960696697,
          -0.02001439407467842,
          0.013088414445519447,
          0.004466413054615259,
          0.013385724276304245,
          -0.00561173353344202,
          0.0192035473883152,
          -0.004084639251232147,
          -0.025284897536039352,
          0.021798256784677505,
          0.008054408244788647,
          -0.027839062735438347,
          -0.01952788606286049,
          0.03629889711737633,
          0.016662895679473877,
          0.0010684592416509986,
          0.007709798868745565,
          0.021325262263417244,
          -0.010642359964549541,
          -0.043758682906627655,
          0.006699619349092245,
          -0.007513844408094883,
          0.008594973012804985,
          0.0028396521229296923,
          0.009540960192680359,
          0.028217459097504616,
          -0.0235550906509161,
          -0.020649557933211327,
          -0.004267079755663872,
          0.01758185587823391,
          -0.027068758383393288,
          -0.0336231030523777,
          -0.008804441429674625,
          -0.015446625649929047,
          -0.02477136068046093,
          0.017798081040382385,
          -0.009845027700066566,
          -0.0008699707104824483,
          0.00560159794986248,
          0.013480323366820812,
          -0.005010355729609728,
          0.0029849286656826735,
          -0.019784655421972275,
          0.0028582338709384203,
          0.018690012395381927,
          0.004341407213360071,
          -0.041434258222579956,
          -0.006513800472021103,
          -0.01135185081511736,
          0.007270590402185917,
          -0.01714940369129181,
          -0.019690055400133133,
          0.014933089725673199,
          0.018460271880030632,
          0.011838358826935291,
          0.013635735027492046,
          0.007013822440057993,
          0.014284412376582623,
          0.013987102545797825,
          -0.002690996741876006,
          0.012257296591997147,
          -0.02558220736682415,
          0.009317977353930473,
          -0.009081481024622917,
          -0.019027864560484886,
          0.0076962849125266075,
          0.01594664715230465,
          -0.01843324303627014,
          -0.011737002991139889,
          0.015784477815032005,
          -0.009790971875190735,
          -0.0023919972591102123,
          -0.0009519000304862857,
          0.021082010120153427,
          -0.0398666188120842,
          -0.019298147410154343,
          -0.034217722713947296,
          -0.03035268746316433,
          0.012527578510344028,
          0.028974248096346855,
          0.011601862497627735,
          -0.011284280568361282,
          0.04765074700117111,
          0.021284719929099083,
          -0.014027644880115986,
          0.011074812151491642,
          0.021419862285256386,
          0.00796656683087349,
          0.011331579647958279,
          0.02037927508354187,
          -0.01714940369129181,
          -0.0024663247168064117,
          -0.0025828839279711246,
          -0.005608355160802603,
          -0.0033734592143446207,
          -0.017825109884142876,
          0.04105586186051369,
          -0.013878989033401012,
          -0.006422580219805241,
          -0.020487388595938683,
          -0.016243958845734596,
          0.004341407213360071,
          0.008000352419912815,
          -0.00224840990267694,
          0.00879768468439579,
          -0.01720345951616764,
          -0.017027776688337326,
          0.021027952432632446,
          -0.01201404258608818,
          0.016298014670610428,
          0.027501210570335388,
          -0.016527755185961723,
          0.010926156304776669,
          -0.01181808765977621,
          0.0053515867330133915,
          -0.012426222674548626,
          -0.015797993168234825,
          0.00979772862046957,
          -0.03805572912096977,
          0.010534247383475304,
          0.0192035473883152,
          0.015879077836871147,
          0.017744025215506554,
          0.013574921526014805,
          0.005753631703555584,
          -0.0147844348102808,
          -0.02601465955376625,
          0.00139533169567585,
          -0.009135537780821323,
          0.016892636194825172,
          0.029109390452504158,
          -0.0027991097886115313,
          0.016568297520279884,
          0.020636044442653656,
          0.02240639179944992,
          -0.023338865488767624,
          -0.0060712131671607494,
          -0.030082404613494873,
          -0.010040982626378536,
          -0.019460316747426987,
          0.025433551520109177,
          -0.01235865242779255,
          0.023419950157403946,
          -0.04759668931365013,
          0.018919751048088074,
          0.02359563298523426,
          0.02313615381717682,
          0.03075811080634594,
          -0.020581986755132675,
          0.010122067295014858,
          0.00039951084181666374,
          0.006179326213896275,
          -0.007676013745367527,
          -0.010277479887008667,
          0.03037971630692482,
          -0.008270634338259697,
          0.011257252655923367,
          0.03140678629279137,
          -0.01118292473256588,
          -0.02473081834614277,
          0.03770436346530914,
          -0.0009341627592220902,
          -0.01755482703447342,
          0.01679803617298603,
          0.02362266182899475,
          0.02310912497341633,
          -0.009304463863372803,
          0.005577948410063982,
          -0.025379495695233345,
          -0.010716687887907028,
          -0.01713589020073414,
          -0.054948363453149796,
          0.040136903524398804,
          0.002544031012803316,
          0.04221807420253754,
          0.006875302642583847,
          0.0003104021889157593,
          -0.006243518088012934,
          0.006584749557077885,
          0.024852445349097252,
          0.0036285382229834795,
          0.006605020724236965,
          0.04119100421667099,
          -0.016176387667655945,
          -0.014946604147553444,
          -0.009128780104219913,
          0.0063144671730697155,
          -0.0007914199959486723,
          -0.015054716728627682,
          0.015216886065900326,
          0.03197437897324562,
          -0.0199333094060421,
          -0.007838183082640171,
          -0.554402768611908,
          -0.017730509862303734,
          -0.00230077700689435,
          0.003381905611604452,
          0.019095435738563538,
          -0.003922469913959503,
          0.009101752191781998,
          0.01921706274151802,
          -0.036596205085515976,
          0.04548848792910576,
          -0.0055171349085867405,
          0.009770700708031654,
          0.026960646733641624,
          -0.0006440317374654114,
          0.0047704800963401794,
          -0.02004142291843891,
          0.0015769274905323982,
          -0.020595502108335495,
          -0.017433200031518936,
          0.007763855159282684,
          -0.02646062523126602,
          0.011054540984332561,
          -0.007094907108694315,
          0.0004225270531605929,
          0.005615111906081438,
          -0.03689351677894592,
          0.005824580788612366,
          -0.011655918322503567,
          0.030082404613494873,
          -0.021784743294119835,
          -0.02679847739636898,
          0.022311793640255928,
          0.01754131354391575,
          -0.0008437871583737433,
          0.06184056028723717,
          -0.00234300852753222,
          -0.02723092772066593,
          -0.012068098410964012,
          -0.025487609207630157,
          0.03586644306778908,
          -0.017473742365837097,
          -0.031758155673742294,
          0.005875258706510067,
          0.006054320372641087,
          0.04440736025571823,
          0.013878989033401012,
          0.028920192271471024,
          -0.030677026137709618,
          0.016216930001974106,
          0.007385460194200277,
          0.0002987884799949825,
          0.004071125295013189,
          0.0028633016627281904,
          0.007682770490646362,
          -0.007946295663714409,
          0.00012532224354799837,
          0.027379583567380905,
          -0.009230135940015316,
          0.002878505038097501,
          0.022230708971619606,
          -0.026257913559675217,
          0.003184261731803417,
          -0.022987497970461845,
          -0.011061297729611397,
          -0.004125181585550308,
          0.012905973941087723,
          -0.033406876027584076,
          0.026501167565584183,
          0.01335869636386633,
          0.006128648295998573,
          0.004787372890859842,
          0.0192035473883152,
          -0.02001439407467842,
          -0.027866091579198837,
          0.03192032501101494,
          0.019298147410154343,
          0.0013775944244116545,
          -0.004388706758618355,
          -0.019325174391269684,
          0.016135845333337784,
          -0.01020315196365118,
          -0.015108773484826088,
          -0.022203680127859116,
          -0.04397490993142128,
          0.02354157716035843,
          -0.013933045789599419,
          -0.008919311687350273,
          -0.0327581986784935,
          0.03440691903233528,
          0.0011520776897668839,
          0.014906061813235283,
          -0.013750605285167694,
          -0.0031893295235931873,
          -0.026447109878063202,
          0.019365716725587845,
          -0.011385636404156685,
          -0.00012595571752171963,
          0.03786653280258179,
          0.0034089337568730116,
          -0.03424474969506264,
          0.00979772862046957,
          0.02044684626162052,
          0.011358608491718769,
          -0.0038616564124822617,
          0.034947484731674194,
          0.010432891547679901,
          -0.0022348957136273384,
          -0.02924453094601631,
          0.030109433457255363,
          -0.03743407875299454,
          -0.024176739156246185,
          -0.008865254931151867,
          -0.0009282503160648048,
          -0.019419774413108826,
          -0.03878549113869667,
          -0.04475872591137886,
          0.022149624302983284,
          0.007047607563436031,
          0.017054805532097816,
          -0.029298586770892143,
          0.03121758997440338,
          0.007365189027041197,
          0.018230533227324486,
          -0.023784831166267395,
          0.018135933205485344,
          -0.0019983986858278513,
          0.003533939365297556,
          -0.005888772662729025,
          0.024852445349097252,
          0.009297706186771393,
          -0.0002358634228585288,
          -0.002319358754903078,
          0.04286675155162811,
          -0.01301408652216196,
          0.044110048562288284,
          -0.010851829312741756,
          0.03424474969506264,
          -0.011703218333423138,
          0.02710930071771145,
          -0.03302847966551781,
          0.007311132736504078,
          0.020284676924347878,
          0.01235865242779255,
          -0.014676322229206562,
          -0.006246896460652351,
          -0.020473875105381012,
          -0.023838886991143227,
          -0.016595324501395226,
          0.00045187800424173474,
          -0.00035601228591986,
          -0.0027872847858816385,
          0.0033143351320177317,
          -0.023838886991143227,
          -0.012595148757100105,
          -0.015108773484826088,
          -0.02792014740407467,
          0.026136286556720734,
          0.006415823008865118,
          -0.005561055615544319,
          -0.01801430620253086,
          0.010081524960696697,
          0.046948011964559555,
          -0.011453206650912762,
          0.01844675838947296,
          -0.02875802293419838,
          0.020581986755132675,
          0.0016512551810592413,
          0.02032521925866604,
          0.01683857850730419,
          -0.028893163427710533,
          -0.02151446044445038,
          -0.016906149685382843,
          -0.013547893613576889,
          0.03324470669031143,
          -0.022217193618416786,
          0.02435242384672165,
          0.006980036851018667,
          -0.020176563411951065,
          -0.006834760308265686,
          0.010696416720747948,
          0.0025017992593348026,
          0.01798727922141552,
          -0.0006313622579909861,
          0.024528106674551964,
          0.016216930001974106,
          0.018987322226166725,
          -0.008703085593879223,
          0.028163401409983635,
          -0.021311748772859573,
          0.026866046711802483,
          -0.02123066410422325,
          0.03200140967965126,
          0.006750297266989946,
          -0.008121979422867298,
          0.003441029926761985,
          0.005449564196169376,
          -0.0014291169354692101,
          0.014757406897842884,
          0.02077118493616581,
          0.006125269457697868,
          0.0011368744308128953,
          -0.03283928334712982,
          -0.00021305835980456322,
          -0.017838623374700546,
          0.008899040520191193,
          -0.031352732330560684,
          -0.010655874386429787,
          0.0028548554982990026,
          -0.0014476989163085818,
          0.01958194375038147,
          0.014743892475962639,
          -0.018541356548666954,
          -0.03283928334712982,
          -0.0066928621381521225,
          -0.006625291891396046,
          0.017460228875279427,
          -0.008790927939116955,
          -0.004794130101799965,
          0.020703613758087158,
          -0.02516327053308487,
          -0.01598718948662281,
          -0.0111626535654068,
          0.024541620165109634,
          0.009662587195634842,
          -0.02640656754374504,
          0.004615067970007658,
          0.01841972954571247,
          -0.006115133874118328,
          -0.012899216264486313,
          0.014027644880115986,
          -0.010088281705975533,
          0.03805572912096977,
          0.013264097273349762,
          0.01954140141606331,
          0.029379671439528465,
          0.00022593900212086737,
          -0.004915757104754448,
          0.005047519691288471,
          0.020081965252757072,
          -0.005682682618498802,
          0.009061209857463837,
          0.015108773484826088,
          0.02563626319169998,
          -0.014852005057036877,
          0.026244398206472397,
          0.005412400234490633,
          0.004003554582595825,
          0.01120319589972496,
          0.009155808947980404,
          -0.001940963789820671,
          0.00600702129304409,
          0.027406612411141396,
          -0.006145540624856949,
          0.004530604928731918,
          0.03324470669031143,
          -0.003719758242368698,
          -0.018230533227324486,
          0.009000396355986595,
          0.04648853465914726,
          0.008709843270480633,
          0.015797993168234825,
          0.037731390446424484,
          0.025690320879220963,
          -0.022068539634346962,
          0.009513932280242443,
          -0.02393348701298237,
          -0.005202931817620993,
          0.011142382398247719,
          -0.016216930001974106,
          -0.002878505038097501,
          0.020649557933211327,
          0.0018429865594953299,
          -0.009885570034384727,
          0.0035609675105661154,
          0.028541797772049904,
          0.0360826700925827,
          0.001636051805689931,
          0.009689616039395332,
          0.024676762521266937,
          -0.008480102755129337,
          -0.00977745745331049,
          -0.026501167565584183,
          0.018135933205485344,
          0.020514417439699173,
          -0.02802826091647148,
          -0.042920809239149094,
          0.016960205510258675,
          -0.0073989746160805225,
          -0.01559528149664402,
          -0.009351762942969799,
          -0.0010363631881773472,
          -0.011318066157400608,
          -0.010939670726656914,
          0.008959854021668434,
          -0.002050766022875905,
          0.01280461810529232,
          0.02873099409043789,
          0.015176343731582165,
          -0.0016292947111651301,
          -0.01713589020073414,
          -0.030541885644197464,
          0.02675793506205082,
          -0.051677949726581573,
          -0.014906061813235283,
          0.007878725416958332,
          -0.000821826746687293,
          -0.03994770348072052,
          -0.0366772897541523,
          0.01460875105112791,
          -0.003376837819814682,
          0.024217281490564346,
          0.00048481865087524056,
          -0.007892238907516003,
          0.009689616039395332,
          0.03632592409849167,
          -0.0007078014314174652,
          -0.01596016250550747,
          0.0050137341022491455,
          0.026866046711802483,
          0.0010617021471261978,
          -0.043001893907785416,
          -0.026866046711802483,
          -0.02283884398639202,
          0.008892283774912357,
          0.0035136681981384754,
          0.0376773327589035,
          0.004925892688333988,
          -0.0023919972591102123,
          -0.009905841201543808,
          -0.013878989033401012,
          -0.010088281705975533,
          -0.009399062022566795,
          -0.008696328848600388,
          -0.009926112368702888,
          0.007311132736504078,
          0.003567724721506238,
          -0.025487609207630157,
          -0.024068627506494522,
          0.015284456312656403,
          0.027298498898744583,
          -0.01237216591835022,
          -0.029028305783867836,
          0.030568912625312805,
          -0.018095390871167183,
          0.005804309621453285,
          -0.014500638470053673,
          -0.025406524538993835,
          0.0318932943046093,
          0.03308253735303879,
          -0.0017517663072794676,
          -0.011000484228134155,
          -0.007858454249799252,
          0.02433890849351883,
          -0.04229915887117386,
          0.0022990875877439976,
          -0.0006516334251500666,
          0.004219780210405588,
          -0.006077970378100872,
          -0.05757010355591774,
          -1.1607088708842639e-05,
          0.014514152891933918,
          -0.0027180251199752092,
          0.05438077077269554,
          -0.00012204929225845262,
          0.026163313537836075,
          -0.004689395427703857,
          0.00048735254677012563,
          -0.0007825513603165746,
          0.017798081040382385,
          -0.02635251171886921,
          0.0055069993250072,
          -0.015054716728627682,
          -0.003939362708479166,
          -0.00917607918381691,
          0.005520513281226158,
          -0.006780704017728567,
          -0.00479075126349926,
          0.0014493881026282907,
          0.019095435738563538,
          0.02792014740407467,
          -0.02123066410422325,
          0.010297751054167747,
          0.010439649224281311,
          -0.017095347866415977,
          -0.020298190414905548,
          -0.03716379776597023,
          0.001554967137053609,
          -0.026960646733641624,
          -0.026893075555562973,
          -0.013933045789599419,
          -0.03673134744167328,
          0.007040850352495909,
          -0.04151534289121628,
          -0.026244398206472397,
          -0.012696504592895508,
          0.0018615684239193797,
          -0.034217722713947296,
          -0.012149183079600334,
          0.0295688696205616,
          0.02677144855260849,
          0.012074856087565422,
          0.012135669589042664,
          0.0172440018504858,
          0.03635295107960701,
          0.00010214765643468127,
          -0.002190974773839116,
          0.002836273517459631,
          -0.006915844976902008,
          -0.01875758171081543,
          0.024528106674551964,
          0.03127164766192436,
          0.0021639466285705566,
          -0.016676409170031548,
          0.021041467785835266,
          -0.003294063964858651,
          0.00896661076694727,
          -0.02241990529000759,
          -0.034163665026426315,
          0.02044684626162052,
          0.002288952236995101,
          -0.004952920600771904,
          0.03386635705828667,
          -0.01518985815346241,
          0.004361678380519152,
          0.0009595017181709409,
          -0.022068539634346962,
          -0.039785534143447876,
          -0.004385328385978937,
          -0.016568297520279884,
          0.006577992346137762,
          0.01460875105112791,
          0.003615024033933878,
          -0.03043377213180065,
          -0.03786653280258179,
          0.015838535502552986,
          -0.01675749383866787,
          0.0036184026394039392,
          -0.003400487592443824,
          -0.009459875524044037,
          0.007054364774376154,
          -0.005273880902677774,
          0.006469879299402237,
          -0.03267711400985718,
          0.0012914419639855623,
          0.01723048835992813,
          0.015622309409081936,
          0.026676850393414497,
          -0.00877741351723671,
          -0.03762327879667282,
          0.0259470883756876,
          0.004243430215865374,
          -0.0020085342694073915,
          0.005993507336825132,
          0.02678496390581131,
          -0.02037927508354187,
          0.007912510074675083,
          0.013081656768918037,
          -0.031001364812254906,
          -0.022946955636143684,
          -0.04686692729592323,
          -0.029271559789776802,
          0.001912246341817081,
          0.0006803508731536567,
          0.032974425703287125,
          0.00040880177402868867,
          0.015122286975383759,
          -0.01596016250550747,
          0.008723356761038303,
          0.022987497970461845,
          -0.03473125770688057,
          -0.02835259959101677,
          0.0019950203131884336,
          0.02881207875907421,
          -0.002096376148983836,
          0.03524479642510414,
          -0.0058955298736691475,
          -0.01917652040719986,
          -0.006642184220254421,
          -0.013047872111201286,
          -0.030595941469073296,
          0.005588083993643522,
          0.004584661219269037,
          -0.02441999316215515,
          0.007763855159282684,
          0.026663336902856827,
          -0.014473610557615757,
          0.016473697498440742,
          0.012507307343184948,
          -0.0036825945135205984,
          0.0011419422226026654,
          -0.007338161114603281,
          -0.019460316747426987,
          -0.026095744222402573,
          -0.0235550906509161,
          0.0019274497171863914,
          -0.011878901161253452,
          0.006483393721282482,
          0.0044191135093569756,
          0.0009046006598509848,
          -0.0035373179707676172,
          -0.014676322229206562,
          0.016149358823895454,
          -0.016122331842780113,
          -0.0366772897541523,
          -0.014797949232161045,
          0.010872100479900837,
          -0.04040718451142311,
          0.002650454407557845,
          -0.03943416848778725,
          -0.019298147410154343,
          0.012155940756201744,
          -0.0031082448549568653,
          0.0039731478318572044,
          0.02682550437748432,
          0.048110224306583405,
          -0.018595412373542786,
          0.009804485365748405,
          0.015676366165280342,
          -0.0030643241479992867,
          0.019487343728542328,
          -0.020095478743314743,
          -0.039407141506671906,
          0.002174082212150097,
          0.007054364774376154,
          0.00419613067060709,
          0.020581986755132675,
          0.016608839854598045,
          -0.02077118493616581,
          -0.025298411026597023,
          -0.00981799978762865,
          -0.020081965252757072,
          0.00041218032129108906,
          -0.001750077004544437,
          -0.027095787227153778,
          -0.021811770275235176,
          -0.0431910902261734,
          0.015527710318565369,
          -0.013743848539888859,
          -0.00033616344444453716,
          -0.020054936408996582,
          -0.025447066873311996,
          0.0021960425656288862,
          -0.021825285628437996,
          -0.005243474151939154,
          0.005483349319547415,
          -0.020095478743314743,
          0.05670519918203354,
          0.011108596809208393,
          0.012473521754145622,
          -0.000883484841324389,
          -0.0038447638507932425,
          -0.013047872111201286,
          0.00039233145071193576,
          -0.02270370163023472,
          -0.001278772484511137,
          -0.007763855159282684,
          0.04189373552799225,
          0.03562318906188011,
          0.010122067295014858,
          -0.005348208360373974,
          0.004959677811712027,
          -0.014000616036355495,
          -0.018473785370588303,
          0.017716996371746063,
          0.030622970312833786,
          0.005104954354465008,
          -0.015108773484826088,
          0.000659657409414649,
          -0.0007175147184170783,
          0.04432627558708191,
          -0.005277259275317192,
          -0.022311793640255928,
          0.032596029341220856,
          -0.018879208713769913,
          -0.0063955518417060375,
          0.018149448558688164,
          -0.0037974645383656025,
          0.027703922241926193,
          -0.01713589020073414,
          0.0028143131639808416,
          0.023001013323664665,
          -0.009115266613662243,
          -0.0184062160551548,
          -0.003831249661743641,
          -0.00012204929225845262,
          0.032541971653699875,
          -0.00700706522911787,
          0.014743892475962639,
          0.01056803297251463,
          0.005800931248813868,
          -0.0036927300971001387,
          -0.0073178899474442005,
          0.0312986746430397,
          0.034217722713947296,
          -0.003167369170114398,
          0.003388662589713931,
          0.027028216049075127,
          0.01791970804333687,
          0.022636132314801216,
          -0.01882515288889408,
          0.01037207804620266,
          -0.027703922241926193,
          -0.014906061813235283,
          -0.01677100919187069,
          0.02554166503250599,
          -0.03519073873758316,
          0.01794673688709736,
          -0.0006993550923652947,
          0.008790927939116955,
          0.003283928381279111,
          -0.005284016486257315,
          -0.03167707100510597,
          0.03648809343576431,
          -0.018690012395381927,
          -0.0015009106136858463,
          -0.009919355623424053,
          -0.025365982204675674,
          0.006723268888890743,
          0.020149536430835724,
          -0.01919003389775753,
          0.008365233428776264,
          0.0239875428378582,
          -0.030460800975561142,
          0.008655786514282227,
          -0.0167439803481102,
          -0.017027776688337326,
          -0.016473697498440742,
          -0.0020946867298334837,
          -0.017419686540961266,
          -0.014081700704991817,
          0.014743892475962639,
          -0.005919179413467646,
          -0.020487388595938683,
          -0.04840753600001335,
          0.016270985826849937,
          0.011554562486708164,
          0.0004109133733436465,
          0.013372210785746574,
          -0.017365628853440285,
          0.004493440967053175,
          -0.001519492594525218,
          -0.02636602520942688,
          0.025757890194654465,
          0.015919620171189308,
          -0.01721697486937046,
          -0.00798683799803257,
          0.026190342381596565,
          0.003527182387188077,
          0.007135449443012476,
          0.014622265473008156,
          0.005729982163757086,
          -0.019338689744472504,
          0.0023109125904738903,
          -0.010081524960696697,
          0.029785094782710075,
          0.012669476680457592,
          -0.022879386320710182,
          -0.031352732330560684,
          -0.007446273695677519,
          -0.008101708255708218,
          -0.003713001264259219,
          -0.02677144855260849,
          -0.0036521877627819777,
          -0.0029359401669353247,
          0.004429249092936516,
          0.020095478743314743,
          0.027366070076823235,
          -0.023717259988188744,
          -0.007844939827919006,
          0.030163489282131195,
          0.012466765008866787,
          0.012095127254724503,
          -0.0029680361039936543,
          -0.05313747376203537,
          0.009101752191781998,
          0.040136903524398804,
          -0.00330082094296813,
          -0.0037298938259482384,
          -0.014716864563524723,
          -0.0003315179783385247,
          -0.061354052275419235,
          -0.013446537777781487,
          -0.031244618818163872,
          -0.004861700348556042,
          0.007811154704540968,
          0.016108816489577293,
          -0.012480279430747032,
          -0.00016945424431469291,
          0.01791970804333687,
          0.01179781649261713,
          -0.020054936408996582,
          -0.005050898063927889,
          0.02632548287510872,
          0.006040806416422129,
          0.006672590970993042,
          0.005121847148984671,
          -0.033379849046468735,
          -0.03324470669031143,
          0.049380552023649216,
          0.026217371225357056,
          -0.0024426751770079136,
          0.023365894332528114,
          0.0036589449737221003,
          -0.0375421941280365,
          -0.00033975313999690115,
          -0.008878769353032112,
          -0.016514239832758904,
          -0.04083963483572006,
          -0.0065171788446605206,
          -0.023028040304780006,
          -0.015257428400218487,
          0.02113606594502926,
          0.0020727263763546944,
          -0.024190254509449005,
          -0.019649513065814972,
          0.022190166637301445,
          0.023757802322506905,
          -0.001836229464970529,
          -0.013960073702037334,
          -0.028163401409983635,
          -0.019298147410154343,
          -0.004773858934640884,
          0.018973808735609055,
          -0.002991685876622796,
          0.0163115281611681,
          0.028244486078619957,
          0.03305551037192345,
          0.007811154704540968,
          0.002114957896992564,
          0.007588171865791082,
          -0.025082185864448547,
          -0.03648809343576431,
          0.00650704326108098,
          0.003160612192004919,
          0.005574569571763277,
          0.01321004144847393,
          -0.02114957943558693,
          0.016257472336292267,
          -0.020906325429677963,
          -0.008419289253652096,
          -0.018865695223212242,
          -0.013669520616531372,
          0.011737002991139889,
          -0.018068363890051842,
          -0.015541224740445614,
          0.00640230905264616,
          -0.015392569825053215,
          0.015703393146395683,
          0.00461168959736824,
          -0.02151446044445038,
          0.03040674328804016,
          0.007648985367268324,
          0.024595677852630615,
          -0.012730290181934834,
          -0.008899040520191193,
          -0.015216886065900326,
          -0.027839062735438347,
          -0.013581679202616215,
          -0.018271075561642647,
          -0.045434433966875076,
          0.19514372944831848,
          -0.005588083993643522,
          -0.020527930930256844,
          0.007067878730595112,
          -0.008912554942071438,
          0.002283884445205331,
          -0.009507175534963608,
          0.02324426732957363,
          0.015852048993110657,
          0.029109390452504158,
          -0.0064124446362257,
          0.011439693160355091,
          -0.005659033078700304,
          0.008716600015759468,
          0.0017382522346451879,
          0.013122199103236198,
          -0.02033873274922371,
          -0.006375280674546957,
          -0.013851961120963097,
          -0.005047519691288471,
          0.004702909849584103,
          0.006449608132243156,
          0.01871703937649727,
          -0.027730951085686684,
          -0.011054540984332561,
          -0.02193339727818966,
          0.003655566368252039,
          -0.006341495551168919,
          0.020054936408996582,
          0.03519073873758316,
          -0.0247173048555851,
          -0.006885438226163387,
          -0.00458128284662962,
          -0.009554474614560604,
          0.010824800468981266,
          -0.002430850174278021,
          0.006469879299402237,
          0.008534159511327744,
          0.028866136446595192,
          0.015243913978338242,
          0.031055420637130737,
          0.019838711246848106,
          0.013405995443463326,
          0.018946779891848564,
          0.008000352419912815,
          0.004033961333334446,
          0.012189725413918495,
          0.0035238037817180157,
          0.013574921526014805,
          0.022892899811267853,
          -0.028055289760231972,
          0.020892811939120293,
          0.018298102542757988,
          0.021325262263417244,
          -0.005537406075745821,
          -0.009892327710986137,
          0.03154192864894867,
          0.017406171187758446,
          -0.011135625652968884,
          0.0077908835373818874,
          -0.0022990875877439976,
          -0.0031639905646443367,
          0.002040630439296365,
          0.031433816999197006,
          -0.012439737096428871,
          0.03627186641097069,
          -0.0017298058373853564,
          -0.020879298448562622,
          0.018217017874121666,
          -0.020703613758087158,
          0.03446097671985626,
          -0.044137079268693924,
          0.013176255859434605,
          -0.02470378950238228,
          0.013284368440508842,
          -0.03270414099097252,
          0.015500682406127453,
          0.00896661076694727,
          0.011358608491718769,
          0.019879253581166267,
          -0.009338248521089554,
          0.003625159617513418,
          0.011703218333423138,
          -0.00468601705506444,
          0.002138607669621706,
          -0.014000616036355495,
          0.024879474192857742,
          0.011385636404156685,
          0.034974511712789536,
          0.006270546466112137,
          -0.00010452318383613601,
          -0.004304243717342615,
          -0.017325086519122124,
          0.00519617460668087,
          -0.013061385601758957,
          -0.0029207367915660143,
          0.03905577212572098,
          -0.022555047646164894,
          -0.015365540981292725,
          -0.007885482162237167,
          -0.0114126643165946,
          0.024960558861494064,
          0.005061033647507429,
          -0.028514768928289413,
          -0.011615375988185406,
          -0.027312012389302254,
          0.011000484228134155,
          0.011689703911542892,
          -0.0016444980865344405,
          -0.05584029480814934,
          -0.010250451043248177,
          -0.06119188293814659,
          -0.014365497045218945,
          -0.008365233428776264,
          0.01836567372083664,
          0.006588127929717302,
          0.0026589008048176765,
          0.02110903710126877,
          -0.017014263197779655,
          0.01712237484753132,
          -0.020622529089450836,
          -0.0064901504665613174,
          -0.004067746456712484,
          0.011966743506491184,
          -0.001790619338862598,
          0.010750473476946354,
          -0.02631196938455105,
          -0.018960293382406235,
          0.024649733677506447,
          -0.020163049921393394,
          0.015135801397264004,
          0.01804133504629135,
          0.022244222462177277,
          -0.022541532292962074,
          -0.006459743715822697,
          0.010932913981378078,
          0.040920719504356384,
          -0.0018666362157091498,
          -0.036163754761219025,
          0.021838799118995667,
          0.032136548310518265,
          0.015838535502552986,
          0.02755526639521122,
          -0.02364969067275524,
          0.006953008938580751,
          -0.02117660827934742,
          0.0271768718957901,
          -0.003015335416421294,
          -0.005736738909035921,
          -0.026960646733641624,
          -0.024947043508291245,
          -0.00821657758206129,
          -0.02004142291843891,
          0.01594664715230465,
          -0.0005566123290918767,
          -0.022987497970461845,
          -0.022690188139677048,
          -0.04308297857642174,
          0.032920368015766144,
          -0.026893075555562973,
          -0.03002834878861904,
          0.019014351069927216,
          0.004777237307280302,
          0.009649073705077171,
          -0.03873143345117569,
          -0.025271382182836533,
          -0.16616947948932648,
          -0.0048515647649765015,
          0.04205590486526489,
          0.003486640052869916,
          0.01720345951616764,
          0.006300953216850758,
          0.04586688429117203,
          -0.011459964327514172,
          -0.028514768928289413,
          0.018217017874121666,
          0.03605564311146736,
          -0.024865958839654922,
          0.016095302999019623,
          -0.005040762480348349,
          0.006520557217299938,
          -0.011622133664786816,
          -0.003929227124899626,
          0.009858542121946812,
          0.03954228013753891,
          0.008250363171100616,
          0.024852445349097252,
          -0.04113694652915001,
          0.03075811080634594,
          0.009845027700066566,
          -0.013264097273349762,
          -0.0065306928008794785,
          -0.01441955380141735,
          0.00860172975808382,
          -0.008236848749220371,
          -0.025866003707051277,
          -0.040920719504356384,
          0.02513624168932438,
          -0.0030592563562095165,
          -0.013128956779837608,
          0.027393097057938576,
          0.014743892475962639,
          0.02317669615149498,
          -0.006030670832842588,
          0.01281813159584999,
          0.03810978680849075,
          0.0005329626728780568,
          0.005409021861851215,
          -0.0074935732409358025,
          0.012047827243804932,
          -0.026217371225357056,
          0.012737046927213669,
          0.009804485365748405,
          -0.0012492104433476925,
          -0.0021943533793091774,
          0.0015178032917901874,
          0.03513668105006218,
          -0.016581811010837555,
          -0.007811154704540968,
          0.03724488243460655,
          0.011209952645003796,
          -0.00431100046262145,
          -0.022960470989346504,
          0.01276407577097416,
          -0.013311397284269333,
          -0.022190166637301445,
          -0.015757450833916664,
          -0.009743671864271164,
          -0.0067334044724702835,
          -0.008838227018713951,
          0.0009611909626983106,
          -0.030514856800436974,
          -0.016649382188916206,
          -0.002631872659549117,
          -0.026893075555562973,
          0.005510377697646618,
          -0.02364969067275524,
          -0.02359563298523426,
          0.004327893257141113,
          -0.05316450446844101,
          0.0518941767513752,
          0.0291364174336195,
          -0.005297530442476273,
          0.028055289760231972,
          0.010263965465128422,
          0.000733562686946243,
          -0.014649293385446072,
          0.05073196440935135,
          -0.008149007335305214,
          0.01793322153389454,
          0.012966787442564964,
          0.00419613067060709,
          -0.0039596338756382465,
          0.003074459731578827,
          0.023392921313643456,
          -0.008899040520191193,
          0.006787460763007402,
          -0.01837918721139431,
          0.0026605899911373854,
          -0.016527755185961723,
          0.01714940369129181,
          -0.01635207049548626,
          0.011547805741429329,
          -0.012237025424838066,
          0.01951437257230282,
          -0.015703393146395683,
          -0.009784214198589325,
          0.008067922666668892,
          -0.0073989746160805225,
          0.01239919476211071,
          0.012642448768019676,
          0.014811462722718716,
          0.014879032969474792,
          0.028217459097504616,
          0.00041133566992357373,
          0.008534159511327744,
          -0.015487167984247208,
          -0.0025423415936529636,
          0.052191488444805145,
          0.020690100267529488,
          0.010351806879043579,
          0.014797949232161045,
          0.02359563298523426,
          -0.01794673688709736,
          -0.0009155808365903795,
          0.008784170262515545,
          0.0559484101831913,
          0.009709887206554413,
          0.0020423196256160736,
          0.00620635412633419,
          -0.006294196005910635,
          0.004189373459666967,
          -0.10022062808275223,
          -0.012480279430747032,
          0.0022348957136273384,
          0.05465105548501015,
          -0.01843324303627014,
          -0.002498420886695385,
          -0.018703525885939598,
          0.028082316741347313,
          -0.011696460656821728,
          0.0375421941280365,
          -0.032947394996881485,
          -0.03670431673526764,
          -0.0029798608738929033,
          0.01160861924290657,
          -0.005263745319098234,
          -0.031028393656015396,
          -0.015743935480713844,
          -0.004375192802399397,
          0.00225347769446671,
          0.05227257311344147,
          -0.010385592468082905,
          -0.020284676924347878,
          0.0032163579016923904,
          -0.04302892088890076,
          0.00014031445607542992,
          -0.007703041657805443,
          -0.006145540624856949,
          0.020284676924347878,
          -0.012068098410964012,
          0.015919620171189308,
          0.0009029113571159542,
          0.003750164993107319,
          0.024487564340233803,
          -0.002452810760587454,
          0.01758185587823391,
          -0.031109478324651718,
          -0.007953052408993244,
          0.008473346009850502,
          0.029406700283288956,
          -0.00917607918381691,
          0.018676497042179108,
          0.05146172642707825,
          0.004604932386428118,
          -0.018568385392427444,
          -0.007993594743311405,
          -0.02797420509159565,
          -0.037731390446424484,
          0.024474050849676132,
          0.007831425406038761,
          -0.004317757673561573,
          -0.018703525885939598,
          0.01802782155573368,
          0.0004244274750817567,
          0.0035204251762479544,
          0.015095259062945843,
          -0.01337896753102541,
          0.0191359780728817,
          0.030568912625312805,
          -0.009865298867225647,
          -0.024460535496473312,
          -0.014351983554661274,
          0.001150388503447175,
          0.007811154704540968,
          0.011885658837854862,
          -0.004226537421345711,
          0.024501077830791473,
          -0.03670431673526764,
          -0.02563626319169998,
          0.012547849677503109,
          -0.023811860010027885,
          -0.02878505177795887,
          0.04081260785460472,
          0.008743627928197384,
          0.00229570921510458,
          -0.020473875105381012,
          0.027379583567380905,
          -0.01597367599606514,
          -0.020595502108335495,
          0.029325615614652634,
          0.007824668660759926,
          -0.025311924517154694,
          -0.032920368015766144,
          -0.00024684364325366914,
          -0.02631196938455105,
          0.010905885137617588,
          -0.005800931248813868,
          -0.02044684626162052,
          0.012081612832844257,
          -0.005061033647507429,
          -0.04348840191960335,
          0.018865695223212242,
          0.024271339178085327,
          0.006010399665683508,
          0.023433463647961617,
          -0.01337896753102541,
          0.0033582558389753103,
          -0.008824712596833706,
          0.00567592540755868,
          0.004750208929181099,
          -0.02075767144560814,
          -0.031082449480891228,
          0.0050948187708854675,
          -0.05165092274546623,
          0.02674442157149315,
          0.005939450580626726,
          -0.007763855159282684,
          -0.029082361608743668,
          0.024960558861494064,
          0.0060712131671607494,
          -0.03683945909142494,
          0.004236673004925251,
          0.015892591327428818,
          -0.018960293382406235,
          0.01793322153389454,
          0.0008230936946347356,
          -0.008020623587071896,
          -0.00042780599324032664,
          -0.010953185148537159,
          0.004618446342647076,
          -0.030109433457255363,
          -0.006588127929717302,
          0.033352818340063095,
          0.0033548774663358927,
          -0.011845116503536701,
          -0.015919620171189308,
          0.022217193618416786,
          0.011737002991139889,
          -0.009953141212463379,
          -0.011574833653867245,
          0.00939230527728796,
          0.00458128284662962,
          0.0092031080275774,
          0.02597411721944809,
          -0.007723312824964523,
          -0.01597367599606514,
          0.025744376704096794,
          0.008885526098310947,
          -0.001498376834206283,
          -0.002131850691512227,
          0.008209820836782455,
          0.016189901158213615,
          -0.004118424374610186,
          -0.012115398421883583,
          -0.0033447418827563524,
          -0.019717084243893623,
          -0.03316362202167511,
          -0.015406083315610886,
          -0.01401413045823574,
          0.009230135940015316,
          0.021879341453313828,
          0.00468601705506444,
          0.017514284700155258,
          0.011230223812162876,
          0.023095611482858658,
          -0.008061165921390057,
          -0.010149095207452774,
          -0.031055420637130737,
          0.013696548528969288,
          -0.004327893257141113,
          -0.003241696860641241,
          0.01871703937649727,
          -0.015406083315610886,
          0.031433816999197006,
          0.03562318906188011,
          0.04959677904844284,
          -0.020609015598893166,
          0.00039761041989549994,
          0.0024832175113260746,
          -0.029298586770892143,
          0.007128692232072353,
          -0.0010177813237532973,
          -0.053380727767944336,
          -0.009135537780821323,
          -0.0058955298736691475,
          -0.00028358513372950256,
          0.008054408244788647,
          -0.019433287903666496,
          0.019811682403087616,
          -0.005256988108158112,
          -0.011770788580179214,
          -0.014960117638111115,
          0.0021521218586713076,
          0.023095611482858658,
          -0.020081965252757072,
          -0.012541092932224274,
          0.025757890194654465,
          -0.01237216591835022,
          0.015689879655838013,
          0.0021656358148902655,
          0.012595148757100105,
          -0.031001364812254906,
          -0.031055420637130737,
          -0.038082756102085114,
          -0.0013970209984108806,
          0.016676409170031548,
          0.005142118316143751,
          0.005804309621453285,
          0.03592050075531006,
          0.010155852884054184,
          0.010730202309787273,
          0.03994770348072052,
          0.0027872847858816385,
          0.009736915118992329,
          0.009784214198589325,
          -0.008689572103321552,
          -0.00025444533093832433,
          0.0032163579016923904,
          -0.0005456321523524821,
          -0.03424474969506264,
          -0.020095478743314743,
          -0.008034137077629566,
          -0.003255210816860199,
          0.004060989711433649,
          -0.014149271883070469,
          0.008844983763992786,
          0.019406259059906006,
          -0.031785182654857635,
          0.011737002991139889,
          -0.016243958845734596,
          -0.008385504595935345,
          -0.0211630929261446,
          0.024203768000006676,
          0.0018480543512851,
          -0.0046758814714848995,
          0.03465017303824425,
          0.024271339178085327,
          0.01960897073149681,
          0.004202887881547213,
          -0.01671695150434971,
          -0.0028514768928289413,
          0.0014755717711523175,
          -0.0015760828973725438,
          0.019703570753335953,
          0.005851609166711569,
          -0.048975128680467606,
          -0.014527666382491589,
          -0.006794217973947525,
          -2.8479928005253896e-05,
          -0.027312012389302254,
          0.025338953360915184,
          -0.022609103471040726,
          0.04432627558708191,
          -0.00093585200374946,
          -0.041001804172992706,
          -0.01320328377187252,
          0.006027292460203171,
          0.020865783095359802,
          -0.004952920600771904,
          -0.02723092772066593,
          0.003993418999016285,
          -0.045758772641420364,
          -0.010284236632287502,
          0.012723533436655998,
          0.013635735027492046,
          -0.044191133230924606,
          -0.006240139715373516,
          -0.0033481204882264137,
          0.005925936624407768,
          0.04156939685344696,
          0.0034731258638203144,
          -0.030136462301015854,
          0.03237980231642723,
          -0.0015254049794748425,
          0.012081612832844257,
          0.0023261159658432007,
          -0.020541444420814514,
          0.008959854021668434,
          0.01996033824980259,
          0.00919635035097599,
          0.021879341453313828,
          -0.030866224318742752,
          -0.00649690767750144,
          -0.012500550597906113,
          -0.02832557074725628,
          -0.026622794568538666,
          -0.019433287903666496,
          -0.014176299795508385,
          0.003038985189050436,
          -0.022987497970461845,
          0.0439208522439003,
          0.003871791996061802,
          -0.019784655421972275,
          -0.006736782845109701,
          -0.024109169840812683,
          -0.02592005953192711,
          0.02510921284556389,
          -0.00043751925113610923,
          -0.029785094782710075,
          -0.0027906633913517,
          -0.03465017303824425
        ]
      ]
    }
  ]
}