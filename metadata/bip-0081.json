{
  "BIP": "81",
  "Title": "Hierarchy for Colored Voting Pool Deterministic Multisig Wallets",
  "Author": "Justus Ranvier <justus@opentransactions.org>",
  "Comments-Summary": "No comments yet.",
  "Comments-URI": "https://github.com/bitcoin/bips/wiki/Comments:BIP-0081",
  "Status": "Deferred",
  "Type": "Informational",
  "Created": "2014-08-11",
  "License": "PD",
  "sections": [
    {
      "header": "Abstract",
      "content": "This BIP defines a logical hierarchy for colored coin voting pool\ndeterministic multisig wallets based on an algorithm described in\nBIP-0032 (BIP32 from now on) and purpose scheme described in BIP-0043\n(BIP43 from now on).\n\nThis BIP is a particular application of BIP43 and is based on BIP44."
    },
    {
      "header": "Motivation",
      "content": "The hierarchy proposed in this paper allows the handling of multiple\ncolor definitions from a single seed."
    },
    {
      "header": "Path levels {#path_levels}",
      "content": "We define the following 8 levels in BIP32 path:\n\nm / purpose' / series' / (5 color definition levels) / address_index\n\nApostrophe in the path indicates that BIP32 hardened derivation is used.\n\nEach level has a special meaning, described in the chapters below."
    },
    {
      "header": "Purpose",
      "content": "Purpose is a constant set following the BIP43 recommendation to: the\nASCII value of \\\"81\\\" with the most signifigant bit set to indicate\nhardened derivation (0x80000051). It indicates that the subtree of this\nnode is used according to this specification.\n\nHardened derivation is used at this level."
    },
    {
      "header": "Color Definition {#color_definition}",
      "content": "Index values which can be applied to a BIP32 node are limited to 4 bytes\n(32 bits).\n\nSince this is not sufficient to identify color definitions without a\nrisk of collision, multiple levels are used.\n\nColor definitions are first shortened to 20 bytes using the Bitcoin\nhash160 function.\n\nThe resulting 20 bytes are split into five groups in little endian\nformat, and where each group is used as the seed for the five levels of\ncolor definition levels\n\nPublic derivation is used at these levels, even when the index exceeds\n2\\^31."
    },
    {
      "header": "Index",
      "content": "Public/private keypairs are numbered from index 0 in sequentially\nincreasing manner. This number is used as child index in BIP32\nderivation.\n\nPublic keys obtained at this level of the hierarchy are used to\nconstruct multisig deposit scripts, using a schema that is shared\nbetween the members as an out-of-band contract.\n\nPublic derivation is used at this level."
    },
    {
      "header": "Compatible wallets {#compatible_wallets}",
      "content": "-   [btcwallet](https://github.com/btcsuite/btcwallet \"wikilink\") is the\nreference Bitcoin wallet for voting pools."
    },
    {
      "header": "Copyright",
      "content": "This document is placed in the public domain."
    },
    {
      "header": "Reference",
      "content": "-   [BIP32 - Hierarchical Deterministic\nWallets](bip-0032.mediawiki \"wikilink\")\n-   [BIP43 - Purpose Field for Deterministic\nWallets](bip-0043.mediawiki \"wikilink\")\n-   [BIP44 - Multi-Account Hierarchy for Deterministic\nWallets](bip-0044.mediawiki \"wikilink\")\n-   [BIP80 - Hierarchy for Non-Colored Voting Pool Deterministic\nMultisig Wallets](bip-0080.mediawiki \"wikilink\")"
    }
  ]
}